comment: Multisite view
icon: bar-chart
iconPosition: start
preloadPriority: high
scriptContent: 
  - xmlizable: 
    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
    - com.twinsoft.convertigo.beans.common.FormatedContent: 
      →: |
        '/*Begin_c8o_PageImport*/
        /*End_c8o_PageImport*/
        /*Begin_c8o_PageDeclaration*/
        	public date_start = "2022-11-01";
        	public date_end = "2022-12-01"
        	public selectAll = false;
        	public syntheseSelected = ''global'';
        	public groupChecked = false;
        	public hideMenu = false;
        	public menuCtrl;
        	/*End_c8o_PageDeclaration*/
        /*Begin_c8o_PageConstructor*/
        		this.local.grps = {};
        		this.menuCtrl = menuCtrl;
        		// this.menuCtrl.enable(true, ''Menu'')
        		// this.menuCtrl.enable(true, ''menuGroup'')
        		
        		window[''win''] = this;
        		/*End_c8o_PageConstructor*/
        /*Begin_c8o_PageFunction*/
        	getWeekDate() {
        		var today = new Date();
        		var todayWeekMonth = today.getMonth() + 1;
        		var todayWeekDay = today.getDate();
        		var todayWeekYear = today.getFullYear();
        		
          		var lastWeek = new Date(today.getFullYear(), today.getMonth(), today.getDate() - 14);
          		
          		var lastWeekMonth = lastWeek.getMonth() + 1;
        		var lastWeekDay = lastWeek.getDate();
        		var lastWeekYear = lastWeek.getFullYear();
        
        		var lastWeekDisplayPadded = ("0000" + lastWeekYear.toString()).slice(-4) + "-" + ("00" + lastWeekMonth.toString()).slice(-2) + "-" + ("00" + lastWeekDay.toString()).slice(-2);
        		var todayWeekDisplayPadded = ("0000" + todayWeekYear.toString()).slice(-4) + "-" + ("00" + todayWeekMonth.toString()).slice(-2) + "-" + ("00" + todayWeekDay.toString()).slice(-2);
        		var dates = {
        			date_start: lastWeekDisplayPadded,
        			date_end: todayWeekDisplayPadded
        		}
        		
        		return dates;
        	}
        	
        	getParentGroupStatus(groupName) {
        			console.log("getParentStatus")
        		var el = document.getElementById(groupName)
        		// var shadow = el.shadowRoot
        //		if(shadow.childNodes[2] != undefined) {
        //			var check = shadow.childNodes[2][''attributes''][1][''nodeValue'']
        //			if(check == "true") {
        //				return true
        //			} else {
        //				return false
        //			}
        //		}
        		var checked = el.getAttribute("aria-checked");
        		return checked;
        
        		
        
        		
        	}
        	/*End_c8o_PageFunction*/
        '
segment: multisite
title: Multisite
↓UseSharedComponent [ngx.components.UIUseShared-1669821788815]: 
  sharedcomponent: poc_energisme.Application.NgxApp.header
  ↓username [ngx.components.UIUseVariable-1669821844264]: 
    varValue: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
        - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.username","prefix":"","suffix":"","custom":"","useCustom":false}}
  ↓title [ngx.components.UIUseVariable-1672319882006]: 
    varValue: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
        - MobileSmartSourceType: script:'Vision Multisite'
↓Content [ngx.components.UIDynamicElement-1489674805352]: 
  beanData: '{"ionBean":"Content"}'
  comment: Page content
  tagName: ion-content
  ↓Grid [ngx.components.UIDynamicElement-1667818587533]: 
    beanData: '{"ionBean":"Grid"}'
    tagName: ion-grid
    ↓Directive [ngx.components.UIControlDirective-1673622652807]: 
      directiveName: If
      directiveSource: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
          - MobileSmartSourceType: script:this.local['sitesToCall'] != undefined && this.local['sitesToCall'].length == 0
      isEnabled: false
      ↓GridRow [ngx.components.UIDynamicElement-1673622682683]: 
        beanData: '{"ionBean":"GridRow","Height":"plain"}'
        tagName: ion-row
        ↓GridCol [ngx.components.UIDynamicElement-1673622682685]: 
          beanData: '{"ionBean":"GridCol"}'
          tagName: ion-col
          ↓CardContainer [ngx.components.UIDynamicElement-1673622846325]: 
            beanData: '{"ionBean":"Card"}'
            tagName: ion-card
            ↓CardContent [ngx.components.UIDynamicElement-1673622846343]: 
              beanData: '{"ionBean":"CardContent"}'
              tagName: ion-card-content
              ↓TextItem [ngx.components.UIDynamicElement-1673622846345]: 
                beanData: '{"ionBean":"TextItem"}'
                tagName: ion-text
                ↓Text [ngx.components.UIText-1673622846347]: 
                  textValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: plain:Sélectionnez au moins un groupe pour afficher des données
            ↓Style [ngx.components.UIStyle-1673622885178]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      '/**
                       * Custom properties (sometimes referred to as CSS variables or cascading variables)
                       * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                       * They are set using custom property notation, e.g.: --main-color: black;
                       * and are accessed using the var() function, e.g.: color: var(--main-color);
                       * You can find below your component''s properties you can customize within the page.
                       * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                       * For more informations see https://ionicframework.com/docs/theming.
                      **/
                      //--background	//Background of the card
                      //--color	//Color of the card
                      --background: #ffc409;
                      '
    ↓rowTogglerPeriodeLiee [ngx.components.UIDynamicElement-1671704051285]: 
      beanData: '{"ionBean":"GridRow","Height":"plain"}'
      isEnabled: false
      tagName: ion-row
      ↓colSelect [ngx.components.UIDynamicElement-1673862177647]: 
        beanData: '{"ionBean":"GridCol","Size":"plain:2"}'
        tagName: ion-col
        ↓SelectContainer [ngx.components.UIDynamicElement-1673862194355]: 
          beanData: |
            '{
             "ionBean": "Select",
             "ControlName": "plain:name1673862194355",
             "Interface": "plain:popover"
            }'
          tagName: ion-select
          ↓SyntheseGlobale [ngx.components.UIDynamicElement-1673862308403]: 
            beanData: '{"ionBean":"SelectOption","Value":"plain:global"}'
            tagName: ion-select-option
            ↓Text [ngx.components.UIText-1673862250883]: 
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:Synthèse globale
          ↓Electricite [ngx.components.UIDynamicElement-1673862344654]: 
            beanData: '{"ionBean":"SelectOption","Value":"plain:elec"}'
            tagName: ion-select-option
            ↓Text [ngx.components.UIText-1673862344657]: 
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:Electricité
          ↓GazNaturel [ngx.components.UIDynamicElement-1673862367999]: 
            beanData: '{"ionBean":"SelectOption","Value":"plain:gaz"}'
            tagName: ion-select-option
            ↓Text [ngx.components.UIText-1673862368002]: 
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:Gaz naturel
          ↓Attr [ngx.components.UIAttribute-1673862461674]: 
            attrName: '[(ngModel)]'
            attrValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:this.syntheseSelected
          ↓Event [ngx.components.UIControlEvent-1673874550937]: 
            attrName: (ionChange)
            eventName: ionChange
            ↓IfElse [ngx.components.UIDynamicIf-1673874692203]: 
              beanData: '{"ionBean":"IfElseAction","condition":"script:this.local[''sitesToCall''].length != 0"}'
              ↓updateParams [ngx.components.UICustomAction-1673874579718]: 
                actionValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                      →: |
                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                        		console.log("update params")
                        		page.global[''sequenceParams''] = {
                        			date_start: page.global[''date_start''],
                        			date_end: page.global[''date_end''],
                        			sites: JSON.stringify(page.local[''sitesToCall'']),
                        			agg_function: ''month'',
                        			label: '''',
                        			synthese: page.syntheseSelected
                        		}
                        		resolve();
                        '
              ↓Else_Handler [ngx.components.UIActionElseEvent-1673874721616]: 
                ↓Toast [ngx.components.UIDynamicAction-1673874733269]: 
                  beanData: |
                    '{
                     "ionBean": "ToastAction",
                     "message": "plain:Veuillez sélectionner au moins un groupe",
                     "position": "plain:top"
                    }'
      ↓colToggleButton [ngx.components.UIDynamicElement-1671704051287]: 
        beanData: '{"ionBean":"GridCol"}'
        tagName: ion-col
        ↓Label [ngx.components.UIDynamicElement-1671704051289]: 
          beanData: '{"ionBean":"Label"}'
          tagName: ion-label
          ↓Text [ngx.components.UIText-1671704051291]: 
            textValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: plain:Lier les périodes de widgets
        ↓ToggleButton [ngx.components.UIDynamicElement-1671704079900]: 
          beanData: '{"ionBean":"Toggle","ControlName":"plain:toggleLinkDate"}'
          tagName: ion-toggle
          ↓Event [ngx.components.UIControlEvent-1671704104311]: 
            attrName: (ionChange)
            eventName: ionChange
            ↓SetGlobal [ngx.components.UIDynamicAction-1671704534864]: 
              beanData: |
                '{
                 "ionBean": "SetGlobalAction",
                 "Property": "plain:linkDates",
                 "Value": "script:parent.out.detail.checked"
                }'
              ↓CustomAction [ngx.components.UICustomAction-1671704637809]: 
                actionValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                      →: |
                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                        		console.log(event)
                        		console.log(this.global[''linkDates''])
                        		 // this.global[''date_start''] = ''2022-12-01''
                        		// this.global[''date_end''] = ''2022-12-31''
                        		resolve();
                        '
    ↓rowShowHideMenu [ngx.components.UIDynamicElement-1676295802258]: 
      beanData: '{"ionBean":"GridRow","Height":"plain"}'
      isEnabled: false
      tagName: ion-row
      ↓GridCol [ngx.components.UIDynamicElement-1676295802260]: 
        beanData: '{"ionBean":"GridCol"}'
        tagName: ion-col
        ↓Button [ngx.components.UIDynamicElement-1676294552773]: 
          beanData: '{"ionBean":"Button"}'
          tagName: ion-button
          ↓Label [ngx.components.UIDynamicElement-1676294552768]: 
            beanData: '{"ionBean":"Label"}'
            tagName: ion-label
            ↓Text [ngx.components.UIText-1676294552770]: 
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:Périmètres
          ↓Event [ngx.components.UIControlEvent-1676294552772]: 
            ↓CustomAction [ngx.components.UICustomAction-1676294565486]: 
              actionValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                      		console.log("menuCtrl")
                      		console.log(page.menuCtrl)
                      //		page.menuCtrl.isOpen("Menu").then ( (resp) => {
                      //			if(resp) {
                      //				page.menuCtrl.close("Menu")
                      //			} else {
                      //				page.menuCtrl.toggle("menu")
                      //			}
                      //		})
                      
                      		if(page.hideMenu) {
                      			page.hideMenu = false;
                      		} else {
                      			page.hideMenu = true;
                      		}
                      		resolve();
                      '
          ↓Icon [ngx.components.UIDynamicElement-1676295559170]: 
            beanData: '{"ionBean":"Icon","IconName":"script:(this.hideMenu) ? ''add'' : ''remove-outline''"}'
            tagName: ion-icon
    ↓rowGroupsAndCharts [ngx.components.UIDynamicElement-1668692254990]: 
      beanData: '{"ionBean":"GridRow"}'
      isEnabled: false
      tagName: ion-row
      ↓colGroups [ngx.components.UIDynamicElement-1671532769020]: 
        beanData: |
          '{
           "ionBean": "GridCol",
           "SizeLg": "plain:2",
           "SizeMd": "plain:2"
          }'
        tagName: ion-col
        ↓Directive [ngx.components.UIControlDirective-1671532808708]: 
          directiveName: If
          directiveSource: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: script:this.global['groups'] != undefined
          isEnabled: false
        ↓Form1 [ngx.components.UIForm-1673623216004]: 
          identifier: formSearchGroup
          ↓FormItem [ngx.components.UIDynamicElement-1673623216007]: 
            beanData: '{"ionBean":"FormItem"}'
            tagName: ion-item
            ↓SearchBar [ngx.components.UIDynamicElement-1673623216010]: 
              beanData: '{"ionBean":"Searchbar"}'
              tagName: ion-searchbar
              ↓Event [ngx.components.UIControlEvent-1673623216013]: 
                attrName: (ionChange)
                eventName: ionChange
                ↓If [ngx.components.UIDynamicAction-1673623216016]: 
                  beanData: '{"ionBean":"IfAction","condition":"script:event.detail.value.length >= 3"}'
                  isEnabled: false
                  ↓CallSequence [ngx.components.UIDynamicAction-1673623216019]: 
                    beanData: |
                      '{
                       "ionBean": "CallSequenceAction",
                       "requestable": "plain:poc_energisme.searchGroup",
                       "noLoading": "plain:true"
                      }'
                    ↓label [ngx.components.UIControlVariable-1673623216022]: 
                      comment: new variable
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: script:event.detail.value
                    ↓type [ngx.components.UIControlVariable-1673623216025]: 
                      comment: new variable
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: plain:
                    ↓user [ngx.components.UIControlVariable-1673623216028]: 
                      comment: new variable
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                  ↓If [ngx.components.UIDynamicAction-1673623216031]: 
                    beanData: '{"ionBean":"IfAction","condition":"script:event.detail.value.length == 0"}'
                    ↓CallSequence [ngx.components.UIDynamicAction-1673623216034]: 
                      beanData: |
                        '{
                         "ionBean": "CallSequenceAction",
                         "requestable": "plain:poc_energisme.searchGroup",
                         "noLoading": "plain:true"
                        }'
                      ↓label [ngx.components.UIControlVariable-1673623216037]: 
                        comment: new variable
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: plain:
                      ↓type [ngx.components.UIControlVariable-1673623216040]: 
                        comment: new variable
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: plain:
                      ↓user [ngx.components.UIControlVariable-1673623216043]: 
                        comment: new variable
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                ↓IfElse [ngx.components.UIDynamicIf-1673623216046]: 
                  beanData: '{"ionBean":"IfElseAction","condition":"script:event.detail.value.length >= 3"}'
                  ↓CallSequence [ngx.components.UIDynamicAction-1673623216049]: 
                    beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.searchGroup"}'
                    ↓label [ngx.components.UIControlVariable-1673623216052]: 
                      comment: new variable
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: script:event.detail.value
                    ↓type [ngx.components.UIControlVariable-1673623216055]: 
                      comment: new variable
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: plain:
                    ↓user [ngx.components.UIControlVariable-1673623216058]: 
                      comment: new variable
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                  ↓Else_Handler [ngx.components.UIActionElseEvent-1673623216061]: 
                    ↓If [ngx.components.UIDynamicAction-1673623216064]: 
                      beanData: '{"ionBean":"IfAction","condition":"script:event.detail.value.length == 0"}'
                      ↓CallSequence [ngx.components.UIDynamicAction-1673623216067]: 
                        beanData: |
                          '{
                           "ionBean": "CallSequenceAction",
                           "requestable": "plain:poc_energisme.searchGroup",
                           "noLoading": "plain:true"
                          }'
                        ↓label [ngx.components.UIControlVariable-1673623216070]: 
                          comment: new variable
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: plain:
                        ↓type [ngx.components.UIControlVariable-1673623216073]: 
                          comment: new variable
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: plain:
                        ↓user [ngx.components.UIControlVariable-1673623216076]: 
                          comment: new variable
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
          ↓Event [ngx.components.UIControlEvent-1673623216079]: 
            attrName: (ngSubmit)
            eventName: onSubmit
            ↓Alert [ngx.components.UIDynamicAction-1673623216082]: 
              beanData: '{"ionBean":"AlertAction","message":"script:''formSample value is\\\\n'' + JSON.stringify(this?.formSample.value)"}'
        ↓selectAll [ngx.components.UIDynamicElement-1673606455255]: 
          beanData: '{"ionBean":"GenericItem"}'
          tagName: ion-item
          ↓Label [ngx.components.UIDynamicElement-1673606455257]: 
            beanData: '{"ionBean":"Label"}'
            tagName: ion-label
            ↓Text [ngx.components.UIText-1673606455259]: 
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:Tout sélectionner
          ↓CheckBox [ngx.components.UIDynamicElement-1673606474497]: 
            beanData: '{"ionBean":"CheckBox","ControlName":"plain:name1673606474497"}'
            tagName: ion-checkbox
            ↓Attr [ngx.components.UIAttribute-1673606504913]: 
              attrName: '[(ngModel)]'
              attrValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: script:selectAll
            ↓Event [ngx.components.UIControlEvent-1673606704974]: 
              attrName: (ionChange)
              eventName: ionChange
              ↓IfElse [ngx.components.UIDynamicIf-1673624083986]: 
                beanData: '{"ionBean":"IfElseAction","condition":"script:parent.out.detail.checked"}'
                ↓CallSequence [ngx.components.UIDynamicAction-1673607199164]: 
                  beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getAllSitesId"}'
                  comment: before accordion update
                  isEnabled: false
                  ↓updateParams [ngx.components.UICustomAction-1673607159791]: 
                    actionValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                          →: |
                            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                            		var sites = vars.sites;
                            		/*
                            		for(var i = 0; i < sites.length; i++) {
                            			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                            				page.local["sitesToCall"].push(sites[i])
                            			}
                            		}
                            		*/
                            		
                            		for(var i = 0; i < sites.length; i++) {
                            			page.local["sitesToCall"].push(sites[i])
                            		}
                            		
                            		console.log("selectall")
                            		console.log(page.selectAll)
                            		page.global[''sequenceParams''] = {
                            			date_start: page.global[''date_start''],
                            			date_end: page.global[''date_end''],
                            			sites: JSON.stringify(page.local[''sitesToCall'']),
                            			agg_function: ''month'',
                            			label: '''',
                            			synthese: page.syntheseSelected,
                            			limit: 20
                            		}
                            		console.log(page.local["sitesToCall"])
                            		resolve();
                            '
                    ↓sites [ngx.components.UIControlVariable-1673607234284]: 
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getAllSitesId","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                ↓CallSequence1 [ngx.components.UIDynamicAction-1674743425644]: 
                  beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getAllUserSites"}'
                  ↓user [ngx.components.UIControlVariable-1674743436289]: 
                    comment: new variable
                    varValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                  ↓updateParams [ngx.components.UICustomAction-1674743453991]: 
                    actionValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                          →: |
                            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                            		var sites = vars.sites;
                            		/*
                            		for(var i = 0; i < sites.length; i++) {
                            			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                            				page.local["sitesToCall"].push(sites[i])
                            			}
                            		}
                            		*/
                            		
                            		for(var i = 0; i < sites.length; i++) {
                            			page.local["sitesToCall"].push(sites[i][''id''])
                            		}
                            		
                            		console.log("selectall")
                            		console.log(page.selectAll)
                            		page.global[''sequenceParams''] = {
                            			date_start: page.global[''date_start''],
                            			date_end: page.global[''date_end''],
                            			sites: JSON.stringify(page.local[''sitesToCall'']),
                            			agg_function: ''month'',
                            			label: '''',
                            			synthese: page.syntheseSelected,
                            			limit: 20
                            		}
                            		console.log(page.local["sitesToCall"])
                            		resolve();
                            '
                    isEnabled: false
                    ↓sites [ngx.components.UIControlVariable-1674743453994]: 
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getAllUserSites","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                ↓Else_Handler [ngx.components.UIActionElseEvent-1673624113356]: 
                  ↓SetLocal [ngx.components.UIDynamicAction-1673624121518]: 
                    beanData: |
                      '{
                       "ionBean": "SetLocalAction",
                       "Property": "plain:sitesToCall",
                       "Value": "script:[]"
                      }'
                  ↓Toast [ngx.components.UIDynamicAction-1673625471446]: 
                    beanData: '{"ionBean":"ToastAction"}'
                    isEnabled: false
        ↓Directive1 [ngx.components.UIControlDirective-1671532851420]: 
          directiveItemName: group
          directiveSource: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.searchGroup","marker":""}],"path":"?.groups","prefix":"","suffix":"","custom":"","useCustom":false}}
          isEnabled: false
          ↓GenericItem [ngx.components.UIDynamicElement-1671532899643]: 
            beanData: '{"ionBean":"GenericItem"}'
            tagName: ion-item
            ↓CheckBox [ngx.components.UIDynamicElement-1671532909462]: 
              beanData: |
                '{
                 "ionBean": "CheckBox",
                 "ControlName": "plain:name1671532909462",
                 "Checked": "script:this.selectAll",
                 "Value": "script:group.name"
                }'
              tagName: ion-checkbox
              ↓selectAllOnChange [ngx.components.UIControlEvent-1671533513058]: 
                attrName: (ionChange)
                eventName: ionChange
                ↓IfElse [ngx.components.UIDynamicIf-1673282731652]: 
                  beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == false && parent.out.detail.checked"}'
                  ↓CallSequence [ngx.components.UIDynamicAction-1673282059957]: 
                    beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                    ↓group_name [ngx.components.UIControlVariable-1673282072891]: 
                      comment: new variable
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: script:stack.root.out.detail.value
                    ↓pushSitesToLocal [ngx.components.UICustomAction-1671533533703]: 
                      actionValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                            →: |
                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                              		console.log(props)
                              		console.log(event)
                              		var sites = vars.sites;
                              		/*
                              		for(var i = 0; i < sites.length; i++) {
                              			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                              				page.local["sitesToCall"].push(sites[i])
                              			}
                              		}
                              		*/
                              		
                              		for(var i = 0; i < sites.length; i++) {
                              			page.local["sitesToCall"].push(sites[i])
                              		}
                              		
                              		console.log("after loop")
                              		page.global[''sequenceParams''] = {
                              			date_start: page.global[''date_start''],
                              			date_end: page.global[''date_end''],
                              			sites: JSON.stringify(page.local[''sitesToCall'']),
                              			agg_function: ''month'',
                              			label: '''',
                              			synthese: page.syntheseSelected,
                              			limit: 20
                              		}
                              		console.log(page.local["sitesToCall"])
                              		
                              		resolve();
                              '
                      ↓sites [ngx.components.UIControlVariable-1673282300652]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                      ↓CallSequence [ngx.components.UIDynamicAction-1673447114432]: 
                        beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                        isEnabled: false
                        ↓date_start [ngx.components.UIControlVariable-1673447125459]: 
                          comment: date_start
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: plain:2021-01-01
                        ↓date_end [ngx.components.UIControlVariable-1673447125461]: 
                          comment: date_end
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: plain:2022-01-01
                        ↓sites [ngx.components.UIControlVariable-1673447125463]: 
                          comment: new variable
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                        ↓agg_function [ngx.components.UIControlVariable-1673447125465]: 
                          comment: new variable
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: plain:week
                        ↓chartType [ngx.components.UIControlVariable-1673447125467]: 
                          comment: new variable
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: plain:bar
                        ↓CustomAction [ngx.components.UICustomAction-1673447732015]: 
                          actionValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                →: |
                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                  		/*console.log("native")
                                  		console.log(page.all_poc_energisme_widget)
                                  		//@ts-ignore
                                  		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                  		//@ts-ignore
                                  		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                  		//@ts-ignore
                                  		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                  		page.all_poc_energisme_widget.forEach( (x) => {
                                  			console.log("x")
                                  			console.log(x)
                                  		})*/
                                  		page.ref.detectChanges();
                                  		page.local[''refresh''] = true;
                                  		setTimeout( () => {
                                  			page.local[''refresh''] = false
                                  			page.ref.detectChanges();
                                  		})
                                  		resolve();
                                  '
                  ↓Else_Handler [ngx.components.UIActionElseEvent-1673282748622]: 
                    ↓Toast [ngx.components.UIDynamicAction-1673618107093]: 
                      beanData: '{"ionBean":"ToastAction","message":"script:JSON.stringify(stack[''selectAllOnChange''].out.detail.checked)"}'
                      isEnabled: false
                    ↓IfElse [ngx.components.UIDynamicIf-1673615176581]: 
                      beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll && !stack.root.out.detail.checked"}'
                      ↓CallSequence [ngx.components.UIDynamicAction-1673282843493]: 
                        beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                        ↓group_name [ngx.components.UIControlVariable-1673282843496]: 
                          comment: new variable
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:stack.root.out.detail.value
                        ↓removeSitesToLocal [ngx.components.UICustomAction-1673282843499]: 
                          actionValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                →: |
                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                  		console.log(props)
                                  		console.log(event)
                                  		var sites = vars.sites;
                                  		for(var i = 0; i < sites.length; i++) {
                                  			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                  				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                  			}
                                  		}
                                  		
                                  		console.log("after loop")
                                  		console.log(page.local["sitesToCall"])
                                  		page.global[''sequenceParams''] = {
                                  			date_start: page.global[''date_start''],
                                  			date_end: page.global[''date_end''],
                                  			sites: JSON.stringify(page.local[''sitesToCall'']),
                                  			agg_function: ''month'',
                                  			label: '''',
                                  			synthese: this.syntheseSelected,
                                  			limit: 20
                                  		}
                                  		
                                  		resolve();
                                  '
                          ↓sites [ngx.components.UIControlVariable-1673282843502]: 
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                      ↓Toast [ngx.components.UIDynamicAction-1673615124254]: 
                        beanData: '{"ionBean":"ToastAction","message":"plain:this.selectAll == true && !this.stack.root.out.detail.checked"}'
                        isEnabled: false
                      ↓Else_Handler [ngx.components.UIActionElseEvent-1673615630659]: 
                        ↓If [ngx.components.UIDynamicAction-1673623566202]: 
                          beanData: '{"ionBean":"IfAction","condition":"script:!this.selectAll && !stack.root.out.detail.checked"}'
                          isEnabled: false
                          ↓removeSitesToLocal [ngx.components.UICustomAction-1673623621720]: 
                            actionValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                  →: |
                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                    		console.log(props)
                                    		console.log(event)
                                    		var sites = vars.sites;
                                    		for(var i = 0; i < sites.length; i++) {
                                    			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                    				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                    			}
                                    		}
                                    		
                                    		console.log("after loop")
                                    		console.log(page.local["sitesToCall"])
                                    		/*
                                    		page.local[''sequenceParams''] = {
                                    			date_start: ''2021-01-01'',
                                    			date_end: ''2022-12-01'',
                                    			sites: JSON.stringify(page.local[''sitesToCall'']),
                                    			agg_function: ''month'',
                                    			label: ''''
                                    		}
                                    		*/
                                    		resolve();
                                    '
                            ↓sites [ngx.components.UIControlVariable-1673623621723]: 
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                        ↓SetLocal [ngx.components.UIDynamicAction-1673625314364]: 
                          beanData: |
                            '{
                             "ionBean": "SetLocalAction",
                             "Property": "plain:sitesToCall",
                             "Value": "script:[]"
                            }'
                    ↓CallSequence [ngx.components.UIDynamicAction-1673616852442]: 
                      beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                      isEnabled: false
                      ↓group_name [ngx.components.UIControlVariable-1673616852445]: 
                        comment: new variable
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:stack.root.out.detail.value
                      ↓removeSitesToLocal [ngx.components.UICustomAction-1673616852448]: 
                        actionValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                              →: |
                                '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                		console.log(props)
                                		console.log(event)
                                		var sites = vars.sites;
                                		for(var i = 0; i < sites.length; i++) {
                                			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                			}
                                		}
                                		
                                		console.log("after loop")
                                		console.log(page.local["sitesToCall"])
                                		page.local[''sequenceParams''] = {
                                			date_start: ''2021-01-01'',
                                			date_end: ''2022-12-01'',
                                			sites: page.local[''sitesToCall''],
                                			agg_function: ''month'',
                                			label: ''''
                                		}
                                		
                                		resolve();
                                '
                        ↓sites [ngx.components.UIControlVariable-1673616852451]: 
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                    ↓IfElse1 [ngx.components.UIDynamicIf-1673617639402]: 
                      beanData: '{"ionBean":"IfElseAction","condition":"script:!this.selectAll"}'
                      isEnabled: false
                    ↓CustomAction [ngx.components.UICustomAction-1673618187293]: 
                      actionValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                            →: |
                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                              		console.log("props")
                              		console.log(props)
                              		resolve();
                              '
                      isEnabled: false
            ↓Text [ngx.components.UIText-1671532914565]: 
              isEnabled: false
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: script:group.name
            ↓Directive1 [ngx.components.UIControlDirective-1672837739268]: 
              directiveName: If
              directiveSource: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: script:group.name.includes('ad:')
              ↓Icon [ngx.components.UIDynamicElement-1672837739271]: 
                beanData: |
                  '{
                   "ionBean": "Icon",
                   "IconName": "source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/Microsoft_Azure.svg''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}",
                   "IconSource": "source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/Microsoft_Azure.svg''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"
                  }'
                tagName: ion-icon
                ↓Style [ngx.components.UIStyle-1672837739274]: 
                  styleContent: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                        →: |
                          '	margin-left: 1.0416666666666667vw !important;
                          	margin-right: 1.0416666666666667vw !important;
                          '
            ↓Directive2 [ngx.components.UIControlDirective-1672837739277]: 
              directiveName: If
              directiveSource: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: script:!group.name.includes('ad:')
              ↓Icon [ngx.components.UIDynamicElement-1672837739280]: 
                beanData: '{"ionBean":"Icon","IconSource":"source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/c8o.png''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"}'
                isEnabled: false
                tagName: ion-icon
            ↓Text1 [ngx.components.UIText-1672837739283]: 
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: 'script:(group.name.includes(''ad:'')) ? group.name.slice(3, group.length) + '' (''+ group.count + '')'' : group.name + '' (''+ group.count + '')'''
            ↓Directive [ngx.components.UIControlDirective-1672837739286]: 
              directiveName: If
              directiveSource: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: script:group.name.includes("ad:") == false
              isEnabled: false
              ↓ButtonSet1 [ngx.components.UIDynamicElement-1672837739289]: 
                beanData: '{"ionBean":"ButtonSet","SetPosition":"plain:end"}'
                tagName: ion-buttons
                ↓buttonUpdate [ngx.components.UIDynamicElement-1672837739292]: 
                  beanData: '{"ionBean":"Button"}'
                  tagName: ion-button
                  ↓Event [ngx.components.UIControlEvent-1672837739295]: 
                    ↓ModalPage [ngx.components.UIDynamicAction-1672837739298]: 
                      beanData: |
                        '{
                         "ionBean": "ModalAction",
                         "page": "plain:poc_energisme.Application.NgxApp.modalUpdateGroup",
                         "data": "script:{ name: group.name }",
                         "blockWhileDisplayed": "plain:true"
                        }'
                      ↓If [ngx.components.UIDynamicAction-1672837739301]: 
                        beanData: '{"ionBean":"IfAction","condition":"script:parent.out.data.update == \"true\""}'
                        ↓CallSequence [ngx.components.UIDynamicAction-1672837739304]: 
                          beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:lib_FullSyncGrp.GroupsOf"}'
                          ↓user [ngx.components.UIControlVariable-1672837739307]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                          ↓SetLocal1 [ngx.components.UIDynamicAction-1672837739310]: 
                            beanData: |
                              '{
                               "ionBean": "SetLocalAction",
                               "Property": "plain:sitesFromGroup",
                               "Value": "script:[]"
                              }'
                    ↓Toast [ngx.components.UIDynamicAction-1672837739313]: 
                      beanData: '{"ionBean":"ToastAction","message":"script:group"}'
                      isEnabled: false
                  ↓Icon [ngx.components.UIDynamicElement-1672837739316]: 
                    beanData: '{"ionBean":"Icon","IconName":"source:{\"filter\":\"Icon\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"icon\":\"''pencil''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"}'
                    tagName: ion-icon
                ↓buttonDelete [ngx.components.UIDynamicElement-1672837739319]: 
                  beanData: '{"ionBean":"Button"}'
                  tagName: ion-button
                  ↓Event [ngx.components.UIControlEvent-1672837739322]: 
                    ↓CallSequence [ngx.components.UIDynamicAction-1672837739325]: 
                      beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:lib_FullSyncGrp.RemoveGroup"}'
                      ↓group [ngx.components.UIControlVariable-1672837739328]: 
                        comment: new variable
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:group.name
                      ↓IfElse [ngx.components.UIDynamicIf-1672837739331]: 
                        beanData: '{"ionBean":"IfElseAction","condition":"script:parent.out.success == \"true\""}'
                        ↓CallSequence1 [ngx.components.UIDynamicAction-1672837739334]: 
                          beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.removeAllSitesOfGroup"}'
                          ↓CallSequence [ngx.components.UIDynamicAction-1672837739337]: 
                            beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:lib_FullSyncGrp.GroupsOf"}'
                            ↓user [ngx.components.UIControlVariable-1672837739340]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                            ↓removeSitesFromGroups [ngx.components.UICustomAction-1672837739343]: 
                              actionValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                    →: |
                                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                      		var sites = vars.sites;
                                      		console.log(sites)
                                      		console.log(page.local["sitesFromGroup"])
                                      		
                                      		for(var i = 0; i < sites.length; i++) {
                                      			if(page.local["sitesFromGroup"].includes(sites[i])) {
                                      				page.local["sitesFromGroup"].splice(page.local["sitesFromGroup"].indexOf(sites[i]), 1)
                                      			}
                                      		}
                                      		resolve();
                                      '
                              isEnabled: false
                              ↓sites [ngx.components.UIControlVariable-1672837739346]: 
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                            ↓SetLocal1 [ngx.components.UIDynamicAction-1672837739349]: 
                              beanData: |
                                '{
                                 "ionBean": "SetLocalAction",
                                 "Property": "plain:sitesFromGroup",
                                 "Value": "script:[]"
                                }'
                          ↓group [ngx.components.UIControlVariable-1672837739352]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: script:group.name
                        ↓Toast [ngx.components.UIDynamicAction-1672837739355]: 
                          beanData: '{"ionBean":"ToastAction","message":"plain:Le groupe a été supprimé."}'
                        ↓Else_Handler [ngx.components.UIActionElseEvent-1672837739358]: 
                          ↓Toast [ngx.components.UIDynamicAction-1672837739361]: 
                            beanData: '{"ionBean":"ToastAction","message":"plain:Un problème est survenue au moment de la suppression du groupe"}'
                  ↓Icon [ngx.components.UIDynamicElement-1672837739364]: 
                    beanData: '{"ionBean":"Icon","IconName":"plain:trash"}'
                    tagName: ion-icon
        ↓Style [ngx.components.UIStyle-1673876021109]: 
          isEnabled: false
          styleContent: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                →: |
                  '/**
                   * Custom properties (sometimes referred to as CSS variables or cascading variables)
                   * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                   * They are set using custom property notation, e.g.: --main-color: black;
                   * and are accessed using the var() function, e.g.: color: var(--main-color);
                   * You can find below your component''s properties you can customize within the page.
                   * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                   * For more informations see https://ionicframework.com/docs/theming.
                  **/
                  //--ion-grid-column-padding	//Padding for the Column
                  //--ion-grid-column-padding-lg	//Padding for the Column on lg screens and up
                  //--ion-grid-column-padding-md	//Padding for the Column on md screens and up
                  //--ion-grid-column-padding-sm	//Padding for the Column on sm screens and up
                  //--ion-grid-column-padding-xl	//Padding for the Column on xl screens and up
                  //--ion-grid-column-padding-xs	//Padding for the Column on xs screens and up
                  //--ion-grid-columns	//The number of total Columns in the Grid
                  max-height: 70% !important;
                  overflow-y: scroll;
                  '
        ↓AccordionGroup [ngx.components.UIDynamicElement-1674729096452]: 
          beanData: '{"ionBean":"AccordionGroup"}'
          tagName: ion-accordion-group
          ↓group [ngx.components.UIControlDirective-1674729096455]: 
            directiveItemName: group
            directiveSource: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.searchGroup","marker":""}],"path":"?.groups","prefix":"","suffix":"","custom":"","useCustom":false}}
            ↓Accordion [ngx.components.UIDynamicElement-1674729096458]: 
              beanData: '{"ionBean":"Accordion","Value":"script:group.name"}'
              tagName: ion-accordion
              ↓GenericItem [ngx.components.UIDynamicElement-1674729096461]: 
                beanData: '{"ionBean":"GenericItem","IonSlot":"plain:header"}'
                tagName: ion-item
                ↓Label [ngx.components.UIDynamicElement-1674729096464]: 
                  beanData: '{"ionBean":"Label"}'
                  isEnabled: false
                  tagName: ion-label
                  ↓Text [ngx.components.UIText-1674729096467]: 
                    textValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: script:group.name
                ↓parentCheckBox [ngx.components.UIDynamicElement-1674729633478]: 
                  beanData: |
                    '{
                     "ionBean": "CheckBox",
                     "ControlName": "plain:parentGroup",
                     "Checked": "script:this.selectAll",
                     "Value": "script:group.name"
                    }'
                  tagName: ion-checkbox
                  ↓selectAllOnChange [ngx.components.UIControlEvent-1674729633481]: 
                    attrName: (ionChange)
                    eventName: ionChange
                    ↓IfElse [ngx.components.UIDynamicIf-1674729633484]: 
                      beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == false && parent.out.detail.checked"}'
                      ↓CallSequence [ngx.components.UIDynamicAction-1674729633487]: 
                        beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                        comment: works before accordion update
                        isEnabled: false
                        ↓group_name [ngx.components.UIControlVariable-1674729633490]: 
                          comment: new variable
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:stack.root.out.detail.value
                        ↓pushSitesToLocal [ngx.components.UICustomAction-1674729633493]: 
                          actionValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                →: |
                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                  		console.log(props)
                                  		console.log(event)
                                  		var sites = vars.sites;
                                  		/*
                                  		for(var i = 0; i < sites.length; i++) {
                                  			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                  				page.local["sitesToCall"].push(sites[i])
                                  			}
                                  		}
                                  		*/
                                  		
                                  		for(var i = 0; i < sites.length; i++) {
                                  			page.local["sitesToCall"].push(sites[i])
                                  		}
                                  		
                                  		console.log("after loop")
                                  		page.global[''sequenceParams''] = {
                                  			date_start: page.global[''date_start''],
                                  			date_end: page.global[''date_end''],
                                  			sites: JSON.stringify(page.local[''sitesToCall'']),
                                  			agg_function: ''month'',
                                  			label: '''',
                                  			synthese: page.syntheseSelected,
                                  			limit: 20
                                  		}
                                  		console.log(page.local["sitesToCall"])
                                  		
                                  		resolve();
                                  '
                          ↓sites [ngx.components.UIControlVariable-1674729633496]: 
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                          ↓CallSequence [ngx.components.UIDynamicAction-1674729633499]: 
                            beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                            isEnabled: false
                            ↓date_start [ngx.components.UIControlVariable-1674729633502]: 
                              comment: date_start
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: plain:2021-01-01
                            ↓date_end [ngx.components.UIControlVariable-1674729633505]: 
                              comment: date_end
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: plain:2022-01-01
                            ↓sites [ngx.components.UIControlVariable-1674729633508]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                            ↓agg_function [ngx.components.UIControlVariable-1674729633511]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: plain:week
                            ↓chartType [ngx.components.UIControlVariable-1674729633514]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: plain:bar
                            ↓CustomAction [ngx.components.UICustomAction-1674729633517]: 
                              actionValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                    →: |
                                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                      		/*console.log("native")
                                      		console.log(page.all_poc_energisme_widget)
                                      		//@ts-ignore
                                      		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                      		//@ts-ignore
                                      		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                      		//@ts-ignore
                                      		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                      		page.all_poc_energisme_widget.forEach( (x) => {
                                      			console.log("x")
                                      			console.log(x)
                                      		})*/
                                      		page.ref.detectChanges();
                                      		page.local[''refresh''] = true;
                                      		setTimeout( () => {
                                      			page.local[''refresh''] = false
                                      			page.ref.detectChanges();
                                      		})
                                      		resolve();
                                      '
                      ↓pushSitesToLocal [ngx.components.UICustomAction-1674730560717]: 
                        actionValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                              →: |
                                '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                		console.log(props)
                                		console.log(event)
                                		var sites = vars.sites;
                                		/*
                                		for(var i = 0; i < sites.length; i++) {
                                			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                				page.local["sitesToCall"].push(sites[i])
                                			}
                                		}
                                		*/
                                		
                                		for(var i = 0; i < sites.length; i++) {
                                			page.local["sitesToCall"].push(sites[i][''id''])
                                		}
                                		
                                		console.log("after loop")
                                		page.global[''sequenceParams''] = {
                                			date_start: page.global[''date_start''],
                                			date_end: page.global[''date_end''],
                                			sites: JSON.stringify(page.local[''sitesToCall'']),
                                			agg_function: ''month'',
                                			label: '''',
                                			synthese: page.syntheseSelected,
                                			limit: 20
                                		}
                                		console.log(page.local["sitesToCall"])
                                		
                                		resolve();
                                '
                        comment: from accordion update
                        isEnabled: false
                        ↓sites [ngx.components.UIControlVariable-1674730560720]: 
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:stack.root.scope.group.sites
                        ↓CallSequence [ngx.components.UIDynamicAction-1674730560723]: 
                          beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                          isEnabled: false
                          ↓date_start [ngx.components.UIControlVariable-1674730560726]: 
                            comment: date_start
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: plain:2021-01-01
                          ↓date_end [ngx.components.UIControlVariable-1674730560729]: 
                            comment: date_end
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: plain:2022-01-01
                          ↓sites [ngx.components.UIControlVariable-1674730560732]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                          ↓agg_function [ngx.components.UIControlVariable-1674730560735]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: plain:week
                          ↓chartType [ngx.components.UIControlVariable-1674730560738]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: plain:bar
                          ↓CustomAction [ngx.components.UICustomAction-1674730560741]: 
                            actionValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                  →: |
                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                    		/*console.log("native")
                                    		console.log(page.all_poc_energisme_widget)
                                    		//@ts-ignore
                                    		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                    		//@ts-ignore
                                    		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                    		//@ts-ignore
                                    		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                    		page.all_poc_energisme_widget.forEach( (x) => {
                                    			console.log("x")
                                    			console.log(x)
                                    		})*/
                                    		page.ref.detectChanges();
                                    		page.local[''refresh''] = true;
                                    		setTimeout( () => {
                                    			page.local[''refresh''] = false
                                    			page.ref.detectChanges();
                                    		})
                                    		resolve();
                                    '
                      ↓SetLocal [ngx.components.UIDynamicAction-1675171795649]: 
                        beanData: |
                          '{
                           "ionBean": "SetLocalAction",
                           "Property": "plain:groupChecked",
                           "Value": "script:group.name"
                          }'
                      ↓Else_Handler [ngx.components.UIActionElseEvent-1674729633520]: 
                        ↓Toast [ngx.components.UIDynamicAction-1674729633523]: 
                          beanData: '{"ionBean":"ToastAction","message":"script:JSON.stringify(stack[''selectAllOnChange''].out.detail.checked)"}'
                          isEnabled: false
                        ↓IfElse [ngx.components.UIDynamicIf-1674729633526]: 
                          beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll && !stack.root.out.detail.checked"}'
                          ↓CallSequence [ngx.components.UIDynamicAction-1674729633529]: 
                            beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                            comment: before accordion update
                            isEnabled: false
                            ↓group_name [ngx.components.UIControlVariable-1674729633532]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: script:stack.root.out.detail.value
                            ↓removeSitesToLocal [ngx.components.UICustomAction-1674729633535]: 
                              actionValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                    →: |
                                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                      		console.log(props)
                                      		console.log(event)
                                      		var sites = vars.sites;
                                      		for(var i = 0; i < sites.length; i++) {
                                      			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                      				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                      			}
                                      		}
                                      		
                                      		console.log("after loop")
                                      		console.log(page.local["sitesToCall"])
                                      		page.global[''sequenceParams''] = {
                                      			date_start: page.global[''date_start''],
                                      			date_end: page.global[''date_end''],
                                      			sites: JSON.stringify(page.local[''sitesToCall'']),
                                      			agg_function: ''month'',
                                      			label: '''',
                                      			synthese: this.syntheseSelected,
                                      			limit: 20
                                      		}
                                      		
                                      		resolve();
                                      '
                              ↓sites [ngx.components.UIControlVariable-1674729633538]: 
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                          ↓removeSitesToLocal [ngx.components.UICustomAction-1674738005790]: 
                            actionValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                  →: |
                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                    		console.log(props)
                                    		console.log(event)
                                    		var sites = vars.sites;
                                    		for(var i = 0; i < sites.length; i++) {
                                    			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                    				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                    			}
                                    		}
                                    		
                                    		console.log("after loop")
                                    		console.log(page.local["sitesToCall"])
                                    		page.global[''sequenceParams''] = {
                                    			date_start: page.global[''date_start''],
                                    			date_end: page.global[''date_end''],
                                    			sites: JSON.stringify(page.local[''sitesToCall'']),
                                    			agg_function: ''month'',
                                    			label: '''',
                                    			synthese: this.syntheseSelected,
                                    			limit: 20
                                    		}
                                    		
                                    		resolve();
                                    '
                            ↓sites [ngx.components.UIControlVariable-1674738005793]: 
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: script:stack.root.scope.group.sites
                          ↓Else_Handler [ngx.components.UIActionElseEvent-1674729633544]: 
                            ↓If [ngx.components.UIDynamicAction-1674729633547]: 
                              beanData: '{"ionBean":"IfAction","condition":"script:!this.selectAll && !stack.root.out.detail.checked"}'
                              isEnabled: false
                              ↓removeSitesToLocal [ngx.components.UICustomAction-1674729633550]: 
                                actionValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                      →: |
                                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                        		console.log(props)
                                        		console.log(event)
                                        		var sites = vars.sites;
                                        		for(var i = 0; i < sites.length; i++) {
                                        			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                        				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                        			}
                                        		}
                                        		
                                        		console.log("after loop")
                                        		console.log(page.local["sitesToCall"])
                                        		/*
                                        		page.local[''sequenceParams''] = {
                                        			date_start: ''2021-01-01'',
                                        			date_end: ''2022-12-01'',
                                        			sites: JSON.stringify(page.local[''sitesToCall'']),
                                        			agg_function: ''month'',
                                        			label: ''''
                                        		}
                                        		*/
                                        		resolve();
                                        '
                                ↓sites [ngx.components.UIControlVariable-1674729633553]: 
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                            ↓IfElse [ngx.components.UIDynamicIf-1675266072076]: 
                              beanData: '{"ionBean":"IfElseAction","condition":"script:!this.selectAll && !stack.root.out.detail.checked"}'
                              ↓removeSitesToLocal [ngx.components.UICustomAction-1675266147353]: 
                                actionValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                      →: |
                                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                        		console.log(props)
                                        		console.log(event)
                                        		var sites = vars.sites;
                                        		for(var i = 0; i < sites.length; i++) {
                                        			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                        				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                        			}
                                        		}
                                        		
                                        		console.log("after loop")
                                        		console.log(page.local["sitesToCall"])
                                        		
                                        		page.global[''sequenceParams''] = {
                                        			date_start: page.global[''date_start''],
                                        			date_end: page.global[''date_end''],
                                        			sites: JSON.stringify(page.local[''sitesToCall'']),
                                        			agg_function: ''month'',
                                        			label: '''',
                                        			synthese: this.syntheseSelected,
                                        			limit: 20
                                        		}
                                        		/*
                                        		page.local[''sequenceParams''] = {
                                        			date_start: ''2021-01-01'',
                                        			date_end: ''2022-12-01'',
                                        			sites: JSON.stringify(page.local[''sitesToCall'']),
                                        			agg_function: ''month'',
                                        			label: ''''
                                        		}
                                        		*/
                                        		resolve();
                                        '
                                ↓sites [ngx.components.UIControlVariable-1675266147356]: 
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: script:stack.root.scope.group.sites
                              ↓Else_Handler [ngx.components.UIActionElseEvent-1675266168727]: 
                                ↓SetLocal [ngx.components.UIDynamicAction-1674729633556]: 
                                  beanData: |
                                    '{
                                     "ionBean": "SetLocalAction",
                                     "Property": "plain:sitesToCall",
                                     "Value": "script:[]"
                                    }'
                        ↓CallSequence [ngx.components.UIDynamicAction-1674729633559]: 
                          beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                          isEnabled: false
                          ↓group_name [ngx.components.UIControlVariable-1674729633562]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: script:stack.root.out.detail.value
                          ↓removeSitesToLocal [ngx.components.UICustomAction-1674729633565]: 
                            actionValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                  →: |
                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                    		console.log(props)
                                    		console.log(event)
                                    		var sites = vars.sites;
                                    		for(var i = 0; i < sites.length; i++) {
                                    			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                    				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                    			}
                                    		}
                                    		
                                    		console.log("after loop")
                                    		console.log(page.local["sitesToCall"])
                                    		page.local[''sequenceParams''] = {
                                    			date_start: ''2021-01-01'',
                                    			date_end: ''2022-12-01'',
                                    			sites: page.local[''sitesToCall''],
                                    			agg_function: ''month'',
                                    			label: ''''
                                    		}
                                    		
                                    		resolve();
                                    '
                            ↓sites [ngx.components.UIControlVariable-1674729633568]: 
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                        ↓IfElse1 [ngx.components.UIDynamicIf-1674729633571]: 
                          beanData: '{"ionBean":"IfElseAction","condition":"script:!this.selectAll"}'
                          isEnabled: false
                        ↓CustomAction [ngx.components.UICustomAction-1674729633574]: 
                          actionValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                →: |
                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                  		console.log("props")
                                  		console.log(props)
                                  		resolve();
                                  '
                          isEnabled: false
                    ↓CustomAction [ngx.components.UICustomAction-1675170592466]: 
                      actionValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                            →: |
                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                              		console.log(vars.stack)
                              		resolve();
                              '
                      isEnabled: false
                      ↓stack [ngx.components.UIControlVariable-1675170600879]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:stack
                  ↓Attr [ngx.components.UIAttribute-1675174348154]: 
                    attrName: id
                    attrValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: script:group.name
                ↓Directive1 [ngx.components.UIControlDirective-1674729674760]: 
                  directiveName: If
                  directiveSource: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:group.name.includes('ad:')
                  ↓Icon [ngx.components.UIDynamicElement-1674729674763]: 
                    beanData: |
                      '{
                       "ionBean": "Icon",
                       "IconName": "source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/Microsoft_Azure.svg''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}",
                       "IconSource": "source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/Microsoft_Azure.svg''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"
                      }'
                    tagName: ion-icon
                    ↓Style [ngx.components.UIStyle-1674729674766]: 
                      styleContent: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                            →: |
                              '	margin-left: 1.0416666666666667vw !important;
                              	margin-right: 1.0416666666666667vw !important;
                              '
                ↓Directive2 [ngx.components.UIControlDirective-1674729709422]: 
                  directiveName: If
                  directiveSource: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:!group.name.includes('ad:')
                  ↓Icon [ngx.components.UIDynamicElement-1674729709425]: 
                    beanData: '{"ionBean":"Icon","IconSource":"source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/c8o.png''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"}'
                    isEnabled: false
                    tagName: ion-icon
                ↓Text1 [ngx.components.UIText-1674729782410]: 
                  textValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: 'script:(group.name.includes(''ad:'')) ? group.name.slice(3, group.length) + '' (''+ group.count + '')'' : group.name + '' (''+ group.count + '')'''
              ↓ListContainer [ngx.components.UIDynamicElement-1674729096470]: 
                beanData: '{"ionBean":"List","IonSlot":"plain:content"}'
                tagName: ion-list
                ↓Directive1 [ngx.components.UIControlDirective-1674729249601]: 
                  directiveItemName: site
                  directiveSource: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: source:{"filter":"Iteration","project":"poc_energisme","input":"","model":{"data":[{"priority":1674729096455}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                  ↓ListItem [ngx.components.UIDynamicElement-1674729249607]: 
                    beanData: '{"ionBean":"ListItem"}'
                    tagName: ion-item
                    ↓CheckBox [ngx.components.UIDynamicElement-1674729371481]: 
                      beanData: |
                        '{
                         "ionBean": "CheckBox",
                         "ControlName": "plain:name1671532909462",
                         "Checked": "script:this.selectAll || this.getParentGroupStatus(group.name)",
                         "Value": "script:group.name"
                        }'
                      tagName: ion-checkbox
                      ↓selectAllOnChange [ngx.components.UIControlEvent-1674729371484]: 
                        attrName: (ionChange)
                        eventName: ionChange
                        ↓SetLocal [ngx.components.UIDynamicAction-1676039121638]: 
                          beanData: |
                            '{
                             "ionBean": "SetLocalAction",
                             "Property": "plain:parentGroupStatus",
                             "Value": "script:this.getParentGroupStatus(stack.root.scope.group.name)"
                            }'
                          ↓IfElse [ngx.components.UIDynamicIf-1674729371487]: 
                            beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == false && !this.local[''parentGroupStatus''] && stack.root.out.detail.checked"}'
                            comment: case not selectAll and group not checked, only site checked
                            ↓CallSequence [ngx.components.UIDynamicAction-1674729371490]: 
                              beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                              comment: before accordion update
                              isEnabled: false
                              ↓group_name [ngx.components.UIControlVariable-1674729371493]: 
                                comment: new variable
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: script:stack.root.out.detail.value
                              ↓pushSitesToLocal [ngx.components.UICustomAction-1674729371496]: 
                                actionValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                      →: |
                                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                        		console.log(props)
                                        		console.log(event)
                                        		var sites = vars.sites;
                                        		/*
                                        		for(var i = 0; i < sites.length; i++) {
                                        			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                        				page.local["sitesToCall"].push(sites[i])
                                        			}
                                        		}
                                        		*/
                                        		
                                        		for(var i = 0; i < sites.length; i++) {
                                        			page.local["sitesToCall"].push(sites[i])
                                        		}
                                        		
                                        		console.log("after loop")
                                        		page.global[''sequenceParams''] = {
                                        			date_start: page.global[''date_start''],
                                        			date_end: page.global[''date_end''],
                                        			sites: JSON.stringify(page.local[''sitesToCall'']),
                                        			agg_function: ''month'',
                                        			label: '''',
                                        			synthese: page.syntheseSelected,
                                        			limit: 20
                                        		}
                                        		console.log(page.local["sitesToCall"])
                                        		
                                        		resolve();
                                        '
                                ↓sites [ngx.components.UIControlVariable-1674729371499]: 
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                ↓CallSequence [ngx.components.UIDynamicAction-1674729371502]: 
                                  beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                                  isEnabled: false
                                  ↓date_start [ngx.components.UIControlVariable-1674729371505]: 
                                    comment: date_start
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: plain:2021-01-01
                                  ↓date_end [ngx.components.UIControlVariable-1674729371508]: 
                                    comment: date_end
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: plain:2022-01-01
                                  ↓sites [ngx.components.UIControlVariable-1674729371511]: 
                                    comment: new variable
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                                  ↓agg_function [ngx.components.UIControlVariable-1674729371514]: 
                                    comment: new variable
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: plain:week
                                  ↓chartType [ngx.components.UIControlVariable-1674729371517]: 
                                    comment: new variable
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: plain:bar
                                  ↓CustomAction [ngx.components.UICustomAction-1674729371520]: 
                                    actionValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                          →: |
                                            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                            		/*console.log("native")
                                            		console.log(page.all_poc_energisme_widget)
                                            		//@ts-ignore
                                            		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                            		//@ts-ignore
                                            		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                            		//@ts-ignore
                                            		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                            		page.all_poc_energisme_widget.forEach( (x) => {
                                            			console.log("x")
                                            			console.log(x)
                                            		})*/
                                            		page.ref.detectChanges();
                                            		page.local[''refresh''] = true;
                                            		setTimeout( () => {
                                            			page.local[''refresh''] = false
                                            			page.ref.detectChanges();
                                            		})
                                            		resolve();
                                            '
                            ↓pushSitesToLocal [ngx.components.UICustomAction-1674738608219]: 
                              actionValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                    →: |
                                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                      		console.log(props)
                                      		console.log(event)
                                      		var sites = vars.sites;
                                      		/*
                                      		for(var i = 0; i < sites.length; i++) {
                                      			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                      				page.local["sitesToCall"].push(sites[i])
                                      			}
                                      		}
                                      		*/
                                      		
                                      		for(var i = 0; i < sites.length; i++) {
                                      			page.local["sitesToCall"].push(sites[i])
                                      		}
                                      		
                                      		console.log("after loop")
                                      		page.global[''sequenceParams''] = {
                                      			date_start: page.global[''date_start''],
                                      			date_end: page.global[''date_end''],
                                      			sites: JSON.stringify(page.local[''sitesToCall'']),
                                      			agg_function: ''month'',
                                      			label: '''',
                                      			synthese: page.syntheseSelected,
                                      			limit: 20
                                      		}
                                      		console.log(page.local["sitesToCall"])
                                      		
                                      		resolve();
                                      '
                              ↓sites [ngx.components.UIControlVariable-1674738608222]: 
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: script:[stack.root.scope.site.id]
                              ↓CallSequence [ngx.components.UIDynamicAction-1674738608225]: 
                                beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                                isEnabled: false
                                ↓date_start [ngx.components.UIControlVariable-1674738608228]: 
                                  comment: date_start
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: plain:2021-01-01
                                ↓date_end [ngx.components.UIControlVariable-1674738608231]: 
                                  comment: date_end
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: plain:2022-01-01
                                ↓sites [ngx.components.UIControlVariable-1674738608234]: 
                                  comment: new variable
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                                ↓agg_function [ngx.components.UIControlVariable-1674738608237]: 
                                  comment: new variable
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: plain:week
                                ↓chartType [ngx.components.UIControlVariable-1674738608240]: 
                                  comment: new variable
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: plain:bar
                                ↓CustomAction [ngx.components.UICustomAction-1674738608243]: 
                                  actionValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                        →: |
                                          '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                          		/*console.log("native")
                                          		console.log(page.all_poc_energisme_widget)
                                          		//@ts-ignore
                                          		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                          		//@ts-ignore
                                          		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                          		//@ts-ignore
                                          		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                          		page.all_poc_energisme_widget.forEach( (x) => {
                                          			console.log("x")
                                          			console.log(x)
                                          		})*/
                                          		page.ref.detectChanges();
                                          		page.local[''refresh''] = true;
                                          		setTimeout( () => {
                                          			page.local[''refresh''] = false
                                          			page.ref.detectChanges();
                                          		})
                                          		resolve();
                                          '
                              ↓stack [ngx.components.UIControlVariable-1676287979855]: 
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: script:stack
                            ↓CustomAction [ngx.components.UICustomAction-1675157351501]: 
                              actionValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                    →: |
                                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                      		console.log(vars.stack)
                                      		console.log(page.groupChecked)
                                      		console.log(document.getElementById(vars.group))
                                      		var el = document.getElementById(vars.group)
                                      		var shadow = el.shadowRoot
                                      		console.log(el.shadowRoot.childNodes)
                                      		console.log(shadow)
                                      		var check = shadow.childNodes[2]
                                      		console.log(check[''attributes''][1][''nodeValue''])
                                      		resolve();
                                      '
                              isEnabled: false
                              ↓stack [ngx.components.UIControlVariable-1675157360253]: 
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: script:stack
                              ↓group [ngx.components.UIControlVariable-1675174502556]: 
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: script:group.name
                            ↓Else_Handler [ngx.components.UIActionElseEvent-1674729371523]: 
                              ↓Toast [ngx.components.UIDynamicAction-1674729371526]: 
                                beanData: '{"ionBean":"ToastAction","message":"script:JSON.stringify(stack[''selectAllOnChange''].out.detail.checked)"}'
                                isEnabled: false
                              ↓IfElse [ngx.components.UIDynamicIf-1674729371529]: 
                                beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll && !stack.root.out.detail.checked"}'
                                comment: case all selected and sites unchecked
                                isEnabled: false
                                ↓CallSequence [ngx.components.UIDynamicAction-1674729371532]: 
                                  beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                                  comment: before accordion update
                                  isEnabled: false
                                  ↓group_name [ngx.components.UIControlVariable-1674729371535]: 
                                    comment: new variable
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: script:stack.root.out.detail.value
                                  ↓removeSitesToLocal [ngx.components.UICustomAction-1674729371538]: 
                                    actionValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                          →: |
                                            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                            		console.log(props)
                                            		console.log(event)
                                            		var sites = vars.sites;
                                            		for(var i = 0; i < sites.length; i++) {
                                            			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                            				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                            			}
                                            		}
                                            		
                                            		console.log("after loop")
                                            		console.log(page.local["sitesToCall"])
                                            		page.global[''sequenceParams''] = {
                                            			date_start: page.global[''date_start''],
                                            			date_end: page.global[''date_end''],
                                            			sites: JSON.stringify(page.local[''sitesToCall'']),
                                            			agg_function: ''month'',
                                            			label: '''',
                                            			synthese: this.syntheseSelected,
                                            			limit: 20
                                            		}
                                            		
                                            		resolve();
                                            '
                                    ↓sites [ngx.components.UIControlVariable-1674729371541]: 
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                ↓Toast [ngx.components.UIDynamicAction-1674729371544]: 
                                  beanData: '{"ionBean":"ToastAction","message":"plain:this.selectAll == true && !this.stack.root.out.detail.checked"}'
                                  isEnabled: false
                                ↓removeSitesToLocal [ngx.components.UICustomAction-1674739232061]: 
                                  actionValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                        →: |
                                          '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                          		console.log(props)
                                          		console.log(event)
                                          		var sites = vars.sites;
                                          		for(var i = 0; i < sites.length; i++) {
                                          			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                          				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                          			}
                                          		}
                                          		
                                          		console.log("after loop")
                                          		console.log(page.local["sitesToCall"])
                                          		page.global[''sequenceParams''] = {
                                          			date_start: page.global[''date_start''],
                                          			date_end: page.global[''date_end''],
                                          			sites: JSON.stringify(page.local[''sitesToCall'']),
                                          			agg_function: ''month'',
                                          			label: '''',
                                          			synthese: this.syntheseSelected,
                                          			limit: 20
                                          		}
                                          		
                                          		resolve();
                                          '
                                  ↓sites [ngx.components.UIControlVariable-1674739232064]: 
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: script:stack.root.scope.group.sites
                                ↓Else_Handler [ngx.components.UIActionElseEvent-1674729371547]: 
                                  ↓If [ngx.components.UIDynamicAction-1674729371550]: 
                                    beanData: '{"ionBean":"IfAction","condition":"script:!this.selectAll && !stack.root.out.detail.checked"}'
                                    isEnabled: false
                                    ↓removeSitesToLocal [ngx.components.UICustomAction-1674729371553]: 
                                      actionValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                            →: |
                                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                              		console.log(props)
                                              		console.log(event)
                                              		var sites = vars.sites;
                                              		for(var i = 0; i < sites.length; i++) {
                                              			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                              				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                              			}
                                              		}
                                              		
                                              		console.log("after loop")
                                              		console.log(page.local["sitesToCall"])
                                              		/*
                                              		page.local[''sequenceParams''] = {
                                              			date_start: ''2021-01-01'',
                                              			date_end: ''2022-12-01'',
                                              			sites: JSON.stringify(page.local[''sitesToCall'']),
                                              			agg_function: ''month'',
                                              			label: ''''
                                              		}
                                              		*/
                                              		resolve();
                                              '
                                      ↓sites [ngx.components.UIControlVariable-1674729371556]: 
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                  ↓SetLocal [ngx.components.UIDynamicAction-1674729371559]: 
                                    beanData: |
                                      '{
                                       "ionBean": "SetLocalAction",
                                       "Property": "plain:sitesToCall",
                                       "Value": "script:[]"
                                      }'
                                  ↓IfElse [ngx.components.UIDynamicIf-1675177052307]: 
                                    beanData: '{"ionBean":"IfElseAction","condition":"script:!this.selectAll && !stack.root.out.detail.checked"}'
                                    isEnabled: false
                                    ↓removeSitesToLocal [ngx.components.UICustomAction-1675177078198]: 
                                      actionValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                            →: |
                                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                              		console.log(props)
                                              		console.log(event)
                                              		var sites = vars.sites;
                                              		for(var i = 0; i < sites.length; i++) {
                                              			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                              				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                              			}
                                              		}
                                              		
                                              		console.log("after loop")
                                              		console.log(page.local["sitesToCall"])
                                              		/*
                                              		page.local[''sequenceParams''] = {
                                              			date_start: ''2021-01-01'',
                                              			date_end: ''2022-12-01'',
                                              			sites: JSON.stringify(page.local[''sitesToCall'']),
                                              			agg_function: ''month'',
                                              			label: ''''
                                              		}
                                              		*/
                                              		resolve();
                                              '
                                      ↓sites [ngx.components.UIControlVariable-1675177078201]: 
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: script:stack.root.scope.group.sites
                                    ↓Else_Handler [ngx.components.UIActionElseEvent-1675177059607]: 
                                      ↓SetLocal [ngx.components.UIDynamicAction-1675177080913]: 
                                        beanData: |
                                          '{
                                           "ionBean": "SetLocalAction",
                                           "Property": "plain:sitesToCall",
                                           "Value": "script:[]"
                                          }'
                              ↓CallSequence [ngx.components.UIDynamicAction-1674729371562]: 
                                beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                                isEnabled: false
                                ↓group_name [ngx.components.UIControlVariable-1674729371565]: 
                                  comment: new variable
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: script:stack.root.out.detail.value
                                ↓removeSitesToLocal [ngx.components.UICustomAction-1674729371568]: 
                                  actionValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                        →: |
                                          '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                          		console.log(props)
                                          		console.log(event)
                                          		var sites = vars.sites;
                                          		for(var i = 0; i < sites.length; i++) {
                                          			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                          				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                          			}
                                          		}
                                          		
                                          		console.log("after loop")
                                          		console.log(page.local["sitesToCall"])
                                          		page.local[''sequenceParams''] = {
                                          			date_start: ''2021-01-01'',
                                          			date_end: ''2022-12-01'',
                                          			sites: page.local[''sitesToCall''],
                                          			agg_function: ''month'',
                                          			label: ''''
                                          		}
                                          		
                                          		resolve();
                                          '
                                  ↓sites [ngx.components.UIControlVariable-1674729371571]: 
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                              ↓IfElse1 [ngx.components.UIDynamicIf-1674729371574]: 
                                beanData: '{"ionBean":"IfElseAction","condition":"script:!this.selectAll"}'
                                isEnabled: false
                              ↓CustomAction [ngx.components.UICustomAction-1674729371577]: 
                                actionValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                      →: |
                                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                        		console.log("props")
                                        		console.log(props)
                                        		resolve();
                                        '
                                isEnabled: false
                              ↓IfElse2 [ngx.components.UIDynamicIf-1675183544541]: 
                                beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == false && this.local[''parentGroupStatus''] && !stack.root.out.detail.checked"}'
                                comment: case not selectAll and group checked and site unchecked
                                ↓removeSitesToLocal [ngx.components.UICustomAction-1675183633509]: 
                                  actionValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                        →: |
                                          '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                          		console.log(props)
                                          		console.log(event)
                                          		var site = vars.site;
                                          		/*
                                          		for(var i = 0; i < sites.length; i++) {
                                          			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                          				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                          			}
                                          		}
                                          		*/
                                          		for(var i = 0; i < page.local[''sitesToCall''].length; i++) {
                                          			if(page.local[''sitesToCall''].indexOf(site) != -1) {
                                          				page.local[''sitesToCall''].splice(page.local[''sitesToCall''].indexOf(site), 1)
                                          			}
                                          		}
                                          		
                                          		console.log("after loop")
                                          		console.log(page.local["sitesToCall"])
                                          		page.global[''sequenceParams''] = {
                                          			date_start: page.global[''date_start''],
                                          			date_end: page.global[''date_end''],
                                          			sites: JSON.stringify(page.local[''sitesToCall'']),
                                          			agg_function: ''month'',
                                          			label: '''',
                                          			synthese: this.syntheseSelected,
                                          			limit: 20
                                          		}
                                          		
                                          		resolve();
                                          '
                                  ↓site [ngx.components.UIControlVariable-1675183633512]: 
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: script:site.id
                                ↓Else_Handler [ngx.components.UIActionElseEvent-1675183676898]: 
                                  ↓If [ngx.components.UIDynamicAction-1675183685274]: 
                                    beanData: '{"ionBean":"IfAction","condition":"script:this.selectAll == true && !stack.root.out.detail.checked"}'
                                    isEnabled: false
                                    ↓removeSitesToLocal [ngx.components.UICustomAction-1675256922204]: 
                                      actionValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                            →: |
                                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                              		console.log(props)
                                              		console.log(event)
                                              		var site = ""+vars.site;
                                              		/*
                                              		for(var i = 0; i < sites.length; i++) {
                                              			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                              				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                              			}
                                              		}
                                              		*/
                                              		for(var i = 0; i < page.local[''sitesToCall''].length; i++) {
                                              			if(page.local[''sitesToCall''].indexOf(site) != -1) {
                                              				page.local[''sitesToCall''].splice(page.local[''sitesToCall''].indexOf(site), 1)
                                              			}
                                              		}
                                              		
                                              		console.log("after loop")
                                              		console.log(page.local["sitesToCall"])
                                              		page.global[''sequenceParams''] = {
                                              			date_start: page.global[''date_start''],
                                              			date_end: page.global[''date_end''],
                                              			sites: JSON.stringify(page.local[''sitesToCall'']),
                                              			agg_function: ''month'',
                                              			label: '''',
                                              			synthese: this.syntheseSelected,
                                              			limit: 20
                                              		}
                                              		
                                              		resolve();
                                              '
                                      ↓site [ngx.components.UIControlVariable-1675256922207]: 
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: script:site.id
                                  ↓IfElse [ngx.components.UIDynamicIf-1675691040935]: 
                                    beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == true && !stack.root.out.detail.checked"}'
                                    comment: case selectAll and site unchecked
                                    ↓removeSitesToLocal [ngx.components.UICustomAction-1675691053499]: 
                                      actionValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                            →: |
                                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                              		console.log(props)
                                              		console.log(event)
                                              		var site = vars.site;
                                              		/*
                                              		for(var i = 0; i < sites.length; i++) {
                                              			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                              				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                              			}
                                              		}
                                              		*/
                                              		for(var i = 0; i < page.local[''sitesToCall''].length; i++) {
                                              			if(page.local[''sitesToCall''].indexOf(site) != -1) {
                                              				page.local[''sitesToCall''].splice(page.local[''sitesToCall''].indexOf(site), 1)
                                              			}
                                              		}
                                              		
                                              		console.log("after loop")
                                              		console.log(page.local["sitesToCall"])
                                              		page.global[''sequenceParams''] = {
                                              			date_start: page.global[''date_start''],
                                              			date_end: page.global[''date_end''],
                                              			sites: JSON.stringify(page.local[''sitesToCall'']),
                                              			agg_function: ''month'',
                                              			label: '''',
                                              			synthese: this.syntheseSelected,
                                              			limit: 20
                                              		}
                                              		
                                              		resolve();
                                              '
                                      ↓site [ngx.components.UIControlVariable-1675691053502]: 
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: script:site.id
                                    ↓Else_Handler [ngx.components.UIActionElseEvent-1675691062159]: 
                                      ↓IfElse [ngx.components.UIDynamicIf-1675847373562]: 
                                        beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == true && stack.root.out.detail.checked"}'
                                        ↓pushSitesToLocal [ngx.components.UICustomAction-1675847485611]: 
                                          actionValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                →: |
                                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                  		console.log(props)
                                                  		console.log(event)
                                                  		var sites = vars.sites;
                                                  		/*
                                                  		for(var i = 0; i < sites.length; i++) {
                                                  			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                                  				page.local["sitesToCall"].push(sites[i])
                                                  			}
                                                  		}
                                                  		*/
                                                  		
                                                  		// if(this.selectAll == false) {
                                                  			for(var i = 0; i < sites.length; i++) {
                                                  			page.local["sitesToCall"].push(sites[i])
                                                  		}
                                                  		
                                                  		console.log("after loop")
                                                  		page.global[''sequenceParams''] = {
                                                  			date_start: page.global[''date_start''],
                                                  			date_end: page.global[''date_end''],
                                                  			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                  			agg_function: ''month'',
                                                  			label: '''',
                                                  			synthese: page.syntheseSelected,
                                                  			limit: 20
                                                  		}
                                                  		console.log(page.local["sitesToCall"])
                                                  		//}
                                                  		
                                                  		
                                                  		resolve();
                                                  '
                                          ↓sites [ngx.components.UIControlVariable-1675847485614]: 
                                            varValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                - MobileSmartSourceType: script:[stack.root.scope.site.id]
                                          ↓CallSequence [ngx.components.UIDynamicAction-1675847485617]: 
                                            beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                                            isEnabled: false
                                            ↓date_start [ngx.components.UIControlVariable-1675847485620]: 
                                              comment: date_start
                                              varValue: 
                                                - xmlizable: 
                                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                  - MobileSmartSourceType: plain:2021-01-01
                                            ↓date_end [ngx.components.UIControlVariable-1675847485623]: 
                                              comment: date_end
                                              varValue: 
                                                - xmlizable: 
                                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                  - MobileSmartSourceType: plain:2022-01-01
                                            ↓sites [ngx.components.UIControlVariable-1675847485626]: 
                                              comment: new variable
                                              varValue: 
                                                - xmlizable: 
                                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                  - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                                            ↓agg_function [ngx.components.UIControlVariable-1675847485629]: 
                                              comment: new variable
                                              varValue: 
                                                - xmlizable: 
                                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                  - MobileSmartSourceType: plain:week
                                            ↓chartType [ngx.components.UIControlVariable-1675847485632]: 
                                              comment: new variable
                                              varValue: 
                                                - xmlizable: 
                                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                  - MobileSmartSourceType: plain:bar
                                            ↓CustomAction [ngx.components.UICustomAction-1675847485635]: 
                                              actionValue: 
                                                - xmlizable: 
                                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                    →: |
                                                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                      		/*console.log("native")
                                                      		console.log(page.all_poc_energisme_widget)
                                                      		//@ts-ignore
                                                      		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                                      		//@ts-ignore
                                                      		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                                      		//@ts-ignore
                                                      		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                                      		page.all_poc_energisme_widget.forEach( (x) => {
                                                      			console.log("x")
                                                      			console.log(x)
                                                      		})*/
                                                      		page.ref.detectChanges();
                                                      		page.local[''refresh''] = true;
                                                      		setTimeout( () => {
                                                      			page.local[''refresh''] = false
                                                      			page.ref.detectChanges();
                                                      		})
                                                      		resolve();
                                                      '
                                        ↓Else_Handler [ngx.components.UIActionElseEvent-1675847477266]: 
                                          ↓If [ngx.components.UIDynamicAction-1675691076654]: 
                                            beanData: '{"ionBean":"IfAction","condition":"script:this.selectAll == false && this.local[''parentGroupStatus''] && stack.root.out.detail.checked"}'
                                            comment: case not selectAll and group check and site checked
                                            ↓pushSitesToLocal [ngx.components.UICustomAction-1675691108863]: 
                                              actionValue: 
                                                - xmlizable: 
                                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                    →: |
                                                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                      		console.log(props)
                                                      		console.log(event)
                                                      		var sites = vars.sites;
                                                      		/*
                                                      		for(var i = 0; i < sites.length; i++) {
                                                      			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                                      				page.local["sitesToCall"].push(sites[i])
                                                      			}
                                                      		}
                                                      		*/
                                                      		
                                                      		for(var i = 0; i < sites.length; i++) {
                                                      			page.local["sitesToCall"].push(sites[i])
                                                      		}
                                                      		
                                                      		console.log("after loop")
                                                      		page.global[''sequenceParams''] = {
                                                      			date_start: page.global[''date_start''],
                                                      			date_end: page.global[''date_end''],
                                                      			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                      			agg_function: ''month'',
                                                      			label: '''',
                                                      			synthese: page.syntheseSelected,
                                                      			limit: 20
                                                      		}
                                                      		console.log(page.local["sitesToCall"])
                                                      		
                                                      		resolve();
                                                      '
                                              ↓sites [ngx.components.UIControlVariable-1675691108866]: 
                                                varValue: 
                                                  - xmlizable: 
                                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                    - MobileSmartSourceType: script:[stack.root.scope.site.id]
                                              ↓CallSequence [ngx.components.UIDynamicAction-1675691108869]: 
                                                beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                                                isEnabled: false
                                                ↓date_start [ngx.components.UIControlVariable-1675691108872]: 
                                                  comment: date_start
                                                  varValue: 
                                                    - xmlizable: 
                                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                      - MobileSmartSourceType: plain:2021-01-01
                                                ↓date_end [ngx.components.UIControlVariable-1675691108875]: 
                                                  comment: date_end
                                                  varValue: 
                                                    - xmlizable: 
                                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                      - MobileSmartSourceType: plain:2022-01-01
                                                ↓sites [ngx.components.UIControlVariable-1675691108878]: 
                                                  comment: new variable
                                                  varValue: 
                                                    - xmlizable: 
                                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                      - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                                                ↓agg_function [ngx.components.UIControlVariable-1675691108881]: 
                                                  comment: new variable
                                                  varValue: 
                                                    - xmlizable: 
                                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                      - MobileSmartSourceType: plain:week
                                                ↓chartType [ngx.components.UIControlVariable-1675691108884]: 
                                                  comment: new variable
                                                  varValue: 
                                                    - xmlizable: 
                                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                      - MobileSmartSourceType: plain:bar
                                                ↓CustomAction [ngx.components.UICustomAction-1675691108887]: 
                                                  actionValue: 
                                                    - xmlizable: 
                                                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                        →: |
                                                          '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                          		/*console.log("native")
                                                          		console.log(page.all_poc_energisme_widget)
                                                          		//@ts-ignore
                                                          		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                                          		//@ts-ignore
                                                          		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                                          		//@ts-ignore
                                                          		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                                          		page.all_poc_energisme_widget.forEach( (x) => {
                                                          			console.log("x")
                                                          			console.log(x)
                                                          		})*/
                                                          		page.ref.detectChanges();
                                                          		page.local[''refresh''] = true;
                                                          		setTimeout( () => {
                                                          			page.local[''refresh''] = false
                                                          			page.ref.detectChanges();
                                                          		})
                                                          		resolve();
                                                          '
                    ↓Label [ngx.components.UIDynamicElement-1674729249610]: 
                      beanData: '{"ionBean":"Label"}'
                      tagName: ion-label
                      ↓Text [ngx.components.UIText-1674729249613]: 
                        textValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: source:{"filter":"Iteration","project":"poc_energisme","input":"","model":{"data":[{"priority":1674729249601},{"priority":1674729096455}],"path":"?.name","prefix":"","suffix":"","custom":"","useCustom":false}}
        ↓_hidden_ [ngx.components.UIAttribute-1676294386626]: 
          attrName: '[hidden]'
          attrValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: script:this.hideMenu
      ↓colCharts [ngx.components.UIDynamicElement-1668692254992]: 
        beanData: |
          '{
           "ionBean": "GridCol",
           "SizeLg": "plain:10",
           "SizeMd": "plain:10"
          }'
        tagName: ion-col
        ↓Grid [ngx.components.UIDynamicElement-1668692318184]: 
          beanData: '{"ionBean":"Grid"}'
          tagName: ion-grid
          ↓rowCharts [ngx.components.UIDynamicElement-1667818587535]: 
            beanData: '{"ionBean":"GridRow","Height":"plain"}'
            tagName: ion-row
            ↓colMesEconomiesDenergies [ngx.components.UIDynamicElement-1667818587537]: 
              beanData: |
                '{
                 "ionBean": "GridCol",
                 "Size": "plain:3",
                 "SizeLg": "plain:3",
                 "SizeMd": "plain:3",
                 "SizeXs": "plain:12"
                }'
              tagName: ion-col
              ↓UseSharedComponent [ngx.components.UIUseShared-1669284214451]: 
                sharedcomponent: poc_energisme.Application.NgxApp.widget
                ↓title [ngx.components.UIUseVariable-1669284224399]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: plain:Mes économies d'énergies
                ↓sequenceToCall [ngx.components.UIUseVariable-1669284224401]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'.widget_conso_gauge'
                ↓sequenceParams [ngx.components.UIUseVariable-1669284224403]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:this.global['sequenceParams']
                ↓isGoogleMap [ngx.components.UIUseVariable-1669284224405]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isGauge [ngx.components.UIUseVariable-1669284224407]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'true'
                ↓isInModal [ngx.components.UIUseVariable-1669295933914]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isHeatmap [ngx.components.UIUseVariable-1669391093638]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓sequenceMarker [ngx.components.UIUseVariable-1673604021230]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:''
                ↓aggregation [ngx.components.UIUseVariable-1674229560312]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'true'
            ↓colChartMesConsommationsTotales [ngx.components.UIDynamicElement-1667818587543]: 
              beanData: |
                '{
                 "ionBean": "GridCol",
                 "SizeLg": "plain:3",
                 "SizeMd": "plain:3",
                 "SizeXs": "plain:12"
                }'
              tagName: ion-col
              ↓UseSharedComponent [ngx.components.UIUseShared-1667818636075]: 
                sharedcomponent: poc_energisme.Application.NgxApp.widget
                ↓title [ngx.components.UIUseVariable-1667818636078]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'Mes consommations totales'
                ↓sequenceToCall [ngx.components.UIUseVariable-1668519738805]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'.widget_conso_total'
                ↓sequenceParams [ngx.components.UIUseVariable-1668612597894]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:this.global['sequenceParams']
                ↓isGoogleMap [ngx.components.UIUseVariable-1669045508433]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isGauge [ngx.components.UIUseVariable-1669284620711]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isInModal [ngx.components.UIUseVariable-1669295942992]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isHeatmap [ngx.components.UIUseVariable-1669391099741]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓sequenceMarker [ngx.components.UIUseVariable-1673517316347]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'consoTotal'
              ↓Directive [ngx.components.UIControlDirective-1673451703741]: 
                directiveExpression: this.local['refresh'] != true
                directiveName: If
                isEnabled: false
            ↓colChartEvolutionDeMesConsommations [ngx.components.UIDynamicElement-1667818609564]: 
              beanData: |
                '{
                 "ionBean": "GridCol",
                 "SizeLg": "plain:6",
                 "SizeMd": "plain:6",
                 "SizeXs": "plain:12"
                }'
              tagName: ion-col
              ↓UseSharedComponent [ngx.components.UIUseShared-1668681549063]: 
                sharedcomponent: poc_energisme.Application.NgxApp.widget
                ↓title [ngx.components.UIUseVariable-1668681558074]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: plain:Evolution de mes consommations
                ↓sequenceToCall [ngx.components.UIUseVariable-1668681558090]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'.widget_conso'
                ↓sequenceParams [ngx.components.UIUseVariable-1668681558092]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:this.global['sequenceParams']
                ↓isGoogleMap [ngx.components.UIUseVariable-1669045505787]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isGauge [ngx.components.UIUseVariable-1669284672797]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isInModal [ngx.components.UIUseVariable-1669295951608]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isHeatmap [ngx.components.UIUseVariable-1669391111006]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓sequenceMarker [ngx.components.UIUseVariable-1673517320331]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'consoEvol'
                ↓aggregation [ngx.components.UIUseVariable-1673883378185]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'true'
          ↓rowMapsAndSitesEnergivore [ngx.components.UIDynamicElement-1668691043090]: 
            beanData: '{"ionBean":"GridRow","Height":"plain"}'
            tagName: ion-row
            ↓colMaps [ngx.components.UIDynamicElement-1668691043092]: 
              beanData: |
                '{
                 "ionBean": "GridCol",
                 "SizeLg": "plain:3",
                 "SizeMd": "plain:3",
                 "SizeXs": "plain:12"
                }'
              tagName: ion-col
              ↓GoogleMap [ngx.components.UIDynamicElement-1668691077158]: 
                beanData: '{"ionBean":"GoogleMap"}'
                isEnabled: false
                tagName: agm-map
                ↓MapCircle [ngx.components.UIDynamicElement-1668691077160]: 
                  beanData: '{"ionBean":"MapCircle"}'
                  isEnabled: false
                  tagName: agm-circle
                ↓MapMarker [ngx.components.UIDynamicElement-1668691077162]: 
                  beanData: '{"ionBean":"MapMarker"}'
                  tagName: agm-marker
              ↓UseSharedComponent [ngx.components.UIUseShared-1669045595835]: 
                sharedcomponent: poc_energisme.Application.NgxApp.widget
                ↓title [ngx.components.UIUseVariable-1669045607704]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'Mes sites'
                ↓sequenceToCall [ngx.components.UIUseVariable-1669045607706]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'.widget_maps'
                ↓sequenceParams [ngx.components.UIUseVariable-1669045607708]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:this.global['sequenceParams']
                ↓isGoogleMap [ngx.components.UIUseVariable-1669045607710]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'true'
                ↓isGauge [ngx.components.UIUseVariable-1669284685133]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isInModal [ngx.components.UIUseVariable-1669295961718]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isHeatmap [ngx.components.UIUseVariable-1669391120690]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
            ↓colChartSiteEnergivore [ngx.components.UIDynamicElement-1668691043098]: 
              beanData: |
                '{
                 "ionBean": "GridCol",
                 "SizeLg": "plain:9",
                 "SizeMd": "plain:9",
                 "SizeXs": "plain:12"
                }'
              tagName: ion-col
              ↓UseSharedComponent [ngx.components.UIUseShared-1668691089715]: 
                sharedcomponent: poc_energisme.Application.NgxApp.widget
                ↓title [ngx.components.UIUseVariable-1668691110898]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: plain:Classement des sites les plus énergivores
                ↓sequenceToCall [ngx.components.UIUseVariable-1668691110914]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'.widget_multisite_sites_energivore'
                ↓sequenceParams [ngx.components.UIUseVariable-1668691110916]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:this.global['sequenceParams']
                ↓isGoogleMap [ngx.components.UIUseVariable-1669045497660]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isGauge [ngx.components.UIUseVariable-1669284692254]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isInModal [ngx.components.UIUseVariable-1669295969984]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isHeatmap [ngx.components.UIUseVariable-1669391132623]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓sequenceMarker [ngx.components.UIUseVariable-1673861229042]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:''
          ↓rowSitesLesPlusConsoDelec [ngx.components.UIDynamicElement-1669042791602]: 
            beanData: '{"ionBean":"GridRow","Height":"plain"}'
            isEnabled: false
            tagName: ion-row
            ↓colSitesLesPlusConsoDelec [ngx.components.UIDynamicElement-1669042791604]: 
              beanData: '{"ionBean":"GridCol","SizeXs":"plain:12"}'
              tagName: ion-col
              ↓UseSharedComponent [ngx.components.UIUseShared-1669042815761]: 
                sharedcomponent: poc_energisme.Application.NgxApp.widget
                ↓title [ngx.components.UIUseVariable-1669042830397]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: plain:Sites les plus consommateurs d'électricité
                ↓sequenceToCall [ngx.components.UIUseVariable-1669042830399]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'.multisite_sites_energivore_elec'
                ↓sequenceParams [ngx.components.UIUseVariable-1669042830401]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: |
                          'script:{
                          	limit: ''20''
                          }'
                ↓isGoogleMap [ngx.components.UIUseVariable-1669045481698]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isGauge [ngx.components.UIUseVariable-1669284698712]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isInModal [ngx.components.UIUseVariable-1669295979161]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isHeatmap [ngx.components.UIUseVariable-1669391144300]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
          ↓rowSitesLesPlusConsoDeGaz [ngx.components.UIDynamicElement-1669044469823]: 
            beanData: '{"ionBean":"GridRow","Height":"plain"}'
            isEnabled: false
            tagName: ion-row
            ↓colSitesLesPlusConsoDeGaz [ngx.components.UIDynamicElement-1669044469826]: 
              beanData: '{"ionBean":"GridCol","SizeXs":"plain:12"}'
              tagName: ion-col
              ↓UseSharedComponent [ngx.components.UIUseShared-1669044469829]: 
                sharedcomponent: poc_energisme.Application.NgxApp.widget
                ↓title [ngx.components.UIUseVariable-1669044469832]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: plain:Sites les plus consommateurs de gaz naturel
                ↓sequenceToCall [ngx.components.UIUseVariable-1669044469835]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'.multisite_sites_energivore_gaz'
                ↓sequenceParams [ngx.components.UIUseVariable-1669044469838]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: |
                          'script:{
                          	limit: ''20''
                          }'
                ↓isGoogleMap [ngx.components.UIUseVariable-1669045472319]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isGauge [ngx.components.UIUseVariable-1669284706700]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isInModal [ngx.components.UIUseVariable-1669295993017]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isHeatmap [ngx.components.UIUseVariable-1669391150568]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
      ↓colNotes [ngx.components.UIDynamicElement-1668692254998]: 
        beanData: |
          '{
           "ionBean": "GridCol",
           "SizeLg": "plain:2",
           "SizeMd": "plain:2",
           "SizeXs": "plain:12"
          }'
        tagName: ion-col
        ↓Label [ngx.components.UIDynamicElement-1668692255000]: 
          beanData: '{"ionBean":"Label"}'
          tagName: ion-label
          ↓Text [ngx.components.UIText-1668692255002]: 
            textValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: plain:Notes
        ↓UseSharedComponent [ngx.components.UIUseShared-1671700435640]: 
          sharedcomponent: lib_ExtendedComponents_ui_ngx.MobileApplication.Application.tinyMce
          ↓model [ngx.components.UIUseVariable-1671700683937]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:
          ↓init [ngx.components.UIUseVariable-1671700683939]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: |
                    'script:{
                        placeholder: ''My placeholder'',
                            plugins: ''noneditable print preview paste importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap quickbars emoticons'',
                            imagetools_cors_hosts: [''picsum.photos''],
                            menubar: ''file edit view insert format tools table help'',
                            toolbar: ''undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media template link anchor codesample | ltr rtl'',
                            toolbar_sticky: true,
                            autosave_ask_before_unload: true,
                            autosave_interval: ''30s'',
                            autosave_prefix: ''{path}{query}-{id}-'',
                            autosave_restore_when_empty: false,
                            autosave_retention: ''2m'',
                            image_advtab: true,
                            importcss_append: true,
                            template_cdate_format: ''[Date Created (CDATE): %m/%d/%Y : %H:%M:%S]'',
                            template_mdate_format: ''[Date Modified (MDATE): %m/%d/%Y : %H:%M:%S]'',
                            height: 600,
                            image_caption: true,
                            quickbars_selection_toolbar: ''bold italic | quicklink h2 h3 blockquote quickimage quicktable'',
                            noneditable_noneditable_class: ''mceNonEditable'',
                            toolbar_mode: ''sliding'',
                            contextmenu: ''link image imagetools table'',
                            allow_html_in_named_anchor: true,
                            branding: false,
                    	 valid_elements : ''*[*]'',
                    	 apply_source_formatting : false,                
                            verify_html : false
                        }'
          ↓disabled [ngx.components.UIUseVariable-1671700683941]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:''
          ↓apiKey [ngx.components.UIUseVariable-1671700683943]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:
          ↓cloudChannel [ngx.components.UIUseVariable-1671700683945]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:'5-dev'
          ↓id [ngx.components.UIUseVariable-1671700683947]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:''
          ↓initialValue [ngx.components.UIUseVariable-1671700683949]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:''
          ↓inline [ngx.components.UIUseVariable-1671700683951]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:false
          ↓tagName [ngx.components.UIUseVariable-1671700683953]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:'div'
          ↓plugins [ngx.components.UIUseVariable-1671700683955]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:['advlist autolink lists link image charmap print preview anchor','searchreplace visualblocks code fullscreen','insertdatetime media table paste code imagetools help wordcount']
          ↓toolbar [ngx.components.UIUseVariable-1671700683957]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | \bullist numlist outdent indent | removeformat | link image | help'
    ↓GridRow [ngx.components.UIDynamicElement-1676296043044]: 
      beanData: '{"ionBean":"GridRow","Height":"plain"}'
      tagName: ion-row
      ↓colMenuLeft [ngx.components.UIDynamicElement-1676296043033]: 
        beanData: '{"ionBean":"GridCol","Size":"script:(this.hideMenu) ? ''0.5'' : ''2''"}'
        tagName: ion-col
        ↓Grid [ngx.components.UIDynamicElement-1676296346745]: 
          beanData: '{"ionBean":"Grid","Height":"script:(this.hideMenu) ? ''100%'' : ''''"}'
          tagName: ion-grid
          ↓rowShowHideMenu [ngx.components.UIDynamicElement-1676296409302]: 
            beanData: '{"ionBean":"GridRow","Height":"script:(this.hideMenu) ? ''100%'' : ''''"}'
            tagName: ion-row
            ↓GridCol [ngx.components.UIDynamicElement-1676296409305]: 
              beanData: '{"ionBean":"GridCol"}'
              tagName: ion-col
              ↓Attr [ngx.components.UIAttribute-1676373582916]: 
                attrName: class
                attrValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: plain:bg-grey
              ↓Grid [ngx.components.UIDynamicElement-1676382767522]: 
                beanData: '{"ionBean":"Grid"}'
                tagName: ion-grid
                ↓GridRow [ngx.components.UIDynamicElement-1676382767509]: 
                  beanData: |
                    '{
                     "ionBean": "GridRow",
                     "Height": "script:(this.hideMenu) ? ''100%'' : ''''",
                     "FlexJustifyContent": "plain:ion-justify-content-center",
                     "FlexAlignement": "plain:ion-align-items-center"
                    }'
                  tagName: ion-row
                  ↓colLabelPerimetres [ngx.components.UIDynamicElement-1676382767511]: 
                    beanData: '{"ionBean":"GridCol"}'
                    tagName: ion-col
                    ↓Label1 [ngx.components.UIDynamicElement-1676296409311]: 
                      beanData: '{"ionBean":"Label"}'
                      tagName: ion-label
                      ↓Text [ngx.components.UIText-1676296409314]: 
                        textValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: plain:Périmètres
                    ↓Attr [ngx.components.UIAttribute-1676393722832]: 
                      attrName: '[ngClass]'
                      attrValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: 'script:this.hideMenu == true ? ''text-vertically'' : '''''
                  ↓GridCol1 [ngx.components.UIDynamicElement-1676382767517]: 
                    beanData: '{"ionBean":"GridCol"}'
                    tagName: ion-col
                    ↓Button [ngx.components.UIDynamicElement-1676296409308]: 
                      beanData: |
                        '{
                         "ionBean": "Button",
                         "IonColor": "plain:light",
                         "IonSize": "plain:small"
                        }'
                      tagName: ion-button
                      ↓Event [ngx.components.UIControlEvent-1676296409317]: 
                        ↓setShowHide [ngx.components.UICustomAction-1676296409320]: 
                          actionValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                →: |
                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                  		if(page.hideMenu) {
                                  			page.hideMenu = false;
                                  		} else {
                                  			page.hideMenu = true;
                                  		}
                                  		 //resolve();
                                  '
                      ↓Icon [ngx.components.UIDynamicElement-1676296409323]: 
                        beanData: '{"ionBean":"Icon","IconName":"script:(this.hideMenu) ? ''add'' : ''remove-outline''"}'
                        tagName: ion-icon
                    ↓Style [ngx.components.UIStyle-1676382816604]: 
                      styleContent: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                            →: |
                              '/**
                               * Custom properties (sometimes referred to as CSS variables or cascading variables)
                               * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                               * They are set using custom property notation, e.g.: --main-color: black;
                               * and are accessed using the var() function, e.g.: color: var(--main-color);
                               * You can find below your component''s properties you can customize within the page.
                               * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                               * For more informations see https://ionicframework.com/docs/theming.
                              **/
                              //--ion-grid-column-padding	//Padding for the Column
                              //--ion-grid-column-padding-lg	//Padding for the Column on lg screens and up
                              //--ion-grid-column-padding-md	//Padding for the Column on md screens and up
                              //--ion-grid-column-padding-sm	//Padding for the Column on sm screens and up
                              //--ion-grid-column-padding-xl	//Padding for the Column on xl screens and up
                              //--ion-grid-column-padding-xs	//Padding for the Column on xs screens and up
                              //--ion-grid-columns	//The number of total Columns in the Gri
                              text-align : right;
                              '
                  ↓Style [ngx.components.UIStyle-1676382962260]: 
                    styleContent: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                          →: |
                            ' padding: 5px !important;
                            '
          ↓rowGroups [ngx.components.UIDynamicElement-1676296346732]: 
            beanData: '{"ionBean":"GridRow","Height":"plain"}'
            tagName: ion-row
            ↓colGroups [ngx.components.UIDynamicElement-1676296378534]: 
              beanData: '{"ionBean":"GridCol","Size":"script:(this.hideMenu) ? ''4'' : ''12''"}'
              tagName: ion-col
              ↓Directive [ngx.components.UIControlDirective-1676296378537]: 
                directiveName: If
                directiveSource: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:this.global['groups'] != undefined
                isEnabled: false
              ↓Directive1 [ngx.components.UIControlDirective-1676296378672]: 
                directiveItemName: group
                directiveSource: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.searchGroup","marker":""}],"path":"?.groups","prefix":"","suffix":"","custom":"","useCustom":false}}
                isEnabled: false
                ↓GenericItem [ngx.components.UIDynamicElement-1676296378675]: 
                  beanData: '{"ionBean":"GenericItem"}'
                  tagName: ion-item
                  ↓CheckBox [ngx.components.UIDynamicElement-1676296378678]: 
                    beanData: |
                      '{
                       "ionBean": "CheckBox",
                       "ControlName": "plain:name1671532909462",
                       "Checked": "script:this.selectAll",
                       "Value": "script:group.name"
                      }'
                    tagName: ion-checkbox
                    ↓selectAllOnChange [ngx.components.UIControlEvent-1676296378681]: 
                      attrName: (ionChange)
                      eventName: ionChange
                      ↓IfElse [ngx.components.UIDynamicIf-1676296378684]: 
                        beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == false && parent.out.detail.checked"}'
                        ↓CallSequence [ngx.components.UIDynamicAction-1676296378687]: 
                          beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                          ↓group_name [ngx.components.UIControlVariable-1676296378690]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: script:stack.root.out.detail.value
                          ↓pushSitesToLocal [ngx.components.UICustomAction-1676296378693]: 
                            actionValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                  →: |
                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                    		console.log(props)
                                    		console.log(event)
                                    		var sites = vars.sites;
                                    		/*
                                    		for(var i = 0; i < sites.length; i++) {
                                    			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                    				page.local["sitesToCall"].push(sites[i])
                                    			}
                                    		}
                                    		*/
                                    		
                                    		for(var i = 0; i < sites.length; i++) {
                                    			page.local["sitesToCall"].push(sites[i])
                                    		}
                                    		
                                    		console.log("after loop")
                                    		page.global[''sequenceParams''] = {
                                    			date_start: page.global[''date_start''],
                                    			date_end: page.global[''date_end''],
                                    			sites: JSON.stringify(page.local[''sitesToCall'']),
                                    			agg_function: ''month'',
                                    			label: '''',
                                    			synthese: page.syntheseSelected,
                                    			limit: 20
                                    		}
                                    		console.log(page.local["sitesToCall"])
                                    		
                                    		resolve();
                                    '
                            ↓sites [ngx.components.UIControlVariable-1676296378696]: 
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                            ↓CallSequence [ngx.components.UIDynamicAction-1676296378699]: 
                              beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                              isEnabled: false
                              ↓date_start [ngx.components.UIControlVariable-1676296378702]: 
                                comment: date_start
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: plain:2021-01-01
                              ↓date_end [ngx.components.UIControlVariable-1676296378705]: 
                                comment: date_end
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: plain:2022-01-01
                              ↓sites [ngx.components.UIControlVariable-1676296378708]: 
                                comment: new variable
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                              ↓agg_function [ngx.components.UIControlVariable-1676296378711]: 
                                comment: new variable
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: plain:week
                              ↓chartType [ngx.components.UIControlVariable-1676296378714]: 
                                comment: new variable
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: plain:bar
                              ↓CustomAction [ngx.components.UICustomAction-1676296378717]: 
                                actionValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                      →: |
                                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                        		/*console.log("native")
                                        		console.log(page.all_poc_energisme_widget)
                                        		//@ts-ignore
                                        		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                        		//@ts-ignore
                                        		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                        		//@ts-ignore
                                        		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                        		page.all_poc_energisme_widget.forEach( (x) => {
                                        			console.log("x")
                                        			console.log(x)
                                        		})*/
                                        		page.ref.detectChanges();
                                        		page.local[''refresh''] = true;
                                        		setTimeout( () => {
                                        			page.local[''refresh''] = false
                                        			page.ref.detectChanges();
                                        		})
                                        		resolve();
                                        '
                        ↓Else_Handler [ngx.components.UIActionElseEvent-1676296378720]: 
                          ↓Toast [ngx.components.UIDynamicAction-1676296378723]: 
                            beanData: '{"ionBean":"ToastAction","message":"script:JSON.stringify(stack[''selectAllOnChange''].out.detail.checked)"}'
                            isEnabled: false
                          ↓IfElse [ngx.components.UIDynamicIf-1676296378726]: 
                            beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll && !stack.root.out.detail.checked"}'
                            ↓CallSequence [ngx.components.UIDynamicAction-1676296378729]: 
                              beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                              ↓group_name [ngx.components.UIControlVariable-1676296378732]: 
                                comment: new variable
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: script:stack.root.out.detail.value
                              ↓removeSitesToLocal [ngx.components.UICustomAction-1676296378735]: 
                                actionValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                      →: |
                                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                        		console.log(props)
                                        		console.log(event)
                                        		var sites = vars.sites;
                                        		for(var i = 0; i < sites.length; i++) {
                                        			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                        				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                        			}
                                        		}
                                        		
                                        		console.log("after loop")
                                        		console.log(page.local["sitesToCall"])
                                        		page.global[''sequenceParams''] = {
                                        			date_start: page.global[''date_start''],
                                        			date_end: page.global[''date_end''],
                                        			sites: JSON.stringify(page.local[''sitesToCall'']),
                                        			agg_function: ''month'',
                                        			label: '''',
                                        			synthese: this.syntheseSelected,
                                        			limit: 20
                                        		}
                                        		
                                        		resolve();
                                        '
                                ↓sites [ngx.components.UIControlVariable-1676296378738]: 
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                            ↓Toast [ngx.components.UIDynamicAction-1676296378741]: 
                              beanData: '{"ionBean":"ToastAction","message":"plain:this.selectAll == true && !this.stack.root.out.detail.checked"}'
                              isEnabled: false
                            ↓Else_Handler [ngx.components.UIActionElseEvent-1676296378744]: 
                              ↓If [ngx.components.UIDynamicAction-1676296378747]: 
                                beanData: '{"ionBean":"IfAction","condition":"script:!this.selectAll && !stack.root.out.detail.checked"}'
                                isEnabled: false
                                ↓removeSitesToLocal [ngx.components.UICustomAction-1676296378750]: 
                                  actionValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                        →: |
                                          '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                          		console.log(props)
                                          		console.log(event)
                                          		var sites = vars.sites;
                                          		for(var i = 0; i < sites.length; i++) {
                                          			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                          				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                          			}
                                          		}
                                          		
                                          		console.log("after loop")
                                          		console.log(page.local["sitesToCall"])
                                          		/*
                                          		page.local[''sequenceParams''] = {
                                          			date_start: ''2021-01-01'',
                                          			date_end: ''2022-12-01'',
                                          			sites: JSON.stringify(page.local[''sitesToCall'']),
                                          			agg_function: ''month'',
                                          			label: ''''
                                          		}
                                          		*/
                                          		resolve();
                                          '
                                  ↓sites [ngx.components.UIControlVariable-1676296378753]: 
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                              ↓SetLocal [ngx.components.UIDynamicAction-1676296378756]: 
                                beanData: |
                                  '{
                                   "ionBean": "SetLocalAction",
                                   "Property": "plain:sitesToCall",
                                   "Value": "script:[]"
                                  }'
                          ↓CallSequence [ngx.components.UIDynamicAction-1676296378759]: 
                            beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                            isEnabled: false
                            ↓group_name [ngx.components.UIControlVariable-1676296378762]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: script:stack.root.out.detail.value
                            ↓removeSitesToLocal [ngx.components.UICustomAction-1676296378765]: 
                              actionValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                    →: |
                                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                      		console.log(props)
                                      		console.log(event)
                                      		var sites = vars.sites;
                                      		for(var i = 0; i < sites.length; i++) {
                                      			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                      				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                      			}
                                      		}
                                      		
                                      		console.log("after loop")
                                      		console.log(page.local["sitesToCall"])
                                      		page.local[''sequenceParams''] = {
                                      			date_start: ''2021-01-01'',
                                      			date_end: ''2022-12-01'',
                                      			sites: page.local[''sitesToCall''],
                                      			agg_function: ''month'',
                                      			label: ''''
                                      		}
                                      		
                                      		resolve();
                                      '
                              ↓sites [ngx.components.UIControlVariable-1676296378768]: 
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                          ↓IfElse1 [ngx.components.UIDynamicIf-1676296378771]: 
                            beanData: '{"ionBean":"IfElseAction","condition":"script:!this.selectAll"}'
                            isEnabled: false
                          ↓CustomAction [ngx.components.UICustomAction-1676296378774]: 
                            actionValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                  →: |
                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                    		console.log("props")
                                    		console.log(props)
                                    		resolve();
                                    '
                            isEnabled: false
                  ↓Text [ngx.components.UIText-1676296378777]: 
                    isEnabled: false
                    textValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: script:group.name
                  ↓Directive1 [ngx.components.UIControlDirective-1676296378780]: 
                    directiveName: If
                    directiveSource: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: script:group.name.includes('ad:')
                    ↓Icon [ngx.components.UIDynamicElement-1676296378783]: 
                      beanData: |
                        '{
                         "ionBean": "Icon",
                         "IconName": "source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/Microsoft_Azure.svg''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}",
                         "IconSource": "source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/Microsoft_Azure.svg''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"
                        }'
                      tagName: ion-icon
                      ↓Style [ngx.components.UIStyle-1676296378786]: 
                        styleContent: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                              →: |
                                '	margin-left: 1.0416666666666667vw !important;
                                	margin-right: 1.0416666666666667vw !important;
                                '
                  ↓Directive2 [ngx.components.UIControlDirective-1676296378789]: 
                    directiveName: If
                    directiveSource: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: script:!group.name.includes('ad:')
                    ↓Icon [ngx.components.UIDynamicElement-1676296378792]: 
                      beanData: '{"ionBean":"Icon","IconSource":"source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/c8o.png''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"}'
                      isEnabled: false
                      tagName: ion-icon
                  ↓Text1 [ngx.components.UIText-1676296378795]: 
                    textValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: 'script:(group.name.includes(''ad:'')) ? group.name.slice(3, group.length) + '' (''+ group.count + '')'' : group.name + '' (''+ group.count + '')'''
                  ↓Directive [ngx.components.UIControlDirective-1676296378798]: 
                    directiveName: If
                    directiveSource: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: script:group.name.includes("ad:") == false
                    isEnabled: false
                    ↓ButtonSet1 [ngx.components.UIDynamicElement-1676296378801]: 
                      beanData: '{"ionBean":"ButtonSet","SetPosition":"plain:end"}'
                      tagName: ion-buttons
                      ↓buttonUpdate [ngx.components.UIDynamicElement-1676296378804]: 
                        beanData: '{"ionBean":"Button"}'
                        tagName: ion-button
                        ↓Event [ngx.components.UIControlEvent-1676296378807]: 
                          ↓ModalPage [ngx.components.UIDynamicAction-1676296378810]: 
                            beanData: |
                              '{
                               "ionBean": "ModalAction",
                               "page": "plain:poc_energisme.Application.NgxApp.modalUpdateGroup",
                               "data": "script:{ name: group.name }",
                               "blockWhileDisplayed": "plain:true"
                              }'
                            ↓If [ngx.components.UIDynamicAction-1676296378813]: 
                              beanData: '{"ionBean":"IfAction","condition":"script:parent.out.data.update == \"true\""}'
                              ↓CallSequence [ngx.components.UIDynamicAction-1676296378816]: 
                                beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:lib_FullSyncGrp.GroupsOf"}'
                                ↓user [ngx.components.UIControlVariable-1676296378819]: 
                                  comment: new variable
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                                ↓SetLocal1 [ngx.components.UIDynamicAction-1676296378822]: 
                                  beanData: |
                                    '{
                                     "ionBean": "SetLocalAction",
                                     "Property": "plain:sitesFromGroup",
                                     "Value": "script:[]"
                                    }'
                          ↓Toast [ngx.components.UIDynamicAction-1676296378825]: 
                            beanData: '{"ionBean":"ToastAction","message":"script:group"}'
                            isEnabled: false
                        ↓Icon [ngx.components.UIDynamicElement-1676296378828]: 
                          beanData: '{"ionBean":"Icon","IconName":"source:{\"filter\":\"Icon\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"icon\":\"''pencil''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"}'
                          tagName: ion-icon
                      ↓buttonDelete [ngx.components.UIDynamicElement-1676296378831]: 
                        beanData: '{"ionBean":"Button"}'
                        tagName: ion-button
                        ↓Event [ngx.components.UIControlEvent-1676296378834]: 
                          ↓CallSequence [ngx.components.UIDynamicAction-1676296378837]: 
                            beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:lib_FullSyncGrp.RemoveGroup"}'
                            ↓group [ngx.components.UIControlVariable-1676296378840]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: script:group.name
                            ↓IfElse [ngx.components.UIDynamicIf-1676296378843]: 
                              beanData: '{"ionBean":"IfElseAction","condition":"script:parent.out.success == \"true\""}'
                              ↓CallSequence1 [ngx.components.UIDynamicAction-1676296378846]: 
                                beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.removeAllSitesOfGroup"}'
                                ↓CallSequence [ngx.components.UIDynamicAction-1676296378849]: 
                                  beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:lib_FullSyncGrp.GroupsOf"}'
                                  ↓user [ngx.components.UIControlVariable-1676296378852]: 
                                    comment: new variable
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                                  ↓removeSitesFromGroups [ngx.components.UICustomAction-1676296378855]: 
                                    actionValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                          →: |
                                            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                            		var sites = vars.sites;
                                            		console.log(sites)
                                            		console.log(page.local["sitesFromGroup"])
                                            		
                                            		for(var i = 0; i < sites.length; i++) {
                                            			if(page.local["sitesFromGroup"].includes(sites[i])) {
                                            				page.local["sitesFromGroup"].splice(page.local["sitesFromGroup"].indexOf(sites[i]), 1)
                                            			}
                                            		}
                                            		resolve();
                                            '
                                    isEnabled: false
                                    ↓sites [ngx.components.UIControlVariable-1676296378858]: 
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                  ↓SetLocal1 [ngx.components.UIDynamicAction-1676296378861]: 
                                    beanData: |
                                      '{
                                       "ionBean": "SetLocalAction",
                                       "Property": "plain:sitesFromGroup",
                                       "Value": "script:[]"
                                      }'
                                ↓group [ngx.components.UIControlVariable-1676296378864]: 
                                  comment: new variable
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: script:group.name
                              ↓Toast [ngx.components.UIDynamicAction-1676296378867]: 
                                beanData: '{"ionBean":"ToastAction","message":"plain:Le groupe a été supprimé."}'
                              ↓Else_Handler [ngx.components.UIActionElseEvent-1676296378870]: 
                                ↓Toast [ngx.components.UIDynamicAction-1676296378873]: 
                                  beanData: '{"ionBean":"ToastAction","message":"plain:Un problème est survenue au moment de la suppression du groupe"}'
                        ↓Icon [ngx.components.UIDynamicElement-1676296378876]: 
                          beanData: '{"ionBean":"Icon","IconName":"plain:trash"}'
                          tagName: ion-icon
              ↓Style [ngx.components.UIStyle-1676296378879]: 
                isEnabled: false
                styleContent: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                      →: |
                        '/**
                         * Custom properties (sometimes referred to as CSS variables or cascading variables)
                         * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                         * They are set using custom property notation, e.g.: --main-color: black;
                         * and are accessed using the var() function, e.g.: color: var(--main-color);
                         * You can find below your component''s properties you can customize within the page.
                         * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                         * For more informations see https://ionicframework.com/docs/theming.
                        **/
                        //--ion-grid-column-padding	//Padding for the Column
                        //--ion-grid-column-padding-lg	//Padding for the Column on lg screens and up
                        //--ion-grid-column-padding-md	//Padding for the Column on md screens and up
                        //--ion-grid-column-padding-sm	//Padding for the Column on sm screens and up
                        //--ion-grid-column-padding-xl	//Padding for the Column on xl screens and up
                        //--ion-grid-column-padding-xs	//Padding for the Column on xs screens and up
                        //--ion-grid-columns	//The number of total Columns in the Grid
                        max-height: 70% !important;
                        overflow-y: scroll;
                        '
              ↓Directive2 [ngx.components.UIControlDirective-1676368435291]: 
                directiveName: If
                directiveSource: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:!this.hideMenu
                ↓Form1 [ngx.components.UIForm-1676296378540]: 
                  identifier: formSearchGroup
                  ↓FormItem [ngx.components.UIDynamicElement-1676296378543]: 
                    beanData: '{"ionBean":"FormItem"}'
                    tagName: ion-item
                    ↓SearchBar [ngx.components.UIDynamicElement-1676296378546]: 
                      beanData: '{"ionBean":"Searchbar"}'
                      tagName: ion-searchbar
                      ↓Event [ngx.components.UIControlEvent-1676296378549]: 
                        attrName: (ionChange)
                        eventName: ionChange
                        ↓If [ngx.components.UIDynamicAction-1676296378552]: 
                          beanData: '{"ionBean":"IfAction","condition":"script:event.detail.value.length >= 3"}'
                          isEnabled: false
                          ↓CallSequence [ngx.components.UIDynamicAction-1676296378555]: 
                            beanData: |
                              '{
                               "ionBean": "CallSequenceAction",
                               "requestable": "plain:poc_energisme.searchGroup",
                               "noLoading": "plain:true"
                              }'
                            ↓label [ngx.components.UIControlVariable-1676296378558]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: script:event.detail.value
                            ↓type [ngx.components.UIControlVariable-1676296378561]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: plain:
                            ↓user [ngx.components.UIControlVariable-1676296378564]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                          ↓If [ngx.components.UIDynamicAction-1676296378567]: 
                            beanData: '{"ionBean":"IfAction","condition":"script:event.detail.value.length == 0"}'
                            ↓CallSequence [ngx.components.UIDynamicAction-1676296378570]: 
                              beanData: |
                                '{
                                 "ionBean": "CallSequenceAction",
                                 "requestable": "plain:poc_energisme.searchGroup",
                                 "noLoading": "plain:true"
                                }'
                              ↓label [ngx.components.UIControlVariable-1676296378573]: 
                                comment: new variable
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: plain:
                              ↓type [ngx.components.UIControlVariable-1676296378576]: 
                                comment: new variable
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: plain:
                              ↓user [ngx.components.UIControlVariable-1676296378579]: 
                                comment: new variable
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                        ↓IfElse [ngx.components.UIDynamicIf-1676296378582]: 
                          beanData: '{"ionBean":"IfElseAction","condition":"script:event.detail.value.length >= 3"}'
                          ↓CallSequence [ngx.components.UIDynamicAction-1676296378585]: 
                            beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.searchGroup"}'
                            ↓label [ngx.components.UIControlVariable-1676296378588]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: script:event.detail.value
                            ↓type [ngx.components.UIControlVariable-1676296378591]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: plain:
                            ↓user [ngx.components.UIControlVariable-1676296378594]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                          ↓Else_Handler [ngx.components.UIActionElseEvent-1676296378597]: 
                            ↓If [ngx.components.UIDynamicAction-1676296378600]: 
                              beanData: '{"ionBean":"IfAction","condition":"script:event.detail.value.length == 0"}'
                              ↓CallSequence [ngx.components.UIDynamicAction-1676296378603]: 
                                beanData: |
                                  '{
                                   "ionBean": "CallSequenceAction",
                                   "requestable": "plain:poc_energisme.searchGroup",
                                   "noLoading": "plain:true"
                                  }'
                                ↓label [ngx.components.UIControlVariable-1676296378606]: 
                                  comment: new variable
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: plain:
                                ↓type [ngx.components.UIControlVariable-1676296378609]: 
                                  comment: new variable
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: plain:
                                ↓user [ngx.components.UIControlVariable-1676296378612]: 
                                  comment: new variable
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                  ↓Event [ngx.components.UIControlEvent-1676296378615]: 
                    attrName: (ngSubmit)
                    eventName: onSubmit
                    ↓Alert [ngx.components.UIDynamicAction-1676296378618]: 
                      beanData: '{"ionBean":"AlertAction","message":"script:''formSample value is\\\\n'' + JSON.stringify(this?.formSample.value)"}'
                ↓selectAll [ngx.components.UIDynamicElement-1676296378621]: 
                  beanData: '{"ionBean":"GenericItem"}'
                  tagName: ion-item
                  ↓Label [ngx.components.UIDynamicElement-1676296378624]: 
                    beanData: '{"ionBean":"Label"}'
                    tagName: ion-label
                    ↓Text [ngx.components.UIText-1676296378627]: 
                      textValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: plain:Tout sélectionner
                  ↓CheckBox [ngx.components.UIDynamicElement-1676296378630]: 
                    beanData: '{"ionBean":"CheckBox","ControlName":"plain:name1673606474497"}'
                    tagName: ion-checkbox
                    ↓Attr [ngx.components.UIAttribute-1676296378633]: 
                      attrName: '[(ngModel)]'
                      attrValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: script:selectAll
                    ↓Event [ngx.components.UIControlEvent-1676296378636]: 
                      attrName: (ionChange)
                      eventName: ionChange
                      ↓IfElse [ngx.components.UIDynamicIf-1676296378639]: 
                        beanData: '{"ionBean":"IfElseAction","condition":"script:parent.out.detail.checked"}'
                        ↓CallSequence [ngx.components.UIDynamicAction-1676296378642]: 
                          beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getAllSitesId"}'
                          comment: before accordion update
                          isEnabled: false
                          ↓updateParams [ngx.components.UICustomAction-1676296378645]: 
                            actionValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                  →: |
                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                    		var sites = vars.sites;
                                    		/*
                                    		for(var i = 0; i < sites.length; i++) {
                                    			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                    				page.local["sitesToCall"].push(sites[i])
                                    			}
                                    		}
                                    		*/
                                    		
                                    		for(var i = 0; i < sites.length; i++) {
                                    			page.local["sitesToCall"].push(sites[i])
                                    		}
                                    		
                                    		console.log("selectall")
                                    		console.log(page.selectAll)
                                    		page.global[''sequenceParams''] = {
                                    			date_start: page.global[''date_start''],
                                    			date_end: page.global[''date_end''],
                                    			sites: JSON.stringify(page.local[''sitesToCall'']),
                                    			agg_function: ''month'',
                                    			label: '''',
                                    			synthese: page.syntheseSelected,
                                    			limit: 20
                                    		}
                                    		console.log(page.local["sitesToCall"])
                                    		resolve();
                                    '
                            ↓sites [ngx.components.UIControlVariable-1676296378648]: 
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getAllSitesId","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                        ↓CallSequence1 [ngx.components.UIDynamicAction-1676296378651]: 
                          beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getAllUserSites"}'
                          ↓user [ngx.components.UIControlVariable-1676296378654]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                          ↓updateParams [ngx.components.UICustomAction-1676296378657]: 
                            actionValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                  →: |
                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                    		var sites = vars.sites;
                                    		/*
                                    		for(var i = 0; i < sites.length; i++) {
                                    			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                    				page.local["sitesToCall"].push(sites[i])
                                    			}
                                    		}
                                    		*/
                                    		
                                    		for(var i = 0; i < sites.length; i++) {
                                    			page.local["sitesToCall"].push(sites[i][''id''])
                                    		}
                                    		
                                    		console.log("selectall")
                                    		console.log(page.selectAll)
                                    		page.global[''sequenceParams''] = {
                                    			date_start: page.global[''date_start''],
                                    			date_end: page.global[''date_end''],
                                    			sites: JSON.stringify(page.local[''sitesToCall'']),
                                    			agg_function: ''month'',
                                    			label: '''',
                                    			synthese: page.syntheseSelected,
                                    			limit: 20
                                    		}
                                    		console.log(page.local["sitesToCall"])
                                    		resolve();
                                    '
                            isEnabled: false
                            ↓sites [ngx.components.UIControlVariable-1676296378660]: 
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getAllUserSites","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                        ↓Else_Handler [ngx.components.UIActionElseEvent-1676296378663]: 
                          ↓SetLocal [ngx.components.UIDynamicAction-1676296378666]: 
                            beanData: |
                              '{
                               "ionBean": "SetLocalAction",
                               "Property": "plain:sitesToCall",
                               "Value": "script:[]"
                              }'
                          ↓Toast [ngx.components.UIDynamicAction-1676296378669]: 
                            beanData: '{"ionBean":"ToastAction"}'
                            isEnabled: false
                ↓AccordionGroup [ngx.components.UIDynamicElement-1676296378882]: 
                  beanData: '{"ionBean":"AccordionGroup"}'
                  tagName: ion-accordion-group
                  ↓group [ngx.components.UIControlDirective-1676296378885]: 
                    directiveItemName: group
                    directiveSource: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.searchGroup","marker":""}],"path":"?.groups","prefix":"","suffix":"","custom":"","useCustom":false}}
                    ↓Accordion [ngx.components.UIDynamicElement-1676296378888]: 
                      beanData: '{"ionBean":"Accordion","Value":"script:group.name"}'
                      tagName: ion-accordion
                      ↓GenericItem [ngx.components.UIDynamicElement-1676296378891]: 
                        beanData: '{"ionBean":"GenericItem","IonSlot":"plain:header"}'
                        tagName: ion-item
                        ↓Label [ngx.components.UIDynamicElement-1676296378894]: 
                          beanData: '{"ionBean":"Label"}'
                          isEnabled: false
                          tagName: ion-label
                          ↓Text [ngx.components.UIText-1676296378897]: 
                            textValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: script:group.name
                        ↓parentCheckBox [ngx.components.UIDynamicElement-1676296378900]: 
                          beanData: |
                            '{
                             "ionBean": "CheckBox",
                             "ControlName": "plain:parentGroup",
                             "DoubleBinding": "script:this.local.grps[group.name]",
                             "Checked": "script:this.selectAll",
                             "Value": "script:group.name"
                            }'
                          tagName: ion-checkbox
                          ↓selectAllOnChange [ngx.components.UIControlEvent-1676296378903]: 
                            attrName: (ionChange)
                            eventName: ionChange
                            ↓IfElse [ngx.components.UIDynamicIf-1676296378906]: 
                              beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == false && parent.out.detail.checked"}'
                              ↓CallSequence [ngx.components.UIDynamicAction-1676296378909]: 
                                beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                                comment: works before accordion update
                                isEnabled: false
                                ↓group_name [ngx.components.UIControlVariable-1676296378912]: 
                                  comment: new variable
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: script:stack.root.out.detail.value
                                ↓pushSitesToLocal [ngx.components.UICustomAction-1676296378915]: 
                                  actionValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                        →: |
                                          '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                          		console.log(props)
                                          		console.log(event)
                                          		var sites = vars.sites;
                                          		/*
                                          		for(var i = 0; i < sites.length; i++) {
                                          			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                          				page.local["sitesToCall"].push(sites[i])
                                          			}
                                          		}
                                          		*/
                                          		
                                          		for(var i = 0; i < sites.length; i++) {
                                          			page.local["sitesToCall"].push(sites[i])
                                          		}
                                          		
                                          		console.log("after loop")
                                          		page.global[''sequenceParams''] = {
                                          			date_start: page.global[''date_start''],
                                          			date_end: page.global[''date_end''],
                                          			sites: JSON.stringify(page.local[''sitesToCall'']),
                                          			agg_function: ''month'',
                                          			label: '''',
                                          			synthese: page.syntheseSelected,
                                          			limit: 20
                                          		}
                                          		console.log(page.local["sitesToCall"])
                                          		
                                          		resolve();
                                          '
                                  ↓sites [ngx.components.UIControlVariable-1676296378918]: 
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                  ↓CallSequence [ngx.components.UIDynamicAction-1676296378921]: 
                                    beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                                    isEnabled: false
                                    ↓date_start [ngx.components.UIControlVariable-1676296378924]: 
                                      comment: date_start
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: plain:2021-01-01
                                    ↓date_end [ngx.components.UIControlVariable-1676296378927]: 
                                      comment: date_end
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: plain:2022-01-01
                                    ↓sites [ngx.components.UIControlVariable-1676296378930]: 
                                      comment: new variable
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                                    ↓agg_function [ngx.components.UIControlVariable-1676296378933]: 
                                      comment: new variable
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: plain:week
                                    ↓chartType [ngx.components.UIControlVariable-1676296378936]: 
                                      comment: new variable
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: plain:bar
                                    ↓CustomAction [ngx.components.UICustomAction-1676296378939]: 
                                      actionValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                            →: |
                                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                              		/*console.log("native")
                                              		console.log(page.all_poc_energisme_widget)
                                              		//@ts-ignore
                                              		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                              		//@ts-ignore
                                              		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                              		//@ts-ignore
                                              		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                              		page.all_poc_energisme_widget.forEach( (x) => {
                                              			console.log("x")
                                              			console.log(x)
                                              		})*/
                                              		page.ref.detectChanges();
                                              		page.local[''refresh''] = true;
                                              		setTimeout( () => {
                                              			page.local[''refresh''] = false
                                              			page.ref.detectChanges();
                                              		})
                                              		resolve();
                                              '
                              ↓pushSitesToLocal [ngx.components.UICustomAction-1676296378942]: 
                                actionValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                      →: |
                                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                        		console.log(props)
                                        		console.log(event)
                                        		var sites = vars.sites;
                                        		/*
                                        		for(var i = 0; i < sites.length; i++) {
                                        			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                        				page.local["sitesToCall"].push(sites[i])
                                        			}
                                        		}
                                        		*/
                                        		
                                        		for(var i = 0; i < sites.length; i++) {
                                        			page.local["sitesToCall"].push(sites[i][''id''])
                                        		}
                                        		
                                        		console.log("after loop")
                                        		page.global[''sequenceParams''] = {
                                        			date_start: page.global[''date_start''],
                                        			date_end: page.global[''date_end''],
                                        			sites: JSON.stringify(page.local[''sitesToCall'']),
                                        			agg_function: ''month'',
                                        			label: '''',
                                        			synthese: page.syntheseSelected,
                                        			limit: 20
                                        		}
                                        		console.log(page.local["sitesToCall"])
                                        		
                                        		resolve();
                                        '
                                comment: from accordion update
                                isEnabled: false
                                ↓sites [ngx.components.UIControlVariable-1676296378945]: 
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: script:stack.root.scope.group.sites
                                ↓CallSequence [ngx.components.UIDynamicAction-1676296378948]: 
                                  beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                                  isEnabled: false
                                  ↓date_start [ngx.components.UIControlVariable-1676296378951]: 
                                    comment: date_start
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: plain:2021-01-01
                                  ↓date_end [ngx.components.UIControlVariable-1676296378954]: 
                                    comment: date_end
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: plain:2022-01-01
                                  ↓sites [ngx.components.UIControlVariable-1676296378957]: 
                                    comment: new variable
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                                  ↓agg_function [ngx.components.UIControlVariable-1676296378960]: 
                                    comment: new variable
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: plain:week
                                  ↓chartType [ngx.components.UIControlVariable-1676296378963]: 
                                    comment: new variable
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: plain:bar
                                  ↓CustomAction [ngx.components.UICustomAction-1676296378966]: 
                                    actionValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                          →: |
                                            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                            		/*console.log("native")
                                            		console.log(page.all_poc_energisme_widget)
                                            		//@ts-ignore
                                            		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                            		//@ts-ignore
                                            		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                            		//@ts-ignore
                                            		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                            		page.all_poc_energisme_widget.forEach( (x) => {
                                            			console.log("x")
                                            			console.log(x)
                                            		})*/
                                            		page.ref.detectChanges();
                                            		page.local[''refresh''] = true;
                                            		setTimeout( () => {
                                            			page.local[''refresh''] = false
                                            			page.ref.detectChanges();
                                            		})
                                            		resolve();
                                            '
                              ↓SetLocal [ngx.components.UIDynamicAction-1676296378969]: 
                                beanData: |
                                  '{
                                   "ionBean": "SetLocalAction",
                                   "Property": "plain:groupChecked",
                                   "Value": "script:group.name"
                                  }'
                              ↓Else_Handler [ngx.components.UIActionElseEvent-1676296378972]: 
                                ↓Toast [ngx.components.UIDynamicAction-1676296378975]: 
                                  beanData: '{"ionBean":"ToastAction","message":"script:JSON.stringify(stack[''selectAllOnChange''].out.detail.checked)"}'
                                  isEnabled: false
                                ↓IfElse [ngx.components.UIDynamicIf-1676296378978]: 
                                  beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll && !stack.root.out.detail.checked"}'
                                  ↓CallSequence [ngx.components.UIDynamicAction-1676296378981]: 
                                    beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                                    comment: before accordion update
                                    isEnabled: false
                                    ↓group_name [ngx.components.UIControlVariable-1676296378984]: 
                                      comment: new variable
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: script:stack.root.out.detail.value
                                    ↓removeSitesToLocal [ngx.components.UICustomAction-1676296378987]: 
                                      actionValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                            →: |
                                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                              		console.log(props)
                                              		console.log(event)
                                              		var sites = vars.sites;
                                              		for(var i = 0; i < sites.length; i++) {
                                              			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                              				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                              			}
                                              		}
                                              		
                                              		console.log("after loop")
                                              		console.log(page.local["sitesToCall"])
                                              		page.global[''sequenceParams''] = {
                                              			date_start: page.global[''date_start''],
                                              			date_end: page.global[''date_end''],
                                              			sites: JSON.stringify(page.local[''sitesToCall'']),
                                              			agg_function: ''month'',
                                              			label: '''',
                                              			synthese: this.syntheseSelected,
                                              			limit: 20
                                              		}
                                              		
                                              		resolve();
                                              '
                                      ↓sites [ngx.components.UIControlVariable-1676296378990]: 
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                  ↓removeSitesToLocal [ngx.components.UICustomAction-1676296378993]: 
                                    actionValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                          →: |
                                            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                            		console.log(props)
                                            		console.log(event)
                                            		var sites = vars.sites;
                                            		for(var i = 0; i < sites.length; i++) {
                                            			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                            				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                            			}
                                            		}
                                            		
                                            		console.log("after loop")
                                            		console.log(page.local["sitesToCall"])
                                            		page.global[''sequenceParams''] = {
                                            			date_start: page.global[''date_start''],
                                            			date_end: page.global[''date_end''],
                                            			sites: JSON.stringify(page.local[''sitesToCall'']),
                                            			agg_function: ''month'',
                                            			label: '''',
                                            			synthese: this.syntheseSelected,
                                            			limit: 20
                                            		}
                                            		
                                            		resolve();
                                            '
                                    ↓sites [ngx.components.UIControlVariable-1676296378996]: 
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: script:stack.root.scope.group.sites
                                  ↓Else_Handler [ngx.components.UIActionElseEvent-1676296378999]: 
                                    ↓If [ngx.components.UIDynamicAction-1676296379002]: 
                                      beanData: '{"ionBean":"IfAction","condition":"script:!this.selectAll && !stack.root.out.detail.checked"}'
                                      isEnabled: false
                                      ↓removeSitesToLocal [ngx.components.UICustomAction-1676296379005]: 
                                        actionValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                              →: |
                                                '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                		console.log(props)
                                                		console.log(event)
                                                		var sites = vars.sites;
                                                		for(var i = 0; i < sites.length; i++) {
                                                			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                                				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                                			}
                                                		}
                                                		
                                                		console.log("after loop")
                                                		console.log(page.local["sitesToCall"])
                                                		/*
                                                		page.local[''sequenceParams''] = {
                                                			date_start: ''2021-01-01'',
                                                			date_end: ''2022-12-01'',
                                                			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                			agg_function: ''month'',
                                                			label: ''''
                                                		}
                                                		*/
                                                		resolve();
                                                '
                                        ↓sites [ngx.components.UIControlVariable-1676296379008]: 
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                    ↓IfElse [ngx.components.UIDynamicIf-1676296379011]: 
                                      beanData: '{"ionBean":"IfElseAction","condition":"script:!this.selectAll && !stack.root.out.detail.checked"}'
                                      ↓removeSitesToLocal [ngx.components.UICustomAction-1676296379014]: 
                                        actionValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                              →: |
                                                '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                		console.log(props)
                                                		console.log(event)
                                                		var sites = vars.sites;
                                                		for(var i = 0; i < sites.length; i++) {
                                                			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                                				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                                			}
                                                		}
                                                		
                                                		console.log("after loop")
                                                		console.log(page.local["sitesToCall"])
                                                		
                                                		page.global[''sequenceParams''] = {
                                                			date_start: page.global[''date_start''],
                                                			date_end: page.global[''date_end''],
                                                			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                			agg_function: ''month'',
                                                			label: '''',
                                                			synthese: this.syntheseSelected,
                                                			limit: 20
                                                		}
                                                		/*
                                                		page.local[''sequenceParams''] = {
                                                			date_start: ''2021-01-01'',
                                                			date_end: ''2022-12-01'',
                                                			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                			agg_function: ''month'',
                                                			label: ''''
                                                		}
                                                		*/
                                                		resolve();
                                                '
                                        ↓sites [ngx.components.UIControlVariable-1676296379017]: 
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: script:stack.root.scope.group.sites
                                      ↓SetLocal [ngx.components.UIDynamicAction-1676380862740]: 
                                        beanData: |
                                          '{
                                           "ionBean": "SetLocalAction",
                                           "Property": "plain:sitesToCall",
                                           "Value": "script:[]"
                                          }'
                                        isEnabled: false
                                      ↓Else_Handler [ngx.components.UIActionElseEvent-1676296379020]: 
                                        ↓SetLocal [ngx.components.UIDynamicAction-1676296379023]: 
                                          beanData: |
                                            '{
                                             "ionBean": "SetLocalAction",
                                             "Property": "plain:sitesToCall",
                                             "Value": "script:[]"
                                            }'
                                ↓CallSequence [ngx.components.UIDynamicAction-1676296379026]: 
                                  beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                                  isEnabled: false
                                  ↓group_name [ngx.components.UIControlVariable-1676296379029]: 
                                    comment: new variable
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: script:stack.root.out.detail.value
                                  ↓removeSitesToLocal [ngx.components.UICustomAction-1676296379032]: 
                                    actionValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                          →: |
                                            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                            		console.log(props)
                                            		console.log(event)
                                            		var sites = vars.sites;
                                            		for(var i = 0; i < sites.length; i++) {
                                            			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                            				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                            			}
                                            		}
                                            		
                                            		console.log("after loop")
                                            		console.log(page.local["sitesToCall"])
                                            		page.local[''sequenceParams''] = {
                                            			date_start: ''2021-01-01'',
                                            			date_end: ''2022-12-01'',
                                            			sites: page.local[''sitesToCall''],
                                            			agg_function: ''month'',
                                            			label: ''''
                                            		}
                                            		
                                            		resolve();
                                            '
                                    ↓sites [ngx.components.UIControlVariable-1676296379035]: 
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                ↓IfElse1 [ngx.components.UIDynamicIf-1676296379038]: 
                                  beanData: '{"ionBean":"IfElseAction","condition":"script:!this.selectAll"}'
                                  isEnabled: false
                                ↓CustomAction [ngx.components.UICustomAction-1676296379041]: 
                                  actionValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                        →: |
                                          '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                          		console.log("props")
                                          		console.log(props)
                                          		resolve();
                                          '
                                  isEnabled: false
                          ↓Attr [ngx.components.UIAttribute-1676296379050]: 
                            attrName: id
                            attrValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: script:group.name
                          ↓Event [ngx.components.UIControlEvent-1676454386817]: 
                            ↓CustomAction [ngx.components.UICustomAction-1676454392862]: 
                              actionValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                    →: |
                                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                      		event.stopPropagation()
                                      		page.tick();
                                      		// page.getParentGroupStatus(vars.groupName)
                                      		resolve();
                                      '
                              ↓groupName [ngx.components.UIControlVariable-1676454867462]: 
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: script:group.name
                        ↓Directive1 [ngx.components.UIControlDirective-1676296379053]: 
                          directiveName: If
                          directiveSource: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:group.name.includes('ad:')
                          isEnabled: false
                          ↓Icon [ngx.components.UIDynamicElement-1676296379056]: 
                            beanData: |
                              '{
                               "ionBean": "Icon",
                               "IconName": "source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/Microsoft_Azure.svg''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}",
                               "IconSource": "source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/Microsoft_Azure.svg''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"
                              }'
                            tagName: ion-icon
                            ↓Style [ngx.components.UIStyle-1676296379059]: 
                              styleContent: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                    →: |
                                      '	margin-left: 1.0416666666666667vw !important;
                                      	margin-right: 1.0416666666666667vw !important;
                                      '
                        ↓Directive2 [ngx.components.UIControlDirective-1676296379062]: 
                          directiveName: If
                          directiveSource: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:!group.name.includes('ad:')
                          isEnabled: false
                          ↓Icon [ngx.components.UIDynamicElement-1676296379065]: 
                            beanData: '{"ionBean":"Icon","IconSource":"source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/c8o.png''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"}'
                            isEnabled: false
                            tagName: ion-icon
                        ↓TextItem [ngx.components.UIDynamicElement-1676374348251]: 
                          beanData: '{"ionBean":"TextItem"}'
                          tagName: ion-text
                          ↓Text1 [ngx.components.UIText-1676296379068]: 
                            textValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: 'script:(group.name.includes(''ad:'')) ? group.name.slice(3, group.length) + '' (''+ group.count + '')'' : group.name + '' (''+ group.count + '')'''
                          ↓Style [ngx.components.UIStyle-1676374370201]: 
                            styleContent: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                  →: |
                                    '	padding-left: 5px;
                                    		white-space: nowrap !important;
                                      	overflow: hidden !important;
                                      	text-overflow: ellipsis !important;
                                    '
                      ↓ListContainer [ngx.components.UIDynamicElement-1676296379071]: 
                        beanData: '{"ionBean":"List","IonSlot":"plain:content"}'
                        tagName: ion-list
                        ↓Directive1 [ngx.components.UIControlDirective-1676296379074]: 
                          directiveItemName: site
                          directiveSource: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: source:{"filter":"Iteration","project":"poc_energisme","input":"","model":{"data":[{"priority":1676296378885}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                          ↓ListItem [ngx.components.UIDynamicElement-1676296379077]: 
                            beanData: '{"ionBean":"ListItem"}'
                            tagName: ion-item
                            ↓CheckBox [ngx.components.UIDynamicElement-1676296379080]: 
                              beanData: |
                                '{
                                 "ionBean": "CheckBox",
                                 "ControlName": "plain:name1671532909462",
                                 "Checked": "script:this.selectAll || this.local.grps[group.name] === true",
                                 "Value": "script:group.name"
                                }'
                              tagName: ion-checkbox
                              ↓selectAllOnChange [ngx.components.UIControlEvent-1676296379083]: 
                                attrName: (ionChange)
                                eventName: ionChange
                                ↓SetLocal [ngx.components.UIDynamicAction-1676296379086]: 
                                  beanData: |
                                    '{
                                     "ionBean": "SetLocalAction",
                                     "Property": "plain:parentGroupStatus",
                                     "Value": "script:this.getParentGroupStatus(stack.root.scope.group.name)"
                                    }'
                                  ↓IfElse [ngx.components.UIDynamicIf-1676296379089]: 
                                    beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == false && !this.local[''parentGroupStatus''] && stack.root.out.detail.checked"}'
                                    comment: case not selectAll and group not checked, only site checked
                                    ↓CallSequence [ngx.components.UIDynamicAction-1676296379092]: 
                                      beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                                      comment: before accordion update
                                      isEnabled: false
                                      ↓group_name [ngx.components.UIControlVariable-1676296379095]: 
                                        comment: new variable
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: script:stack.root.out.detail.value
                                      ↓pushSitesToLocal [ngx.components.UICustomAction-1676296379098]: 
                                        actionValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                              →: |
                                                '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                		console.log(props)
                                                		console.log(event)
                                                		var sites = vars.sites;
                                                		/*
                                                		for(var i = 0; i < sites.length; i++) {
                                                			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                                				page.local["sitesToCall"].push(sites[i])
                                                			}
                                                		}
                                                		*/
                                                		
                                                		for(var i = 0; i < sites.length; i++) {
                                                			page.local["sitesToCall"].push(sites[i])
                                                		}
                                                		
                                                		console.log("after loop")
                                                		page.global[''sequenceParams''] = {
                                                			date_start: page.global[''date_start''],
                                                			date_end: page.global[''date_end''],
                                                			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                			agg_function: ''month'',
                                                			label: '''',
                                                			synthese: page.syntheseSelected,
                                                			limit: 20
                                                		}
                                                		console.log(page.local["sitesToCall"])
                                                		
                                                		resolve();
                                                '
                                        ↓sites [ngx.components.UIControlVariable-1676296379101]: 
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                        ↓CallSequence [ngx.components.UIDynamicAction-1676296379104]: 
                                          beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                                          isEnabled: false
                                          ↓date_start [ngx.components.UIControlVariable-1676296379107]: 
                                            comment: date_start
                                            varValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                - MobileSmartSourceType: plain:2021-01-01
                                          ↓date_end [ngx.components.UIControlVariable-1676296379110]: 
                                            comment: date_end
                                            varValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                - MobileSmartSourceType: plain:2022-01-01
                                          ↓sites [ngx.components.UIControlVariable-1676296379113]: 
                                            comment: new variable
                                            varValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                                          ↓agg_function [ngx.components.UIControlVariable-1676296379116]: 
                                            comment: new variable
                                            varValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                - MobileSmartSourceType: plain:week
                                          ↓chartType [ngx.components.UIControlVariable-1676296379119]: 
                                            comment: new variable
                                            varValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                - MobileSmartSourceType: plain:bar
                                          ↓CustomAction [ngx.components.UICustomAction-1676296379122]: 
                                            actionValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                  →: |
                                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                    		/*console.log("native")
                                                    		console.log(page.all_poc_energisme_widget)
                                                    		//@ts-ignore
                                                    		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                                    		//@ts-ignore
                                                    		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                                    		//@ts-ignore
                                                    		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                                    		page.all_poc_energisme_widget.forEach( (x) => {
                                                    			console.log("x")
                                                    			console.log(x)
                                                    		})*/
                                                    		page.ref.detectChanges();
                                                    		page.local[''refresh''] = true;
                                                    		setTimeout( () => {
                                                    			page.local[''refresh''] = false
                                                    			page.ref.detectChanges();
                                                    		})
                                                    		resolve();
                                                    '
                                    ↓pushSitesToLocal [ngx.components.UICustomAction-1676296379125]: 
                                      actionValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                            →: |
                                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                              		console.log(props)
                                              		console.log(event)
                                              		var sites = vars.sites;
                                              		/*
                                              		for(var i = 0; i < sites.length; i++) {
                                              			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                              				page.local["sitesToCall"].push(sites[i])
                                              			}
                                              		}
                                              		*/
                                              		
                                              		for(var i = 0; i < sites.length; i++) {
                                              			page.local["sitesToCall"].push(sites[i])
                                              		}
                                              		
                                              		console.log("after loop")
                                              		page.global[''sequenceParams''] = {
                                              			date_start: page.global[''date_start''],
                                              			date_end: page.global[''date_end''],
                                              			sites: JSON.stringify(page.local[''sitesToCall'']),
                                              			agg_function: ''month'',
                                              			label: '''',
                                              			synthese: page.syntheseSelected,
                                              			limit: 20
                                              		}
                                              		console.log(page.local["sitesToCall"])
                                              		
                                              		resolve();
                                              '
                                      ↓sites [ngx.components.UIControlVariable-1676296379128]: 
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: script:[stack.root.scope.site.id]
                                      ↓CallSequence [ngx.components.UIDynamicAction-1676296379131]: 
                                        beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                                        isEnabled: false
                                        ↓date_start [ngx.components.UIControlVariable-1676296379134]: 
                                          comment: date_start
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: plain:2021-01-01
                                        ↓date_end [ngx.components.UIControlVariable-1676296379137]: 
                                          comment: date_end
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: plain:2022-01-01
                                        ↓sites [ngx.components.UIControlVariable-1676296379140]: 
                                          comment: new variable
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                                        ↓agg_function [ngx.components.UIControlVariable-1676296379143]: 
                                          comment: new variable
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: plain:week
                                        ↓chartType [ngx.components.UIControlVariable-1676296379146]: 
                                          comment: new variable
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: plain:bar
                                        ↓CustomAction [ngx.components.UICustomAction-1676296379149]: 
                                          actionValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                →: |
                                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                  		/*console.log("native")
                                                  		console.log(page.all_poc_energisme_widget)
                                                  		//@ts-ignore
                                                  		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                                  		//@ts-ignore
                                                  		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                                  		//@ts-ignore
                                                  		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                                  		page.all_poc_energisme_widget.forEach( (x) => {
                                                  			console.log("x")
                                                  			console.log(x)
                                                  		})*/
                                                  		page.ref.detectChanges();
                                                  		page.local[''refresh''] = true;
                                                  		setTimeout( () => {
                                                  			page.local[''refresh''] = false
                                                  			page.ref.detectChanges();
                                                  		})
                                                  		resolve();
                                                  '
                                      ↓stack [ngx.components.UIControlVariable-1676296379152]: 
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: script:stack
                                    ↓CustomAction [ngx.components.UICustomAction-1676296379155]: 
                                      actionValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                            →: |
                                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                              		console.log(vars.stack)
                                              		console.log(page.groupChecked)
                                              		console.log(document.getElementById(vars.group))
                                              		var el = document.getElementById(vars.group)
                                              		var shadow = el.shadowRoot
                                              		console.log(el.shadowRoot.childNodes)
                                              		console.log(shadow)
                                              		var check = shadow.childNodes[2]
                                              		console.log(check[''attributes''][1][''nodeValue''])
                                              		resolve();
                                              '
                                      isEnabled: false
                                      ↓stack [ngx.components.UIControlVariable-1676296379158]: 
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: script:stack
                                      ↓group [ngx.components.UIControlVariable-1676296379161]: 
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: script:group.name
                                    ↓Else_Handler [ngx.components.UIActionElseEvent-1676296379164]: 
                                      ↓Toast [ngx.components.UIDynamicAction-1676296379167]: 
                                        beanData: '{"ionBean":"ToastAction","message":"script:JSON.stringify(stack[''selectAllOnChange''].out.detail.checked)"}'
                                        isEnabled: false
                                      ↓IfElse [ngx.components.UIDynamicIf-1676296379170]: 
                                        beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll && !stack.root.out.detail.checked"}'
                                        comment: case all selected and sites unchecked
                                        isEnabled: false
                                        ↓CallSequence [ngx.components.UIDynamicAction-1676296379173]: 
                                          beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                                          comment: before accordion update
                                          isEnabled: false
                                          ↓group_name [ngx.components.UIControlVariable-1676296379176]: 
                                            comment: new variable
                                            varValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                - MobileSmartSourceType: script:stack.root.out.detail.value
                                          ↓removeSitesToLocal [ngx.components.UICustomAction-1676296379179]: 
                                            actionValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                  →: |
                                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                    		console.log(props)
                                                    		console.log(event)
                                                    		var sites = vars.sites;
                                                    		for(var i = 0; i < sites.length; i++) {
                                                    			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                                    				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                                    			}
                                                    		}
                                                    		
                                                    		console.log("after loop")
                                                    		console.log(page.local["sitesToCall"])
                                                    		page.global[''sequenceParams''] = {
                                                    			date_start: page.global[''date_start''],
                                                    			date_end: page.global[''date_end''],
                                                    			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                    			agg_function: ''month'',
                                                    			label: '''',
                                                    			synthese: this.syntheseSelected,
                                                    			limit: 20
                                                    		}
                                                    		
                                                    		resolve();
                                                    '
                                            ↓sites [ngx.components.UIControlVariable-1676296379182]: 
                                              varValue: 
                                                - xmlizable: 
                                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                  - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                        ↓Toast [ngx.components.UIDynamicAction-1676296379185]: 
                                          beanData: '{"ionBean":"ToastAction","message":"plain:this.selectAll == true && !this.stack.root.out.detail.checked"}'
                                          isEnabled: false
                                        ↓removeSitesToLocal [ngx.components.UICustomAction-1676296379188]: 
                                          actionValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                →: |
                                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                  		console.log(props)
                                                  		console.log(event)
                                                  		var sites = vars.sites;
                                                  		for(var i = 0; i < sites.length; i++) {
                                                  			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                                  				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                                  			}
                                                  		}
                                                  		
                                                  		console.log("after loop")
                                                  		console.log(page.local["sitesToCall"])
                                                  		page.global[''sequenceParams''] = {
                                                  			date_start: page.global[''date_start''],
                                                  			date_end: page.global[''date_end''],
                                                  			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                  			agg_function: ''month'',
                                                  			label: '''',
                                                  			synthese: this.syntheseSelected,
                                                  			limit: 20
                                                  		}
                                                  		
                                                  		resolve();
                                                  '
                                          ↓sites [ngx.components.UIControlVariable-1676296379191]: 
                                            varValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                - MobileSmartSourceType: script:stack.root.scope.group.sites
                                        ↓Else_Handler [ngx.components.UIActionElseEvent-1676296379194]: 
                                          ↓If [ngx.components.UIDynamicAction-1676296379197]: 
                                            beanData: '{"ionBean":"IfAction","condition":"script:!this.selectAll && !stack.root.out.detail.checked"}'
                                            isEnabled: false
                                            ↓removeSitesToLocal [ngx.components.UICustomAction-1676296379200]: 
                                              actionValue: 
                                                - xmlizable: 
                                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                    →: |
                                                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                      		console.log(props)
                                                      		console.log(event)
                                                      		var sites = vars.sites;
                                                      		for(var i = 0; i < sites.length; i++) {
                                                      			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                                      				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                                      			}
                                                      		}
                                                      		
                                                      		console.log("after loop")
                                                      		console.log(page.local["sitesToCall"])
                                                      		/*
                                                      		page.local[''sequenceParams''] = {
                                                      			date_start: ''2021-01-01'',
                                                      			date_end: ''2022-12-01'',
                                                      			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                      			agg_function: ''month'',
                                                      			label: ''''
                                                      		}
                                                      		*/
                                                      		resolve();
                                                      '
                                              ↓sites [ngx.components.UIControlVariable-1676296379203]: 
                                                varValue: 
                                                  - xmlizable: 
                                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                    - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                          ↓SetLocal [ngx.components.UIDynamicAction-1676296379206]: 
                                            beanData: |
                                              '{
                                               "ionBean": "SetLocalAction",
                                               "Property": "plain:sitesToCall",
                                               "Value": "script:[]"
                                              }'
                                          ↓IfElse [ngx.components.UIDynamicIf-1676296379209]: 
                                            beanData: '{"ionBean":"IfElseAction","condition":"script:!this.selectAll && !stack.root.out.detail.checked"}'
                                            isEnabled: false
                                            ↓removeSitesToLocal [ngx.components.UICustomAction-1676296379212]: 
                                              actionValue: 
                                                - xmlizable: 
                                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                    →: |
                                                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                      		console.log(props)
                                                      		console.log(event)
                                                      		var sites = vars.sites;
                                                      		for(var i = 0; i < sites.length; i++) {
                                                      			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                                      				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                                      			}
                                                      		}
                                                      		
                                                      		console.log("after loop")
                                                      		console.log(page.local["sitesToCall"])
                                                      		/*
                                                      		page.local[''sequenceParams''] = {
                                                      			date_start: ''2021-01-01'',
                                                      			date_end: ''2022-12-01'',
                                                      			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                      			agg_function: ''month'',
                                                      			label: ''''
                                                      		}
                                                      		*/
                                                      		resolve();
                                                      '
                                              ↓sites [ngx.components.UIControlVariable-1676296379215]: 
                                                varValue: 
                                                  - xmlizable: 
                                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                    - MobileSmartSourceType: script:stack.root.scope.group.sites
                                            ↓Else_Handler [ngx.components.UIActionElseEvent-1676296379218]: 
                                              ↓SetLocal [ngx.components.UIDynamicAction-1676296379221]: 
                                                beanData: |
                                                  '{
                                                   "ionBean": "SetLocalAction",
                                                   "Property": "plain:sitesToCall",
                                                   "Value": "script:[]"
                                                  }'
                                      ↓CallSequence [ngx.components.UIDynamicAction-1676296379224]: 
                                        beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                                        isEnabled: false
                                        ↓group_name [ngx.components.UIControlVariable-1676296379227]: 
                                          comment: new variable
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: script:stack.root.out.detail.value
                                        ↓removeSitesToLocal [ngx.components.UICustomAction-1676296379230]: 
                                          actionValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                →: |
                                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                  		console.log(props)
                                                  		console.log(event)
                                                  		var sites = vars.sites;
                                                  		for(var i = 0; i < sites.length; i++) {
                                                  			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                                  				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                                  			}
                                                  		}
                                                  		
                                                  		console.log("after loop")
                                                  		console.log(page.local["sitesToCall"])
                                                  		page.local[''sequenceParams''] = {
                                                  			date_start: ''2021-01-01'',
                                                  			date_end: ''2022-12-01'',
                                                  			sites: page.local[''sitesToCall''],
                                                  			agg_function: ''month'',
                                                  			label: ''''
                                                  		}
                                                  		
                                                  		resolve();
                                                  '
                                          ↓sites [ngx.components.UIControlVariable-1676296379233]: 
                                            varValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                      ↓IfElse1 [ngx.components.UIDynamicIf-1676296379236]: 
                                        beanData: '{"ionBean":"IfElseAction","condition":"script:!this.selectAll"}'
                                        isEnabled: false
                                      ↓CustomAction [ngx.components.UICustomAction-1676296379239]: 
                                        actionValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                              →: |
                                                '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                		console.log("props")
                                                		console.log(props)
                                                		resolve();
                                                '
                                        isEnabled: false
                                      ↓IfElse2 [ngx.components.UIDynamicIf-1676296379242]: 
                                        beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == false && this.local[''parentGroupStatus''] && !stack.root.out.detail.checked"}'
                                        comment: case not selectAll and group checked and site unchecked
                                        ↓removeSitesToLocal [ngx.components.UICustomAction-1676296379245]: 
                                          actionValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                →: |
                                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                  		console.log(props)
                                                  		console.log(event)
                                                  		var site = vars.site;
                                                  		/*
                                                  		for(var i = 0; i < sites.length; i++) {
                                                  			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                                  				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                                  			}
                                                  		}
                                                  		*/
                                                  		for(var i = 0; i < page.local[''sitesToCall''].length; i++) {
                                                  			if(page.local[''sitesToCall''].indexOf(site) != -1) {
                                                  				page.local[''sitesToCall''].splice(page.local[''sitesToCall''].indexOf(site), 1)
                                                  			}
                                                  		}
                                                  		
                                                  		console.log("after loop")
                                                  		console.log(page.local["sitesToCall"])
                                                  		page.global[''sequenceParams''] = {
                                                  			date_start: page.global[''date_start''],
                                                  			date_end: page.global[''date_end''],
                                                  			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                  			agg_function: ''month'',
                                                  			label: '''',
                                                  			synthese: this.syntheseSelected,
                                                  			limit: 20
                                                  		}
                                                  		
                                                  		resolve();
                                                  '
                                          ↓site [ngx.components.UIControlVariable-1676296379248]: 
                                            varValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                - MobileSmartSourceType: script:site.id
                                        ↓Else_Handler [ngx.components.UIActionElseEvent-1676296379251]: 
                                          ↓If [ngx.components.UIDynamicAction-1676296379254]: 
                                            beanData: '{"ionBean":"IfAction","condition":"script:this.selectAll == true && !stack.root.out.detail.checked"}'
                                            isEnabled: false
                                            ↓removeSitesToLocal [ngx.components.UICustomAction-1676296379257]: 
                                              actionValue: 
                                                - xmlizable: 
                                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                    →: |
                                                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                      		console.log(props)
                                                      		console.log(event)
                                                      		var site = ""+vars.site;
                                                      		/*
                                                      		for(var i = 0; i < sites.length; i++) {
                                                      			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                                      				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                                      			}
                                                      		}
                                                      		*/
                                                      		for(var i = 0; i < page.local[''sitesToCall''].length; i++) {
                                                      			if(page.local[''sitesToCall''].indexOf(site) != -1) {
                                                      				page.local[''sitesToCall''].splice(page.local[''sitesToCall''].indexOf(site), 1)
                                                      			}
                                                      		}
                                                      		
                                                      		console.log("after loop")
                                                      		console.log(page.local["sitesToCall"])
                                                      		page.global[''sequenceParams''] = {
                                                      			date_start: page.global[''date_start''],
                                                      			date_end: page.global[''date_end''],
                                                      			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                      			agg_function: ''month'',
                                                      			label: '''',
                                                      			synthese: this.syntheseSelected,
                                                      			limit: 20
                                                      		}
                                                      		
                                                      		resolve();
                                                      '
                                              ↓site [ngx.components.UIControlVariable-1676296379260]: 
                                                varValue: 
                                                  - xmlizable: 
                                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                    - MobileSmartSourceType: script:site.id
                                          ↓IfElse [ngx.components.UIDynamicIf-1676296379263]: 
                                            beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == true && !stack.root.out.detail.checked"}'
                                            comment: case selectAll and site unchecked
                                            ↓removeSitesToLocal [ngx.components.UICustomAction-1676296379266]: 
                                              actionValue: 
                                                - xmlizable: 
                                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                    →: |
                                                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                      		console.log(props)
                                                      		console.log(event)
                                                      		var site = vars.site;
                                                      		/*
                                                      		for(var i = 0; i < sites.length; i++) {
                                                      			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                                      				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                                      			}
                                                      		}
                                                      		*/
                                                      		for(var i = 0; i < page.local[''sitesToCall''].length; i++) {
                                                      			if(page.local[''sitesToCall''].indexOf(site) != -1) {
                                                      				page.local[''sitesToCall''].splice(page.local[''sitesToCall''].indexOf(site), 1)
                                                      			}
                                                      		}
                                                      		
                                                      		console.log("after loop")
                                                      		console.log(page.local["sitesToCall"])
                                                      		page.global[''sequenceParams''] = {
                                                      			date_start: page.global[''date_start''],
                                                      			date_end: page.global[''date_end''],
                                                      			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                      			agg_function: ''month'',
                                                      			label: '''',
                                                      			synthese: this.syntheseSelected,
                                                      			limit: 20
                                                      		}
                                                      		
                                                      		resolve();
                                                      '
                                              ↓site [ngx.components.UIControlVariable-1676296379269]: 
                                                varValue: 
                                                  - xmlizable: 
                                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                    - MobileSmartSourceType: script:site.id
                                            ↓Else_Handler [ngx.components.UIActionElseEvent-1676296379272]: 
                                              ↓IfElse [ngx.components.UIDynamicIf-1676296379275]: 
                                                beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == true && stack.root.out.detail.checked"}'
                                                ↓pushSitesToLocal [ngx.components.UICustomAction-1676296379278]: 
                                                  actionValue: 
                                                    - xmlizable: 
                                                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                        →: |
                                                          '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                          		console.log(props)
                                                          		console.log(event)
                                                          		var sites = vars.sites;
                                                          		/*
                                                          		for(var i = 0; i < sites.length; i++) {
                                                          			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                                          				page.local["sitesToCall"].push(sites[i])
                                                          			}
                                                          		}
                                                          		*/
                                                          		
                                                          		// if(this.selectAll == false) {
                                                          			for(var i = 0; i < sites.length; i++) {
                                                          			page.local["sitesToCall"].push(sites[i])
                                                          		}
                                                          		
                                                          		console.log("after loop")
                                                          		page.global[''sequenceParams''] = {
                                                          			date_start: page.global[''date_start''],
                                                          			date_end: page.global[''date_end''],
                                                          			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                          			agg_function: ''month'',
                                                          			label: '''',
                                                          			synthese: page.syntheseSelected,
                                                          			limit: 20
                                                          		}
                                                          		console.log(page.local["sitesToCall"])
                                                          		//}
                                                          		
                                                          		
                                                          		resolve();
                                                          '
                                                  ↓sites [ngx.components.UIControlVariable-1676296379281]: 
                                                    varValue: 
                                                      - xmlizable: 
                                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                        - MobileSmartSourceType: script:[stack.root.scope.site.id]
                                                  ↓CallSequence [ngx.components.UIDynamicAction-1676296379284]: 
                                                    beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                                                    isEnabled: false
                                                    ↓date_start [ngx.components.UIControlVariable-1676296379287]: 
                                                      comment: date_start
                                                      varValue: 
                                                        - xmlizable: 
                                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                          - MobileSmartSourceType: plain:2021-01-01
                                                    ↓date_end [ngx.components.UIControlVariable-1676296379290]: 
                                                      comment: date_end
                                                      varValue: 
                                                        - xmlizable: 
                                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                          - MobileSmartSourceType: plain:2022-01-01
                                                    ↓sites [ngx.components.UIControlVariable-1676296379293]: 
                                                      comment: new variable
                                                      varValue: 
                                                        - xmlizable: 
                                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                          - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                                                    ↓agg_function [ngx.components.UIControlVariable-1676296379296]: 
                                                      comment: new variable
                                                      varValue: 
                                                        - xmlizable: 
                                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                          - MobileSmartSourceType: plain:week
                                                    ↓chartType [ngx.components.UIControlVariable-1676296379299]: 
                                                      comment: new variable
                                                      varValue: 
                                                        - xmlizable: 
                                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                          - MobileSmartSourceType: plain:bar
                                                    ↓CustomAction [ngx.components.UICustomAction-1676296379302]: 
                                                      actionValue: 
                                                        - xmlizable: 
                                                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                            →: |
                                                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                              		/*console.log("native")
                                                              		console.log(page.all_poc_energisme_widget)
                                                              		//@ts-ignore
                                                              		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                                              		//@ts-ignore
                                                              		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                                              		//@ts-ignore
                                                              		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                                              		page.all_poc_energisme_widget.forEach( (x) => {
                                                              			console.log("x")
                                                              			console.log(x)
                                                              		})*/
                                                              		page.ref.detectChanges();
                                                              		page.local[''refresh''] = true;
                                                              		setTimeout( () => {
                                                              			page.local[''refresh''] = false
                                                              			page.ref.detectChanges();
                                                              		})
                                                              		resolve();
                                                              '
                                                ↓Else_Handler [ngx.components.UIActionElseEvent-1676296379305]: 
                                                  ↓If [ngx.components.UIDynamicAction-1676296379308]: 
                                                    beanData: '{"ionBean":"IfAction","condition":"script:this.selectAll == false && this.local[''parentGroupStatus''] && stack.root.out.detail.checked"}'
                                                    comment: case not selectAll and group check and site checked
                                                    ↓pushSitesToLocal [ngx.components.UICustomAction-1676296379311]: 
                                                      actionValue: 
                                                        - xmlizable: 
                                                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                            →: |
                                                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                              		console.log(props)
                                                              		console.log(event)
                                                              		var sites = vars.sites;
                                                              		/*
                                                              		for(var i = 0; i < sites.length; i++) {
                                                              			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                                              				page.local["sitesToCall"].push(sites[i])
                                                              			}
                                                              		}
                                                              		*/
                                                              		
                                                              		for(var i = 0; i < sites.length; i++) {
                                                              			page.local["sitesToCall"].push(sites[i])
                                                              		}
                                                              		
                                                              		console.log("after loop")
                                                              		page.global[''sequenceParams''] = {
                                                              			date_start: page.global[''date_start''],
                                                              			date_end: page.global[''date_end''],
                                                              			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                              			agg_function: ''month'',
                                                              			label: '''',
                                                              			synthese: page.syntheseSelected,
                                                              			limit: 20
                                                              		}
                                                              		console.log(page.local["sitesToCall"])
                                                              		
                                                              		resolve();
                                                              '
                                                      ↓sites [ngx.components.UIControlVariable-1676296379314]: 
                                                        varValue: 
                                                          - xmlizable: 
                                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                            - MobileSmartSourceType: script:[stack.root.scope.site.id]
                                                      ↓CallSequence [ngx.components.UIDynamicAction-1676296379317]: 
                                                        beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                                                        isEnabled: false
                                                        ↓date_start [ngx.components.UIControlVariable-1676296379320]: 
                                                          comment: date_start
                                                          varValue: 
                                                            - xmlizable: 
                                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                              - MobileSmartSourceType: plain:2021-01-01
                                                        ↓date_end [ngx.components.UIControlVariable-1676296379323]: 
                                                          comment: date_end
                                                          varValue: 
                                                            - xmlizable: 
                                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                              - MobileSmartSourceType: plain:2022-01-01
                                                        ↓sites [ngx.components.UIControlVariable-1676296379326]: 
                                                          comment: new variable
                                                          varValue: 
                                                            - xmlizable: 
                                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                              - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                                                        ↓agg_function [ngx.components.UIControlVariable-1676296379329]: 
                                                          comment: new variable
                                                          varValue: 
                                                            - xmlizable: 
                                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                              - MobileSmartSourceType: plain:week
                                                        ↓chartType [ngx.components.UIControlVariable-1676296379332]: 
                                                          comment: new variable
                                                          varValue: 
                                                            - xmlizable: 
                                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                              - MobileSmartSourceType: plain:bar
                                                        ↓CustomAction [ngx.components.UICustomAction-1676296379335]: 
                                                          actionValue: 
                                                            - xmlizable: 
                                                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                                →: |
                                                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                                  		/*console.log("native")
                                                                  		console.log(page.all_poc_energisme_widget)
                                                                  		//@ts-ignore
                                                                  		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                                                  		//@ts-ignore
                                                                  		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                                                  		//@ts-ignore
                                                                  		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                                                  		page.all_poc_energisme_widget.forEach( (x) => {
                                                                  			console.log("x")
                                                                  			console.log(x)
                                                                  		})*/
                                                                  		page.ref.detectChanges();
                                                                  		page.local[''refresh''] = true;
                                                                  		setTimeout( () => {
                                                                  			page.local[''refresh''] = false
                                                                  			page.ref.detectChanges();
                                                                  		})
                                                                  		resolve();
                                                                  '
                            ↓Label [ngx.components.UIDynamicElement-1676296379338]: 
                              beanData: '{"ionBean":"Label"}'
                              tagName: ion-label
                              ↓Text [ngx.components.UIText-1676296379341]: 
                                textValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: source:{"filter":"Iteration","project":"poc_energisme","input":"","model":{"data":[{"priority":1676296379074},{"priority":1676296378885}],"path":"?.name","prefix":"","suffix":"","custom":"","useCustom":false}}
                              ↓Style [ngx.components.UIStyle-1676374483168]: 
                                styleContent: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                      →: |
                                        '	padding-left: 5px;
                                        '
              ↓Attr1 [ngx.components.UIAttribute-1676374641387]: 
                attrName: class
                attrValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: plain:colMenuLeftGroups
            ↓_hidden_ [ngx.components.UIAttribute-1676296379344]: 
              attrName: '[hidden]'
              attrValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: script:this.hideMenu
          ↓Attr [ngx.components.UIAttribute-1676371085633]: 
            attrName: id
            attrValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: plain:gridMenuLeft
        ↓Attr [ngx.components.UIAttribute-1676368516433]: 
          attrName: '[ngClass]'
          attrValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: 'script:this.hideMenu == true ? ''bg-grey'' : ''bg-white'''
        ↓Attr1 [ngx.components.UIAttribute-1676375311597]: 
          attrName: class
          attrValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: plain:colMenuLeft
        ↓Attr2 [ngx.components.UIAttribute-1676392167324]: 
          attrName: '[ngStyle]'
          attrValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: 'script:{ ''max-width'' : this.hideMenu ? ''50px'' : '''' }'
        ↓Attr3 [ngx.components.UIAttribute-1676392793082]: 
          attrName: '[style.max-width]'
          attrValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: 'script:this.hideMenu ? ''50px'' : '''''
          isEnabled: false
      ↓colContent [ngx.components.UIDynamicElement-1676296043039]: 
        beanData: '{"ionBean":"GridCol"}'
        tagName: ion-col
        ↓Grid [ngx.components.UIDynamicElement-1676296277123]: 
          beanData: '{"ionBean":"Grid"}'
          tagName: ion-grid
          ↓Directive [ngx.components.UIControlDirective-1676296289864]: 
            directiveName: If
            directiveSource: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:this.local['sitesToCall'] != undefined && this.local['sitesToCall'].length == 0
            ↓GridRow [ngx.components.UIDynamicElement-1676296289867]: 
              beanData: '{"ionBean":"GridRow","Height":"plain"}'
              tagName: ion-row
              ↓GridCol [ngx.components.UIDynamicElement-1676296289870]: 
                beanData: '{"ionBean":"GridCol"}'
                tagName: ion-col
                ↓CardContainer [ngx.components.UIDynamicElement-1676296289873]: 
                  beanData: '{"ionBean":"Card"}'
                  tagName: ion-card
                  ↓CardContent [ngx.components.UIDynamicElement-1676296289876]: 
                    beanData: '{"ionBean":"CardContent"}'
                    tagName: ion-card-content
                    ↓TextItem [ngx.components.UIDynamicElement-1676296289879]: 
                      beanData: '{"ionBean":"TextItem"}'
                      tagName: ion-text
                      ↓Text [ngx.components.UIText-1676296289882]: 
                        textValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: plain:Sélectionnez au moins un groupe pour afficher des données
                  ↓Style [ngx.components.UIStyle-1676296289885]: 
                    styleContent: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                          →: |
                            '/**
                             * Custom properties (sometimes referred to as CSS variables or cascading variables)
                             * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                             * They are set using custom property notation, e.g.: --main-color: black;
                             * and are accessed using the var() function, e.g.: color: var(--main-color);
                             * You can find below your component''s properties you can customize within the page.
                             * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                             * For more informations see https://ionicframework.com/docs/theming.
                            **/
                            //--background	//Background of the card
                            //--color	//Color of the card
                            --background: #ffc409;
                            '
          ↓rowTogglerPeriodeLiee [ngx.components.UIDynamicElement-1676296299839]: 
            beanData: '{"ionBean":"GridRow","Height":"plain"}'
            tagName: ion-row
            ↓colSelect [ngx.components.UIDynamicElement-1676296299842]: 
              beanData: '{"ionBean":"GridCol","Size":"plain:2"}'
              tagName: ion-col
              ↓SelectContainer [ngx.components.UIDynamicElement-1676296299845]: 
                beanData: |
                  '{
                   "ionBean": "Select",
                   "ControlName": "plain:name1673862194355",
                   "Interface": "plain:popover"
                  }'
                tagName: ion-select
                ↓SyntheseGlobale [ngx.components.UIDynamicElement-1676296299848]: 
                  beanData: '{"ionBean":"SelectOption","Value":"plain:global"}'
                  tagName: ion-select-option
                  ↓Text [ngx.components.UIText-1676296299851]: 
                    textValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: plain:Synthèse globale
                ↓Electricite [ngx.components.UIDynamicElement-1676296299854]: 
                  beanData: '{"ionBean":"SelectOption","Value":"plain:elec"}'
                  tagName: ion-select-option
                  ↓Text [ngx.components.UIText-1676296299857]: 
                    textValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: plain:Electricité
                ↓GazNaturel [ngx.components.UIDynamicElement-1676296299860]: 
                  beanData: '{"ionBean":"SelectOption","Value":"plain:gaz"}'
                  tagName: ion-select-option
                  ↓Text [ngx.components.UIText-1676296299863]: 
                    textValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: plain:Gaz naturel
                ↓Attr [ngx.components.UIAttribute-1676296299866]: 
                  attrName: '[(ngModel)]'
                  attrValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:this.syntheseSelected
                ↓Event [ngx.components.UIControlEvent-1676296299869]: 
                  attrName: (ionChange)
                  eventName: ionChange
                  ↓IfElse [ngx.components.UIDynamicIf-1676296299872]: 
                    beanData: '{"ionBean":"IfElseAction","condition":"script:this.local[''sitesToCall''].length != 0"}'
                    ↓updateParams [ngx.components.UICustomAction-1676296299875]: 
                      actionValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                            →: |
                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                              		console.log("update params")
                              		page.global[''sequenceParams''] = {
                              			date_start: page.global[''date_start''],
                              			date_end: page.global[''date_end''],
                              			sites: JSON.stringify(page.local[''sitesToCall'']),
                              			agg_function: ''month'',
                              			label: '''',
                              			synthese: page.syntheseSelected
                              		}
                              		resolve();
                              '
                    ↓Else_Handler [ngx.components.UIActionElseEvent-1676296299878]: 
                      ↓Toast [ngx.components.UIDynamicAction-1676296299881]: 
                        beanData: |
                          '{
                           "ionBean": "ToastAction",
                           "message": "plain:Veuillez sélectionner au moins un groupe",
                           "position": "plain:top"
                          }'
            ↓colToggleButton [ngx.components.UIDynamicElement-1676296299884]: 
              beanData: '{"ionBean":"GridCol"}'
              tagName: ion-col
              ↓Label [ngx.components.UIDynamicElement-1676296299887]: 
                beanData: '{"ionBean":"Label"}'
                tagName: ion-label
                ↓Text [ngx.components.UIText-1676296299890]: 
                  textValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: plain:Lier les périodes de widgets
              ↓ToggleButton [ngx.components.UIDynamicElement-1676296299893]: 
                beanData: '{"ionBean":"Toggle","ControlName":"plain:toggleLinkDate"}'
                tagName: ion-toggle
                ↓Event [ngx.components.UIControlEvent-1676296299896]: 
                  attrName: (ionChange)
                  eventName: ionChange
                  ↓SetGlobal [ngx.components.UIDynamicAction-1676296299899]: 
                    beanData: |
                      '{
                       "ionBean": "SetGlobalAction",
                       "Property": "plain:linkDates",
                       "Value": "script:parent.out.detail.checked"
                      }'
                    ↓CustomAction [ngx.components.UICustomAction-1676296299902]: 
                      actionValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                            →: |
                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                              		console.log(event)
                              		console.log(this.global[''linkDates''])
                              		 // this.global[''date_start''] = ''2022-12-01''
                              		// this.global[''date_end''] = ''2022-12-31''
                              		resolve();
                              '
          ↓rowGroupsAndCharts [ngx.components.UIDynamicElement-1676296303457]: 
            beanData: '{"ionBean":"GridRow","Height":"plain"}'
            tagName: ion-row
            ↓colGroups [ngx.components.UIDynamicElement-1676296303460]: 
              beanData: |
                '{
                 "ionBean": "GridCol",
                 "SizeLg": "plain:2",
                 "SizeMd": "plain:2"
                }'
              isEnabled: false
              tagName: ion-col
              ↓Directive [ngx.components.UIControlDirective-1676296303463]: 
                directiveName: If
                directiveSource: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:this.global['groups'] != undefined
                isEnabled: false
              ↓Form1 [ngx.components.UIForm-1676296303466]: 
                identifier: formSearchGroup
                ↓FormItem [ngx.components.UIDynamicElement-1676296303469]: 
                  beanData: '{"ionBean":"FormItem"}'
                  tagName: ion-item
                  ↓SearchBar [ngx.components.UIDynamicElement-1676296303472]: 
                    beanData: '{"ionBean":"Searchbar"}'
                    tagName: ion-searchbar
                    ↓Event [ngx.components.UIControlEvent-1676296303475]: 
                      attrName: (ionChange)
                      eventName: ionChange
                      ↓If [ngx.components.UIDynamicAction-1676296303478]: 
                        beanData: '{"ionBean":"IfAction","condition":"script:event.detail.value.length >= 3"}'
                        isEnabled: false
                        ↓CallSequence [ngx.components.UIDynamicAction-1676296303481]: 
                          beanData: |
                            '{
                             "ionBean": "CallSequenceAction",
                             "requestable": "plain:poc_energisme.searchGroup",
                             "noLoading": "plain:true"
                            }'
                          ↓label [ngx.components.UIControlVariable-1676296303484]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: script:event.detail.value
                          ↓type [ngx.components.UIControlVariable-1676296303487]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: plain:
                          ↓user [ngx.components.UIControlVariable-1676296303490]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                        ↓If [ngx.components.UIDynamicAction-1676296303493]: 
                          beanData: '{"ionBean":"IfAction","condition":"script:event.detail.value.length == 0"}'
                          ↓CallSequence [ngx.components.UIDynamicAction-1676296303496]: 
                            beanData: |
                              '{
                               "ionBean": "CallSequenceAction",
                               "requestable": "plain:poc_energisme.searchGroup",
                               "noLoading": "plain:true"
                              }'
                            ↓label [ngx.components.UIControlVariable-1676296303499]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: plain:
                            ↓type [ngx.components.UIControlVariable-1676296303502]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: plain:
                            ↓user [ngx.components.UIControlVariable-1676296303505]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                      ↓IfElse [ngx.components.UIDynamicIf-1676296303508]: 
                        beanData: '{"ionBean":"IfElseAction","condition":"script:event.detail.value.length >= 3"}'
                        ↓CallSequence [ngx.components.UIDynamicAction-1676296303511]: 
                          beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.searchGroup"}'
                          ↓label [ngx.components.UIControlVariable-1676296303514]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: script:event.detail.value
                          ↓type [ngx.components.UIControlVariable-1676296303517]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: plain:
                          ↓user [ngx.components.UIControlVariable-1676296303520]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                        ↓Else_Handler [ngx.components.UIActionElseEvent-1676296303523]: 
                          ↓If [ngx.components.UIDynamicAction-1676296303526]: 
                            beanData: '{"ionBean":"IfAction","condition":"script:event.detail.value.length == 0"}'
                            ↓CallSequence [ngx.components.UIDynamicAction-1676296303529]: 
                              beanData: |
                                '{
                                 "ionBean": "CallSequenceAction",
                                 "requestable": "plain:poc_energisme.searchGroup",
                                 "noLoading": "plain:true"
                                }'
                              ↓label [ngx.components.UIControlVariable-1676296303532]: 
                                comment: new variable
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: plain:
                              ↓type [ngx.components.UIControlVariable-1676296303535]: 
                                comment: new variable
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: plain:
                              ↓user [ngx.components.UIControlVariable-1676296303538]: 
                                comment: new variable
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                ↓Event [ngx.components.UIControlEvent-1676296303541]: 
                  attrName: (ngSubmit)
                  eventName: onSubmit
                  ↓Alert [ngx.components.UIDynamicAction-1676296303544]: 
                    beanData: '{"ionBean":"AlertAction","message":"script:''formSample value is\\\\n'' + JSON.stringify(this?.formSample.value)"}'
              ↓selectAll [ngx.components.UIDynamicElement-1676296303547]: 
                beanData: '{"ionBean":"GenericItem"}'
                tagName: ion-item
                ↓Label [ngx.components.UIDynamicElement-1676296303550]: 
                  beanData: '{"ionBean":"Label"}'
                  tagName: ion-label
                  ↓Text [ngx.components.UIText-1676296303553]: 
                    textValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: plain:Tout sélectionner
                ↓CheckBox [ngx.components.UIDynamicElement-1676296303556]: 
                  beanData: '{"ionBean":"CheckBox","ControlName":"plain:name1673606474497"}'
                  tagName: ion-checkbox
                  ↓Attr [ngx.components.UIAttribute-1676296303559]: 
                    attrName: '[(ngModel)]'
                    attrValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: script:selectAll
                  ↓Event [ngx.components.UIControlEvent-1676296303562]: 
                    attrName: (ionChange)
                    eventName: ionChange
                    ↓IfElse [ngx.components.UIDynamicIf-1676296303565]: 
                      beanData: '{"ionBean":"IfElseAction","condition":"script:parent.out.detail.checked"}'
                      ↓CallSequence [ngx.components.UIDynamicAction-1676296303568]: 
                        beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getAllSitesId"}'
                        comment: before accordion update
                        isEnabled: false
                        ↓updateParams [ngx.components.UICustomAction-1676296303571]: 
                          actionValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                →: |
                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                  		var sites = vars.sites;
                                  		/*
                                  		for(var i = 0; i < sites.length; i++) {
                                  			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                  				page.local["sitesToCall"].push(sites[i])
                                  			}
                                  		}
                                  		*/
                                  		
                                  		for(var i = 0; i < sites.length; i++) {
                                  			page.local["sitesToCall"].push(sites[i])
                                  		}
                                  		
                                  		console.log("selectall")
                                  		console.log(page.selectAll)
                                  		page.global[''sequenceParams''] = {
                                  			date_start: page.global[''date_start''],
                                  			date_end: page.global[''date_end''],
                                  			sites: JSON.stringify(page.local[''sitesToCall'']),
                                  			agg_function: ''month'',
                                  			label: '''',
                                  			synthese: page.syntheseSelected,
                                  			limit: 20
                                  		}
                                  		console.log(page.local["sitesToCall"])
                                  		resolve();
                                  '
                          ↓sites [ngx.components.UIControlVariable-1676296303574]: 
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getAllSitesId","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                      ↓CallSequence1 [ngx.components.UIDynamicAction-1676296303577]: 
                        beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getAllUserSites"}'
                        ↓user [ngx.components.UIControlVariable-1676296303580]: 
                          comment: new variable
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                        ↓updateParams [ngx.components.UICustomAction-1676296303583]: 
                          actionValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                →: |
                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                  		var sites = vars.sites;
                                  		/*
                                  		for(var i = 0; i < sites.length; i++) {
                                  			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                  				page.local["sitesToCall"].push(sites[i])
                                  			}
                                  		}
                                  		*/
                                  		
                                  		for(var i = 0; i < sites.length; i++) {
                                  			page.local["sitesToCall"].push(sites[i][''id''])
                                  		}
                                  		
                                  		console.log("selectall")
                                  		console.log(page.selectAll)
                                  		page.global[''sequenceParams''] = {
                                  			date_start: page.global[''date_start''],
                                  			date_end: page.global[''date_end''],
                                  			sites: JSON.stringify(page.local[''sitesToCall'']),
                                  			agg_function: ''month'',
                                  			label: '''',
                                  			synthese: page.syntheseSelected,
                                  			limit: 20
                                  		}
                                  		console.log(page.local["sitesToCall"])
                                  		resolve();
                                  '
                          isEnabled: false
                          ↓sites [ngx.components.UIControlVariable-1676296303586]: 
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getAllUserSites","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                      ↓Else_Handler [ngx.components.UIActionElseEvent-1676296303589]: 
                        ↓SetLocal [ngx.components.UIDynamicAction-1676296303592]: 
                          beanData: |
                            '{
                             "ionBean": "SetLocalAction",
                             "Property": "plain:sitesToCall",
                             "Value": "script:[]"
                            }'
                        ↓Toast [ngx.components.UIDynamicAction-1676296303595]: 
                          beanData: '{"ionBean":"ToastAction"}'
                          isEnabled: false
              ↓Directive1 [ngx.components.UIControlDirective-1676296303598]: 
                directiveItemName: group
                directiveSource: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.searchGroup","marker":""}],"path":"?.groups","prefix":"","suffix":"","custom":"","useCustom":false}}
                isEnabled: false
                ↓GenericItem [ngx.components.UIDynamicElement-1676296303601]: 
                  beanData: '{"ionBean":"GenericItem"}'
                  tagName: ion-item
                  ↓CheckBox [ngx.components.UIDynamicElement-1676296303604]: 
                    beanData: |
                      '{
                       "ionBean": "CheckBox",
                       "ControlName": "plain:name1671532909462",
                       "Checked": "script:this.selectAll",
                       "Value": "script:group.name"
                      }'
                    tagName: ion-checkbox
                    ↓selectAllOnChange [ngx.components.UIControlEvent-1676296303607]: 
                      attrName: (ionChange)
                      eventName: ionChange
                      ↓IfElse [ngx.components.UIDynamicIf-1676296303610]: 
                        beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == false && parent.out.detail.checked"}'
                        ↓CallSequence [ngx.components.UIDynamicAction-1676296303613]: 
                          beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                          ↓group_name [ngx.components.UIControlVariable-1676296303616]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: script:stack.root.out.detail.value
                          ↓pushSitesToLocal [ngx.components.UICustomAction-1676296303619]: 
                            actionValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                  →: |
                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                    		console.log(props)
                                    		console.log(event)
                                    		var sites = vars.sites;
                                    		/*
                                    		for(var i = 0; i < sites.length; i++) {
                                    			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                    				page.local["sitesToCall"].push(sites[i])
                                    			}
                                    		}
                                    		*/
                                    		
                                    		for(var i = 0; i < sites.length; i++) {
                                    			page.local["sitesToCall"].push(sites[i])
                                    		}
                                    		
                                    		console.log("after loop")
                                    		page.global[''sequenceParams''] = {
                                    			date_start: page.global[''date_start''],
                                    			date_end: page.global[''date_end''],
                                    			sites: JSON.stringify(page.local[''sitesToCall'']),
                                    			agg_function: ''month'',
                                    			label: '''',
                                    			synthese: page.syntheseSelected,
                                    			limit: 20
                                    		}
                                    		console.log(page.local["sitesToCall"])
                                    		
                                    		resolve();
                                    '
                            ↓sites [ngx.components.UIControlVariable-1676296303622]: 
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                            ↓CallSequence [ngx.components.UIDynamicAction-1676296303625]: 
                              beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                              isEnabled: false
                              ↓date_start [ngx.components.UIControlVariable-1676296303628]: 
                                comment: date_start
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: plain:2021-01-01
                              ↓date_end [ngx.components.UIControlVariable-1676296303631]: 
                                comment: date_end
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: plain:2022-01-01
                              ↓sites [ngx.components.UIControlVariable-1676296303634]: 
                                comment: new variable
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                              ↓agg_function [ngx.components.UIControlVariable-1676296303637]: 
                                comment: new variable
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: plain:week
                              ↓chartType [ngx.components.UIControlVariable-1676296303640]: 
                                comment: new variable
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: plain:bar
                              ↓CustomAction [ngx.components.UICustomAction-1676296303643]: 
                                actionValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                      →: |
                                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                        		/*console.log("native")
                                        		console.log(page.all_poc_energisme_widget)
                                        		//@ts-ignore
                                        		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                        		//@ts-ignore
                                        		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                        		//@ts-ignore
                                        		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                        		page.all_poc_energisme_widget.forEach( (x) => {
                                        			console.log("x")
                                        			console.log(x)
                                        		})*/
                                        		page.ref.detectChanges();
                                        		page.local[''refresh''] = true;
                                        		setTimeout( () => {
                                        			page.local[''refresh''] = false
                                        			page.ref.detectChanges();
                                        		})
                                        		resolve();
                                        '
                        ↓Else_Handler [ngx.components.UIActionElseEvent-1676296303646]: 
                          ↓Toast [ngx.components.UIDynamicAction-1676296303649]: 
                            beanData: '{"ionBean":"ToastAction","message":"script:JSON.stringify(stack[''selectAllOnChange''].out.detail.checked)"}'
                            isEnabled: false
                          ↓IfElse [ngx.components.UIDynamicIf-1676296303652]: 
                            beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll && !stack.root.out.detail.checked"}'
                            ↓CallSequence [ngx.components.UIDynamicAction-1676296303655]: 
                              beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                              ↓group_name [ngx.components.UIControlVariable-1676296303658]: 
                                comment: new variable
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: script:stack.root.out.detail.value
                              ↓removeSitesToLocal [ngx.components.UICustomAction-1676296303661]: 
                                actionValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                      →: |
                                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                        		console.log(props)
                                        		console.log(event)
                                        		var sites = vars.sites;
                                        		for(var i = 0; i < sites.length; i++) {
                                        			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                        				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                        			}
                                        		}
                                        		
                                        		console.log("after loop")
                                        		console.log(page.local["sitesToCall"])
                                        		page.global[''sequenceParams''] = {
                                        			date_start: page.global[''date_start''],
                                        			date_end: page.global[''date_end''],
                                        			sites: JSON.stringify(page.local[''sitesToCall'']),
                                        			agg_function: ''month'',
                                        			label: '''',
                                        			synthese: this.syntheseSelected,
                                        			limit: 20
                                        		}
                                        		
                                        		resolve();
                                        '
                                ↓sites [ngx.components.UIControlVariable-1676296303664]: 
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                            ↓Toast [ngx.components.UIDynamicAction-1676296303667]: 
                              beanData: '{"ionBean":"ToastAction","message":"plain:this.selectAll == true && !this.stack.root.out.detail.checked"}'
                              isEnabled: false
                            ↓Else_Handler [ngx.components.UIActionElseEvent-1676296303670]: 
                              ↓If [ngx.components.UIDynamicAction-1676296303673]: 
                                beanData: '{"ionBean":"IfAction","condition":"script:!this.selectAll && !stack.root.out.detail.checked"}'
                                isEnabled: false
                                ↓removeSitesToLocal [ngx.components.UICustomAction-1676296303676]: 
                                  actionValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                        →: |
                                          '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                          		console.log(props)
                                          		console.log(event)
                                          		var sites = vars.sites;
                                          		for(var i = 0; i < sites.length; i++) {
                                          			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                          				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                          			}
                                          		}
                                          		
                                          		console.log("after loop")
                                          		console.log(page.local["sitesToCall"])
                                          		/*
                                          		page.local[''sequenceParams''] = {
                                          			date_start: ''2021-01-01'',
                                          			date_end: ''2022-12-01'',
                                          			sites: JSON.stringify(page.local[''sitesToCall'']),
                                          			agg_function: ''month'',
                                          			label: ''''
                                          		}
                                          		*/
                                          		resolve();
                                          '
                                  ↓sites [ngx.components.UIControlVariable-1676296303679]: 
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                              ↓SetLocal [ngx.components.UIDynamicAction-1676296303682]: 
                                beanData: |
                                  '{
                                   "ionBean": "SetLocalAction",
                                   "Property": "plain:sitesToCall",
                                   "Value": "script:[]"
                                  }'
                          ↓CallSequence [ngx.components.UIDynamicAction-1676296303685]: 
                            beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                            isEnabled: false
                            ↓group_name [ngx.components.UIControlVariable-1676296303688]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: script:stack.root.out.detail.value
                            ↓removeSitesToLocal [ngx.components.UICustomAction-1676296303691]: 
                              actionValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                    →: |
                                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                      		console.log(props)
                                      		console.log(event)
                                      		var sites = vars.sites;
                                      		for(var i = 0; i < sites.length; i++) {
                                      			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                      				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                      			}
                                      		}
                                      		
                                      		console.log("after loop")
                                      		console.log(page.local["sitesToCall"])
                                      		page.local[''sequenceParams''] = {
                                      			date_start: ''2021-01-01'',
                                      			date_end: ''2022-12-01'',
                                      			sites: page.local[''sitesToCall''],
                                      			agg_function: ''month'',
                                      			label: ''''
                                      		}
                                      		
                                      		resolve();
                                      '
                              ↓sites [ngx.components.UIControlVariable-1676296303694]: 
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                          ↓IfElse1 [ngx.components.UIDynamicIf-1676296303697]: 
                            beanData: '{"ionBean":"IfElseAction","condition":"script:!this.selectAll"}'
                            isEnabled: false
                          ↓CustomAction [ngx.components.UICustomAction-1676296303700]: 
                            actionValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                  →: |
                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                    		console.log("props")
                                    		console.log(props)
                                    		resolve();
                                    '
                            isEnabled: false
                  ↓Text [ngx.components.UIText-1676296303703]: 
                    isEnabled: false
                    textValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: script:group.name
                  ↓Directive1 [ngx.components.UIControlDirective-1676296303706]: 
                    directiveName: If
                    directiveSource: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: script:group.name.includes('ad:')
                    ↓Icon [ngx.components.UIDynamicElement-1676296303709]: 
                      beanData: |
                        '{
                         "ionBean": "Icon",
                         "IconName": "source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/Microsoft_Azure.svg''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}",
                         "IconSource": "source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/Microsoft_Azure.svg''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"
                        }'
                      tagName: ion-icon
                      ↓Style [ngx.components.UIStyle-1676296303712]: 
                        styleContent: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                              →: |
                                '	margin-left: 1.0416666666666667vw !important;
                                	margin-right: 1.0416666666666667vw !important;
                                '
                  ↓Directive2 [ngx.components.UIControlDirective-1676296303715]: 
                    directiveName: If
                    directiveSource: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: script:!group.name.includes('ad:')
                    ↓Icon [ngx.components.UIDynamicElement-1676296303718]: 
                      beanData: '{"ionBean":"Icon","IconSource":"source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/c8o.png''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"}'
                      isEnabled: false
                      tagName: ion-icon
                  ↓Text1 [ngx.components.UIText-1676296303721]: 
                    textValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: 'script:(group.name.includes(''ad:'')) ? group.name.slice(3, group.length) + '' (''+ group.count + '')'' : group.name + '' (''+ group.count + '')'''
                  ↓Directive [ngx.components.UIControlDirective-1676296303724]: 
                    directiveName: If
                    directiveSource: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: script:group.name.includes("ad:") == false
                    isEnabled: false
                    ↓ButtonSet1 [ngx.components.UIDynamicElement-1676296303727]: 
                      beanData: '{"ionBean":"ButtonSet","SetPosition":"plain:end"}'
                      tagName: ion-buttons
                      ↓buttonUpdate [ngx.components.UIDynamicElement-1676296303730]: 
                        beanData: '{"ionBean":"Button"}'
                        tagName: ion-button
                        ↓Event [ngx.components.UIControlEvent-1676296303733]: 
                          ↓ModalPage [ngx.components.UIDynamicAction-1676296303736]: 
                            beanData: |
                              '{
                               "ionBean": "ModalAction",
                               "page": "plain:poc_energisme.Application.NgxApp.modalUpdateGroup",
                               "data": "script:{ name: group.name }",
                               "blockWhileDisplayed": "plain:true"
                              }'
                            ↓If [ngx.components.UIDynamicAction-1676296303739]: 
                              beanData: '{"ionBean":"IfAction","condition":"script:parent.out.data.update == \"true\""}'
                              ↓CallSequence [ngx.components.UIDynamicAction-1676296303742]: 
                                beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:lib_FullSyncGrp.GroupsOf"}'
                                ↓user [ngx.components.UIControlVariable-1676296303745]: 
                                  comment: new variable
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                                ↓SetLocal1 [ngx.components.UIDynamicAction-1676296303748]: 
                                  beanData: |
                                    '{
                                     "ionBean": "SetLocalAction",
                                     "Property": "plain:sitesFromGroup",
                                     "Value": "script:[]"
                                    }'
                          ↓Toast [ngx.components.UIDynamicAction-1676296303751]: 
                            beanData: '{"ionBean":"ToastAction","message":"script:group"}'
                            isEnabled: false
                        ↓Icon [ngx.components.UIDynamicElement-1676296303754]: 
                          beanData: '{"ionBean":"Icon","IconName":"source:{\"filter\":\"Icon\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"icon\":\"''pencil''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"}'
                          tagName: ion-icon
                      ↓buttonDelete [ngx.components.UIDynamicElement-1676296303757]: 
                        beanData: '{"ionBean":"Button"}'
                        tagName: ion-button
                        ↓Event [ngx.components.UIControlEvent-1676296303760]: 
                          ↓CallSequence [ngx.components.UIDynamicAction-1676296303763]: 
                            beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:lib_FullSyncGrp.RemoveGroup"}'
                            ↓group [ngx.components.UIControlVariable-1676296303766]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: script:group.name
                            ↓IfElse [ngx.components.UIDynamicIf-1676296303769]: 
                              beanData: '{"ionBean":"IfElseAction","condition":"script:parent.out.success == \"true\""}'
                              ↓CallSequence1 [ngx.components.UIDynamicAction-1676296303772]: 
                                beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.removeAllSitesOfGroup"}'
                                ↓CallSequence [ngx.components.UIDynamicAction-1676296303775]: 
                                  beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:lib_FullSyncGrp.GroupsOf"}'
                                  ↓user [ngx.components.UIControlVariable-1676296303778]: 
                                    comment: new variable
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                                  ↓removeSitesFromGroups [ngx.components.UICustomAction-1676296303781]: 
                                    actionValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                          →: |
                                            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                            		var sites = vars.sites;
                                            		console.log(sites)
                                            		console.log(page.local["sitesFromGroup"])
                                            		
                                            		for(var i = 0; i < sites.length; i++) {
                                            			if(page.local["sitesFromGroup"].includes(sites[i])) {
                                            				page.local["sitesFromGroup"].splice(page.local["sitesFromGroup"].indexOf(sites[i]), 1)
                                            			}
                                            		}
                                            		resolve();
                                            '
                                    isEnabled: false
                                    ↓sites [ngx.components.UIControlVariable-1676296303784]: 
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                  ↓SetLocal1 [ngx.components.UIDynamicAction-1676296303787]: 
                                    beanData: |
                                      '{
                                       "ionBean": "SetLocalAction",
                                       "Property": "plain:sitesFromGroup",
                                       "Value": "script:[]"
                                      }'
                                ↓group [ngx.components.UIControlVariable-1676296303790]: 
                                  comment: new variable
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: script:group.name
                              ↓Toast [ngx.components.UIDynamicAction-1676296303793]: 
                                beanData: '{"ionBean":"ToastAction","message":"plain:Le groupe a été supprimé."}'
                              ↓Else_Handler [ngx.components.UIActionElseEvent-1676296303796]: 
                                ↓Toast [ngx.components.UIDynamicAction-1676296303799]: 
                                  beanData: '{"ionBean":"ToastAction","message":"plain:Un problème est survenue au moment de la suppression du groupe"}'
                        ↓Icon [ngx.components.UIDynamicElement-1676296303802]: 
                          beanData: '{"ionBean":"Icon","IconName":"plain:trash"}'
                          tagName: ion-icon
              ↓Style [ngx.components.UIStyle-1676296303805]: 
                isEnabled: false
                styleContent: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                      →: |
                        '/**
                         * Custom properties (sometimes referred to as CSS variables or cascading variables)
                         * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                         * They are set using custom property notation, e.g.: --main-color: black;
                         * and are accessed using the var() function, e.g.: color: var(--main-color);
                         * You can find below your component''s properties you can customize within the page.
                         * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                         * For more informations see https://ionicframework.com/docs/theming.
                        **/
                        //--ion-grid-column-padding	//Padding for the Column
                        //--ion-grid-column-padding-lg	//Padding for the Column on lg screens and up
                        //--ion-grid-column-padding-md	//Padding for the Column on md screens and up
                        //--ion-grid-column-padding-sm	//Padding for the Column on sm screens and up
                        //--ion-grid-column-padding-xl	//Padding for the Column on xl screens and up
                        //--ion-grid-column-padding-xs	//Padding for the Column on xs screens and up
                        //--ion-grid-columns	//The number of total Columns in the Grid
                        max-height: 70% !important;
                        overflow-y: scroll;
                        '
              ↓AccordionGroup [ngx.components.UIDynamicElement-1676296303808]: 
                beanData: '{"ionBean":"AccordionGroup"}'
                tagName: ion-accordion-group
                ↓group [ngx.components.UIControlDirective-1676296303811]: 
                  directiveItemName: group
                  directiveSource: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.searchGroup","marker":""}],"path":"?.groups","prefix":"","suffix":"","custom":"","useCustom":false}}
                  ↓Accordion [ngx.components.UIDynamicElement-1676296303814]: 
                    beanData: '{"ionBean":"Accordion","Value":"script:group.name"}'
                    tagName: ion-accordion
                    ↓GenericItem [ngx.components.UIDynamicElement-1676296303817]: 
                      beanData: '{"ionBean":"GenericItem","IonSlot":"plain:header"}'
                      tagName: ion-item
                      ↓Label [ngx.components.UIDynamicElement-1676296303820]: 
                        beanData: '{"ionBean":"Label"}'
                        isEnabled: false
                        tagName: ion-label
                        ↓Text [ngx.components.UIText-1676296303823]: 
                          textValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:group.name
                      ↓parentCheckBox [ngx.components.UIDynamicElement-1676296303826]: 
                        beanData: |
                          '{
                           "ionBean": "CheckBox",
                           "ControlName": "plain:parentGroup",
                           "Checked": "script:this.selectAll",
                           "Value": "script:group.name"
                          }'
                        tagName: ion-checkbox
                        ↓selectAllOnChange [ngx.components.UIControlEvent-1676296303829]: 
                          attrName: (ionChange)
                          eventName: ionChange
                          ↓IfElse [ngx.components.UIDynamicIf-1676296303832]: 
                            beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == false && parent.out.detail.checked"}'
                            ↓CallSequence [ngx.components.UIDynamicAction-1676296303835]: 
                              beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                              comment: works before accordion update
                              isEnabled: false
                              ↓group_name [ngx.components.UIControlVariable-1676296303838]: 
                                comment: new variable
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: script:stack.root.out.detail.value
                              ↓pushSitesToLocal [ngx.components.UICustomAction-1676296303841]: 
                                actionValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                      →: |
                                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                        		console.log(props)
                                        		console.log(event)
                                        		var sites = vars.sites;
                                        		/*
                                        		for(var i = 0; i < sites.length; i++) {
                                        			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                        				page.local["sitesToCall"].push(sites[i])
                                        			}
                                        		}
                                        		*/
                                        		
                                        		for(var i = 0; i < sites.length; i++) {
                                        			page.local["sitesToCall"].push(sites[i])
                                        		}
                                        		
                                        		console.log("after loop")
                                        		page.global[''sequenceParams''] = {
                                        			date_start: page.global[''date_start''],
                                        			date_end: page.global[''date_end''],
                                        			sites: JSON.stringify(page.local[''sitesToCall'']),
                                        			agg_function: ''month'',
                                        			label: '''',
                                        			synthese: page.syntheseSelected,
                                        			limit: 20
                                        		}
                                        		console.log(page.local["sitesToCall"])
                                        		
                                        		resolve();
                                        '
                                ↓sites [ngx.components.UIControlVariable-1676296303844]: 
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                ↓CallSequence [ngx.components.UIDynamicAction-1676296303847]: 
                                  beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                                  isEnabled: false
                                  ↓date_start [ngx.components.UIControlVariable-1676296303850]: 
                                    comment: date_start
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: plain:2021-01-01
                                  ↓date_end [ngx.components.UIControlVariable-1676296303853]: 
                                    comment: date_end
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: plain:2022-01-01
                                  ↓sites [ngx.components.UIControlVariable-1676296303856]: 
                                    comment: new variable
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                                  ↓agg_function [ngx.components.UIControlVariable-1676296303859]: 
                                    comment: new variable
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: plain:week
                                  ↓chartType [ngx.components.UIControlVariable-1676296303862]: 
                                    comment: new variable
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: plain:bar
                                  ↓CustomAction [ngx.components.UICustomAction-1676296303865]: 
                                    actionValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                          →: |
                                            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                            		/*console.log("native")
                                            		console.log(page.all_poc_energisme_widget)
                                            		//@ts-ignore
                                            		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                            		//@ts-ignore
                                            		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                            		//@ts-ignore
                                            		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                            		page.all_poc_energisme_widget.forEach( (x) => {
                                            			console.log("x")
                                            			console.log(x)
                                            		})*/
                                            		page.ref.detectChanges();
                                            		page.local[''refresh''] = true;
                                            		setTimeout( () => {
                                            			page.local[''refresh''] = false
                                            			page.ref.detectChanges();
                                            		})
                                            		resolve();
                                            '
                            ↓pushSitesToLocal [ngx.components.UICustomAction-1676296303868]: 
                              actionValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                    →: |
                                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                      		console.log(props)
                                      		console.log(event)
                                      		var sites = vars.sites;
                                      		/*
                                      		for(var i = 0; i < sites.length; i++) {
                                      			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                      				page.local["sitesToCall"].push(sites[i])
                                      			}
                                      		}
                                      		*/
                                      		
                                      		for(var i = 0; i < sites.length; i++) {
                                      			page.local["sitesToCall"].push(sites[i][''id''])
                                      		}
                                      		
                                      		console.log("after loop")
                                      		page.global[''sequenceParams''] = {
                                      			date_start: page.global[''date_start''],
                                      			date_end: page.global[''date_end''],
                                      			sites: JSON.stringify(page.local[''sitesToCall'']),
                                      			agg_function: ''month'',
                                      			label: '''',
                                      			synthese: page.syntheseSelected,
                                      			limit: 20
                                      		}
                                      		console.log(page.local["sitesToCall"])
                                      		
                                      		resolve();
                                      '
                              comment: from accordion update
                              isEnabled: false
                              ↓sites [ngx.components.UIControlVariable-1676296303871]: 
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: script:stack.root.scope.group.sites
                              ↓CallSequence [ngx.components.UIDynamicAction-1676296303874]: 
                                beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                                isEnabled: false
                                ↓date_start [ngx.components.UIControlVariable-1676296303877]: 
                                  comment: date_start
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: plain:2021-01-01
                                ↓date_end [ngx.components.UIControlVariable-1676296303880]: 
                                  comment: date_end
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: plain:2022-01-01
                                ↓sites [ngx.components.UIControlVariable-1676296303883]: 
                                  comment: new variable
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                                ↓agg_function [ngx.components.UIControlVariable-1676296303886]: 
                                  comment: new variable
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: plain:week
                                ↓chartType [ngx.components.UIControlVariable-1676296303889]: 
                                  comment: new variable
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: plain:bar
                                ↓CustomAction [ngx.components.UICustomAction-1676296303892]: 
                                  actionValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                        →: |
                                          '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                          		/*console.log("native")
                                          		console.log(page.all_poc_energisme_widget)
                                          		//@ts-ignore
                                          		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                          		//@ts-ignore
                                          		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                          		//@ts-ignore
                                          		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                          		page.all_poc_energisme_widget.forEach( (x) => {
                                          			console.log("x")
                                          			console.log(x)
                                          		})*/
                                          		page.ref.detectChanges();
                                          		page.local[''refresh''] = true;
                                          		setTimeout( () => {
                                          			page.local[''refresh''] = false
                                          			page.ref.detectChanges();
                                          		})
                                          		resolve();
                                          '
                            ↓SetLocal [ngx.components.UIDynamicAction-1676296303895]: 
                              beanData: |
                                '{
                                 "ionBean": "SetLocalAction",
                                 "Property": "plain:groupChecked",
                                 "Value": "script:group.name"
                                }'
                            ↓Else_Handler [ngx.components.UIActionElseEvent-1676296303898]: 
                              ↓Toast [ngx.components.UIDynamicAction-1676296303901]: 
                                beanData: '{"ionBean":"ToastAction","message":"script:JSON.stringify(stack[''selectAllOnChange''].out.detail.checked)"}'
                                isEnabled: false
                              ↓IfElse [ngx.components.UIDynamicIf-1676296303904]: 
                                beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll && !stack.root.out.detail.checked"}'
                                ↓CallSequence [ngx.components.UIDynamicAction-1676296303907]: 
                                  beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                                  comment: before accordion update
                                  isEnabled: false
                                  ↓group_name [ngx.components.UIControlVariable-1676296303910]: 
                                    comment: new variable
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: script:stack.root.out.detail.value
                                  ↓removeSitesToLocal [ngx.components.UICustomAction-1676296303913]: 
                                    actionValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                          →: |
                                            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                            		console.log(props)
                                            		console.log(event)
                                            		var sites = vars.sites;
                                            		for(var i = 0; i < sites.length; i++) {
                                            			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                            				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                            			}
                                            		}
                                            		
                                            		console.log("after loop")
                                            		console.log(page.local["sitesToCall"])
                                            		page.global[''sequenceParams''] = {
                                            			date_start: page.global[''date_start''],
                                            			date_end: page.global[''date_end''],
                                            			sites: JSON.stringify(page.local[''sitesToCall'']),
                                            			agg_function: ''month'',
                                            			label: '''',
                                            			synthese: this.syntheseSelected,
                                            			limit: 20
                                            		}
                                            		
                                            		resolve();
                                            '
                                    ↓sites [ngx.components.UIControlVariable-1676296303916]: 
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                ↓removeSitesToLocal [ngx.components.UICustomAction-1676296303919]: 
                                  actionValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                        →: |
                                          '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                          		console.log(props)
                                          		console.log(event)
                                          		var sites = vars.sites;
                                          		for(var i = 0; i < sites.length; i++) {
                                          			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                          				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                          			}
                                          		}
                                          		
                                          		console.log("after loop")
                                          		console.log(page.local["sitesToCall"])
                                          		page.global[''sequenceParams''] = {
                                          			date_start: page.global[''date_start''],
                                          			date_end: page.global[''date_end''],
                                          			sites: JSON.stringify(page.local[''sitesToCall'']),
                                          			agg_function: ''month'',
                                          			label: '''',
                                          			synthese: this.syntheseSelected,
                                          			limit: 20
                                          		}
                                          		
                                          		resolve();
                                          '
                                  ↓sites [ngx.components.UIControlVariable-1676296303922]: 
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: script:stack.root.scope.group.sites
                                ↓Else_Handler [ngx.components.UIActionElseEvent-1676296303925]: 
                                  ↓If [ngx.components.UIDynamicAction-1676296303928]: 
                                    beanData: '{"ionBean":"IfAction","condition":"script:!this.selectAll && !stack.root.out.detail.checked"}'
                                    isEnabled: false
                                    ↓removeSitesToLocal [ngx.components.UICustomAction-1676296303931]: 
                                      actionValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                            →: |
                                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                              		console.log(props)
                                              		console.log(event)
                                              		var sites = vars.sites;
                                              		for(var i = 0; i < sites.length; i++) {
                                              			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                              				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                              			}
                                              		}
                                              		
                                              		console.log("after loop")
                                              		console.log(page.local["sitesToCall"])
                                              		/*
                                              		page.local[''sequenceParams''] = {
                                              			date_start: ''2021-01-01'',
                                              			date_end: ''2022-12-01'',
                                              			sites: JSON.stringify(page.local[''sitesToCall'']),
                                              			agg_function: ''month'',
                                              			label: ''''
                                              		}
                                              		*/
                                              		resolve();
                                              '
                                      ↓sites [ngx.components.UIControlVariable-1676296303934]: 
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                  ↓IfElse [ngx.components.UIDynamicIf-1676296303937]: 
                                    beanData: '{"ionBean":"IfElseAction","condition":"script:!this.selectAll && !stack.root.out.detail.checked"}'
                                    ↓removeSitesToLocal [ngx.components.UICustomAction-1676296303940]: 
                                      actionValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                            →: |
                                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                              		console.log(props)
                                              		console.log(event)
                                              		var sites = vars.sites;
                                              		for(var i = 0; i < sites.length; i++) {
                                              			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                              				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                              			}
                                              		}
                                              		
                                              		console.log("after loop")
                                              		console.log(page.local["sitesToCall"])
                                              		
                                              		page.global[''sequenceParams''] = {
                                              			date_start: page.global[''date_start''],
                                              			date_end: page.global[''date_end''],
                                              			sites: JSON.stringify(page.local[''sitesToCall'']),
                                              			agg_function: ''month'',
                                              			label: '''',
                                              			synthese: this.syntheseSelected,
                                              			limit: 20
                                              		}
                                              		/*
                                              		page.local[''sequenceParams''] = {
                                              			date_start: ''2021-01-01'',
                                              			date_end: ''2022-12-01'',
                                              			sites: JSON.stringify(page.local[''sitesToCall'']),
                                              			agg_function: ''month'',
                                              			label: ''''
                                              		}
                                              		*/
                                              		resolve();
                                              '
                                      ↓sites [ngx.components.UIControlVariable-1676296303943]: 
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: script:stack.root.scope.group.sites
                                    ↓Else_Handler [ngx.components.UIActionElseEvent-1676296303946]: 
                                      ↓SetLocal [ngx.components.UIDynamicAction-1676296303949]: 
                                        beanData: |
                                          '{
                                           "ionBean": "SetLocalAction",
                                           "Property": "plain:sitesToCall",
                                           "Value": "script:[]"
                                          }'
                              ↓CallSequence [ngx.components.UIDynamicAction-1676296303952]: 
                                beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                                isEnabled: false
                                ↓group_name [ngx.components.UIControlVariable-1676296303955]: 
                                  comment: new variable
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: script:stack.root.out.detail.value
                                ↓removeSitesToLocal [ngx.components.UICustomAction-1676296303958]: 
                                  actionValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                        →: |
                                          '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                          		console.log(props)
                                          		console.log(event)
                                          		var sites = vars.sites;
                                          		for(var i = 0; i < sites.length; i++) {
                                          			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                          				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                          			}
                                          		}
                                          		
                                          		console.log("after loop")
                                          		console.log(page.local["sitesToCall"])
                                          		page.local[''sequenceParams''] = {
                                          			date_start: ''2021-01-01'',
                                          			date_end: ''2022-12-01'',
                                          			sites: page.local[''sitesToCall''],
                                          			agg_function: ''month'',
                                          			label: ''''
                                          		}
                                          		
                                          		resolve();
                                          '
                                  ↓sites [ngx.components.UIControlVariable-1676296303961]: 
                                    varValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                        - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                              ↓IfElse1 [ngx.components.UIDynamicIf-1676296303964]: 
                                beanData: '{"ionBean":"IfElseAction","condition":"script:!this.selectAll"}'
                                isEnabled: false
                              ↓CustomAction [ngx.components.UICustomAction-1676296303967]: 
                                actionValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                      →: |
                                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                        		console.log("props")
                                        		console.log(props)
                                        		resolve();
                                        '
                                isEnabled: false
                          ↓CustomAction [ngx.components.UICustomAction-1676296303970]: 
                            actionValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                  →: |
                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                    		console.log(vars.stack)
                                    		resolve();
                                    '
                            isEnabled: false
                            ↓stack [ngx.components.UIControlVariable-1676296303973]: 
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: script:stack
                        ↓Attr [ngx.components.UIAttribute-1676296303976]: 
                          attrName: id
                          attrValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:group.name
                      ↓Directive1 [ngx.components.UIControlDirective-1676296303979]: 
                        directiveName: If
                        directiveSource: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:group.name.includes('ad:')
                        ↓Icon [ngx.components.UIDynamicElement-1676296303982]: 
                          beanData: |
                            '{
                             "ionBean": "Icon",
                             "IconName": "source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/Microsoft_Azure.svg''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}",
                             "IconSource": "source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/Microsoft_Azure.svg''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"
                            }'
                          tagName: ion-icon
                          ↓Style [ngx.components.UIStyle-1676296303985]: 
                            styleContent: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                  →: |
                                    '	margin-left: 1.0416666666666667vw !important;
                                    	margin-right: 1.0416666666666667vw !important;
                                    '
                      ↓Directive2 [ngx.components.UIControlDirective-1676296303988]: 
                        directiveName: If
                        directiveSource: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:!group.name.includes('ad:')
                        ↓Icon [ngx.components.UIDynamicElement-1676296303991]: 
                          beanData: '{"ionBean":"Icon","IconSource":"source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/c8o.png''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"}'
                          isEnabled: false
                          tagName: ion-icon
                      ↓Text1 [ngx.components.UIText-1676296303994]: 
                        textValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: 'script:(group.name.includes(''ad:'')) ? group.name.slice(3, group.length) + '' (''+ group.count + '')'' : group.name + '' (''+ group.count + '')'''
                    ↓ListContainer [ngx.components.UIDynamicElement-1676296303997]: 
                      beanData: '{"ionBean":"List","IonSlot":"plain:content"}'
                      tagName: ion-list
                      ↓Directive1 [ngx.components.UIControlDirective-1676296304000]: 
                        directiveItemName: site
                        directiveSource: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: source:{"filter":"Iteration","project":"poc_energisme","input":"","model":{"data":[{"priority":1676296303811}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                        ↓ListItem [ngx.components.UIDynamicElement-1676296304003]: 
                          beanData: '{"ionBean":"ListItem"}'
                          tagName: ion-item
                          ↓CheckBox [ngx.components.UIDynamicElement-1676296304006]: 
                            beanData: |
                              '{
                               "ionBean": "CheckBox",
                               "ControlName": "plain:name1671532909462",
                               "Checked": "script:this.selectAll || this.getParentGroupStatus(group.name)",
                               "Value": "script:group.name"
                              }'
                            tagName: ion-checkbox
                            ↓selectAllOnChange [ngx.components.UIControlEvent-1676296304009]: 
                              attrName: (ionChange)
                              eventName: ionChange
                              ↓SetLocal [ngx.components.UIDynamicAction-1676296304012]: 
                                beanData: |
                                  '{
                                   "ionBean": "SetLocalAction",
                                   "Property": "plain:parentGroupStatus",
                                   "Value": "script:this.getParentGroupStatus(stack.root.scope.group.name)"
                                  }'
                                ↓IfElse [ngx.components.UIDynamicIf-1676296304015]: 
                                  beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == false && !this.local[''parentGroupStatus''] && stack.root.out.detail.checked"}'
                                  comment: case not selectAll and group not checked, only site checked
                                  ↓CallSequence [ngx.components.UIDynamicAction-1676296304018]: 
                                    beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                                    comment: before accordion update
                                    isEnabled: false
                                    ↓group_name [ngx.components.UIControlVariable-1676296304021]: 
                                      comment: new variable
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: script:stack.root.out.detail.value
                                    ↓pushSitesToLocal [ngx.components.UICustomAction-1676296304024]: 
                                      actionValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                            →: |
                                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                              		console.log(props)
                                              		console.log(event)
                                              		var sites = vars.sites;
                                              		/*
                                              		for(var i = 0; i < sites.length; i++) {
                                              			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                              				page.local["sitesToCall"].push(sites[i])
                                              			}
                                              		}
                                              		*/
                                              		
                                              		for(var i = 0; i < sites.length; i++) {
                                              			page.local["sitesToCall"].push(sites[i])
                                              		}
                                              		
                                              		console.log("after loop")
                                              		page.global[''sequenceParams''] = {
                                              			date_start: page.global[''date_start''],
                                              			date_end: page.global[''date_end''],
                                              			sites: JSON.stringify(page.local[''sitesToCall'']),
                                              			agg_function: ''month'',
                                              			label: '''',
                                              			synthese: page.syntheseSelected,
                                              			limit: 20
                                              		}
                                              		console.log(page.local["sitesToCall"])
                                              		
                                              		resolve();
                                              '
                                      ↓sites [ngx.components.UIControlVariable-1676296304027]: 
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                      ↓CallSequence [ngx.components.UIDynamicAction-1676296304030]: 
                                        beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                                        isEnabled: false
                                        ↓date_start [ngx.components.UIControlVariable-1676296304033]: 
                                          comment: date_start
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: plain:2021-01-01
                                        ↓date_end [ngx.components.UIControlVariable-1676296304036]: 
                                          comment: date_end
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: plain:2022-01-01
                                        ↓sites [ngx.components.UIControlVariable-1676296304039]: 
                                          comment: new variable
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                                        ↓agg_function [ngx.components.UIControlVariable-1676296304042]: 
                                          comment: new variable
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: plain:week
                                        ↓chartType [ngx.components.UIControlVariable-1676296304045]: 
                                          comment: new variable
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: plain:bar
                                        ↓CustomAction [ngx.components.UICustomAction-1676296304048]: 
                                          actionValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                →: |
                                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                  		/*console.log("native")
                                                  		console.log(page.all_poc_energisme_widget)
                                                  		//@ts-ignore
                                                  		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                                  		//@ts-ignore
                                                  		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                                  		//@ts-ignore
                                                  		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                                  		page.all_poc_energisme_widget.forEach( (x) => {
                                                  			console.log("x")
                                                  			console.log(x)
                                                  		})*/
                                                  		page.ref.detectChanges();
                                                  		page.local[''refresh''] = true;
                                                  		setTimeout( () => {
                                                  			page.local[''refresh''] = false
                                                  			page.ref.detectChanges();
                                                  		})
                                                  		resolve();
                                                  '
                                  ↓pushSitesToLocal [ngx.components.UICustomAction-1676296304051]: 
                                    actionValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                          →: |
                                            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                            		console.log(props)
                                            		console.log(event)
                                            		var sites = vars.sites;
                                            		/*
                                            		for(var i = 0; i < sites.length; i++) {
                                            			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                            				page.local["sitesToCall"].push(sites[i])
                                            			}
                                            		}
                                            		*/
                                            		
                                            		for(var i = 0; i < sites.length; i++) {
                                            			page.local["sitesToCall"].push(sites[i])
                                            		}
                                            		
                                            		console.log("after loop")
                                            		page.global[''sequenceParams''] = {
                                            			date_start: page.global[''date_start''],
                                            			date_end: page.global[''date_end''],
                                            			sites: JSON.stringify(page.local[''sitesToCall'']),
                                            			agg_function: ''month'',
                                            			label: '''',
                                            			synthese: page.syntheseSelected,
                                            			limit: 20
                                            		}
                                            		console.log(page.local["sitesToCall"])
                                            		
                                            		resolve();
                                            '
                                    ↓sites [ngx.components.UIControlVariable-1676296304054]: 
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: script:[stack.root.scope.site.id]
                                    ↓CallSequence [ngx.components.UIDynamicAction-1676296304057]: 
                                      beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                                      isEnabled: false
                                      ↓date_start [ngx.components.UIControlVariable-1676296304060]: 
                                        comment: date_start
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: plain:2021-01-01
                                      ↓date_end [ngx.components.UIControlVariable-1676296304063]: 
                                        comment: date_end
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: plain:2022-01-01
                                      ↓sites [ngx.components.UIControlVariable-1676296304066]: 
                                        comment: new variable
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                                      ↓agg_function [ngx.components.UIControlVariable-1676296304069]: 
                                        comment: new variable
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: plain:week
                                      ↓chartType [ngx.components.UIControlVariable-1676296304072]: 
                                        comment: new variable
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: plain:bar
                                      ↓CustomAction [ngx.components.UICustomAction-1676296304075]: 
                                        actionValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                              →: |
                                                '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                		/*console.log("native")
                                                		console.log(page.all_poc_energisme_widget)
                                                		//@ts-ignore
                                                		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                                		//@ts-ignore
                                                		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                                		//@ts-ignore
                                                		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                                		page.all_poc_energisme_widget.forEach( (x) => {
                                                			console.log("x")
                                                			console.log(x)
                                                		})*/
                                                		page.ref.detectChanges();
                                                		page.local[''refresh''] = true;
                                                		setTimeout( () => {
                                                			page.local[''refresh''] = false
                                                			page.ref.detectChanges();
                                                		})
                                                		resolve();
                                                '
                                    ↓stack [ngx.components.UIControlVariable-1676296304078]: 
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: script:stack
                                  ↓CustomAction [ngx.components.UICustomAction-1676296304081]: 
                                    actionValue: 
                                      - xmlizable: 
                                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                          →: |
                                            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                            		console.log(vars.stack)
                                            		console.log(page.groupChecked)
                                            		console.log(document.getElementById(vars.group))
                                            		var el = document.getElementById(vars.group)
                                            		var shadow = el.shadowRoot
                                            		console.log(el.shadowRoot.childNodes)
                                            		console.log(shadow)
                                            		var check = shadow.childNodes[2]
                                            		console.log(check[''attributes''][1][''nodeValue''])
                                            		resolve();
                                            '
                                    isEnabled: false
                                    ↓stack [ngx.components.UIControlVariable-1676296304084]: 
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: script:stack
                                    ↓group [ngx.components.UIControlVariable-1676296304087]: 
                                      varValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                          - MobileSmartSourceType: script:group.name
                                  ↓Else_Handler [ngx.components.UIActionElseEvent-1676296304090]: 
                                    ↓Toast [ngx.components.UIDynamicAction-1676296304093]: 
                                      beanData: '{"ionBean":"ToastAction","message":"script:JSON.stringify(stack[''selectAllOnChange''].out.detail.checked)"}'
                                      isEnabled: false
                                    ↓IfElse [ngx.components.UIDynamicIf-1676296304096]: 
                                      beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll && !stack.root.out.detail.checked"}'
                                      comment: case all selected and sites unchecked
                                      isEnabled: false
                                      ↓CallSequence [ngx.components.UIDynamicAction-1676296304099]: 
                                        beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                                        comment: before accordion update
                                        isEnabled: false
                                        ↓group_name [ngx.components.UIControlVariable-1676296304102]: 
                                          comment: new variable
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: script:stack.root.out.detail.value
                                        ↓removeSitesToLocal [ngx.components.UICustomAction-1676296304105]: 
                                          actionValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                →: |
                                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                  		console.log(props)
                                                  		console.log(event)
                                                  		var sites = vars.sites;
                                                  		for(var i = 0; i < sites.length; i++) {
                                                  			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                                  				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                                  			}
                                                  		}
                                                  		
                                                  		console.log("after loop")
                                                  		console.log(page.local["sitesToCall"])
                                                  		page.global[''sequenceParams''] = {
                                                  			date_start: page.global[''date_start''],
                                                  			date_end: page.global[''date_end''],
                                                  			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                  			agg_function: ''month'',
                                                  			label: '''',
                                                  			synthese: this.syntheseSelected,
                                                  			limit: 20
                                                  		}
                                                  		
                                                  		resolve();
                                                  '
                                          ↓sites [ngx.components.UIControlVariable-1676296304108]: 
                                            varValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                      ↓Toast [ngx.components.UIDynamicAction-1676296304111]: 
                                        beanData: '{"ionBean":"ToastAction","message":"plain:this.selectAll == true && !this.stack.root.out.detail.checked"}'
                                        isEnabled: false
                                      ↓removeSitesToLocal [ngx.components.UICustomAction-1676296304114]: 
                                        actionValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                              →: |
                                                '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                		console.log(props)
                                                		console.log(event)
                                                		var sites = vars.sites;
                                                		for(var i = 0; i < sites.length; i++) {
                                                			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                                				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                                			}
                                                		}
                                                		
                                                		console.log("after loop")
                                                		console.log(page.local["sitesToCall"])
                                                		page.global[''sequenceParams''] = {
                                                			date_start: page.global[''date_start''],
                                                			date_end: page.global[''date_end''],
                                                			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                			agg_function: ''month'',
                                                			label: '''',
                                                			synthese: this.syntheseSelected,
                                                			limit: 20
                                                		}
                                                		
                                                		resolve();
                                                '
                                        ↓sites [ngx.components.UIControlVariable-1676296304117]: 
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: script:stack.root.scope.group.sites
                                      ↓Else_Handler [ngx.components.UIActionElseEvent-1676296304120]: 
                                        ↓If [ngx.components.UIDynamicAction-1676296304123]: 
                                          beanData: '{"ionBean":"IfAction","condition":"script:!this.selectAll && !stack.root.out.detail.checked"}'
                                          isEnabled: false
                                          ↓removeSitesToLocal [ngx.components.UICustomAction-1676296304126]: 
                                            actionValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                  →: |
                                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                    		console.log(props)
                                                    		console.log(event)
                                                    		var sites = vars.sites;
                                                    		for(var i = 0; i < sites.length; i++) {
                                                    			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                                    				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                                    			}
                                                    		}
                                                    		
                                                    		console.log("after loop")
                                                    		console.log(page.local["sitesToCall"])
                                                    		/*
                                                    		page.local[''sequenceParams''] = {
                                                    			date_start: ''2021-01-01'',
                                                    			date_end: ''2022-12-01'',
                                                    			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                    			agg_function: ''month'',
                                                    			label: ''''
                                                    		}
                                                    		*/
                                                    		resolve();
                                                    '
                                            ↓sites [ngx.components.UIControlVariable-1676296304129]: 
                                              varValue: 
                                                - xmlizable: 
                                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                  - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                        ↓SetLocal [ngx.components.UIDynamicAction-1676296304132]: 
                                          beanData: |
                                            '{
                                             "ionBean": "SetLocalAction",
                                             "Property": "plain:sitesToCall",
                                             "Value": "script:[]"
                                            }'
                                        ↓IfElse [ngx.components.UIDynamicIf-1676296304135]: 
                                          beanData: '{"ionBean":"IfElseAction","condition":"script:!this.selectAll && !stack.root.out.detail.checked"}'
                                          isEnabled: false
                                          ↓removeSitesToLocal [ngx.components.UICustomAction-1676296304138]: 
                                            actionValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                  →: |
                                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                    		console.log(props)
                                                    		console.log(event)
                                                    		var sites = vars.sites;
                                                    		for(var i = 0; i < sites.length; i++) {
                                                    			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                                    				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                                    			}
                                                    		}
                                                    		
                                                    		console.log("after loop")
                                                    		console.log(page.local["sitesToCall"])
                                                    		/*
                                                    		page.local[''sequenceParams''] = {
                                                    			date_start: ''2021-01-01'',
                                                    			date_end: ''2022-12-01'',
                                                    			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                    			agg_function: ''month'',
                                                    			label: ''''
                                                    		}
                                                    		*/
                                                    		resolve();
                                                    '
                                            ↓sites [ngx.components.UIControlVariable-1676296304141]: 
                                              varValue: 
                                                - xmlizable: 
                                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                  - MobileSmartSourceType: script:stack.root.scope.group.sites
                                          ↓Else_Handler [ngx.components.UIActionElseEvent-1676296304144]: 
                                            ↓SetLocal [ngx.components.UIDynamicAction-1676296304147]: 
                                              beanData: |
                                                '{
                                                 "ionBean": "SetLocalAction",
                                                 "Property": "plain:sitesToCall",
                                                 "Value": "script:[]"
                                                }'
                                    ↓CallSequence [ngx.components.UIDynamicAction-1676296304150]: 
                                      beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                                      isEnabled: false
                                      ↓group_name [ngx.components.UIControlVariable-1676296304153]: 
                                        comment: new variable
                                        varValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                            - MobileSmartSourceType: script:stack.root.out.detail.value
                                      ↓removeSitesToLocal [ngx.components.UICustomAction-1676296304156]: 
                                        actionValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                              →: |
                                                '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                		console.log(props)
                                                		console.log(event)
                                                		var sites = vars.sites;
                                                		for(var i = 0; i < sites.length; i++) {
                                                			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                                				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                                			}
                                                		}
                                                		
                                                		console.log("after loop")
                                                		console.log(page.local["sitesToCall"])
                                                		page.local[''sequenceParams''] = {
                                                			date_start: ''2021-01-01'',
                                                			date_end: ''2022-12-01'',
                                                			sites: page.local[''sitesToCall''],
                                                			agg_function: ''month'',
                                                			label: ''''
                                                		}
                                                		
                                                		resolve();
                                                '
                                        ↓sites [ngx.components.UIControlVariable-1676296304159]: 
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                                    ↓IfElse1 [ngx.components.UIDynamicIf-1676296304162]: 
                                      beanData: '{"ionBean":"IfElseAction","condition":"script:!this.selectAll"}'
                                      isEnabled: false
                                    ↓CustomAction [ngx.components.UICustomAction-1676296304165]: 
                                      actionValue: 
                                        - xmlizable: 
                                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                            →: |
                                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                              		console.log("props")
                                              		console.log(props)
                                              		resolve();
                                              '
                                      isEnabled: false
                                    ↓IfElse2 [ngx.components.UIDynamicIf-1676296304168]: 
                                      beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == false && this.local[''parentGroupStatus''] && !stack.root.out.detail.checked"}'
                                      comment: case not selectAll and group checked and site unchecked
                                      ↓removeSitesToLocal [ngx.components.UICustomAction-1676296304171]: 
                                        actionValue: 
                                          - xmlizable: 
                                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                              →: |
                                                '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                		console.log(props)
                                                		console.log(event)
                                                		var site = vars.site;
                                                		/*
                                                		for(var i = 0; i < sites.length; i++) {
                                                			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                                				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                                			}
                                                		}
                                                		*/
                                                		for(var i = 0; i < page.local[''sitesToCall''].length; i++) {
                                                			if(page.local[''sitesToCall''].indexOf(site) != -1) {
                                                				page.local[''sitesToCall''].splice(page.local[''sitesToCall''].indexOf(site), 1)
                                                			}
                                                		}
                                                		
                                                		console.log("after loop")
                                                		console.log(page.local["sitesToCall"])
                                                		page.global[''sequenceParams''] = {
                                                			date_start: page.global[''date_start''],
                                                			date_end: page.global[''date_end''],
                                                			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                			agg_function: ''month'',
                                                			label: '''',
                                                			synthese: this.syntheseSelected,
                                                			limit: 20
                                                		}
                                                		
                                                		resolve();
                                                '
                                        ↓site [ngx.components.UIControlVariable-1676296304174]: 
                                          varValue: 
                                            - xmlizable: 
                                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                              - MobileSmartSourceType: script:site.id
                                      ↓Else_Handler [ngx.components.UIActionElseEvent-1676296304177]: 
                                        ↓If [ngx.components.UIDynamicAction-1676296304180]: 
                                          beanData: '{"ionBean":"IfAction","condition":"script:this.selectAll == true && !stack.root.out.detail.checked"}'
                                          isEnabled: false
                                          ↓removeSitesToLocal [ngx.components.UICustomAction-1676296304183]: 
                                            actionValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                  →: |
                                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                    		console.log(props)
                                                    		console.log(event)
                                                    		var site = ""+vars.site;
                                                    		/*
                                                    		for(var i = 0; i < sites.length; i++) {
                                                    			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                                    				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                                    			}
                                                    		}
                                                    		*/
                                                    		for(var i = 0; i < page.local[''sitesToCall''].length; i++) {
                                                    			if(page.local[''sitesToCall''].indexOf(site) != -1) {
                                                    				page.local[''sitesToCall''].splice(page.local[''sitesToCall''].indexOf(site), 1)
                                                    			}
                                                    		}
                                                    		
                                                    		console.log("after loop")
                                                    		console.log(page.local["sitesToCall"])
                                                    		page.global[''sequenceParams''] = {
                                                    			date_start: page.global[''date_start''],
                                                    			date_end: page.global[''date_end''],
                                                    			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                    			agg_function: ''month'',
                                                    			label: '''',
                                                    			synthese: this.syntheseSelected,
                                                    			limit: 20
                                                    		}
                                                    		
                                                    		resolve();
                                                    '
                                            ↓site [ngx.components.UIControlVariable-1676296304186]: 
                                              varValue: 
                                                - xmlizable: 
                                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                  - MobileSmartSourceType: script:site.id
                                        ↓IfElse [ngx.components.UIDynamicIf-1676296304189]: 
                                          beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == true && !stack.root.out.detail.checked"}'
                                          comment: case selectAll and site unchecked
                                          ↓removeSitesToLocal [ngx.components.UICustomAction-1676296304192]: 
                                            actionValue: 
                                              - xmlizable: 
                                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                  →: |
                                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                    		console.log(props)
                                                    		console.log(event)
                                                    		var site = vars.site;
                                                    		/*
                                                    		for(var i = 0; i < sites.length; i++) {
                                                    			if(page.local["sitesToCall"].indexOf(sites[i][''id'']) != "-1") {
                                                    				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i][''id'']), 1)
                                                    			}
                                                    		}
                                                    		*/
                                                    		for(var i = 0; i < page.local[''sitesToCall''].length; i++) {
                                                    			if(page.local[''sitesToCall''].indexOf(site) != -1) {
                                                    				page.local[''sitesToCall''].splice(page.local[''sitesToCall''].indexOf(site), 1)
                                                    			}
                                                    		}
                                                    		
                                                    		console.log("after loop")
                                                    		console.log(page.local["sitesToCall"])
                                                    		page.global[''sequenceParams''] = {
                                                    			date_start: page.global[''date_start''],
                                                    			date_end: page.global[''date_end''],
                                                    			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                    			agg_function: ''month'',
                                                    			label: '''',
                                                    			synthese: this.syntheseSelected,
                                                    			limit: 20
                                                    		}
                                                    		
                                                    		resolve();
                                                    '
                                            ↓site [ngx.components.UIControlVariable-1676296304195]: 
                                              varValue: 
                                                - xmlizable: 
                                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                  - MobileSmartSourceType: script:site.id
                                          ↓Else_Handler [ngx.components.UIActionElseEvent-1676296304198]: 
                                            ↓IfElse [ngx.components.UIDynamicIf-1676296304201]: 
                                              beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == true && stack.root.out.detail.checked"}'
                                              ↓pushSitesToLocal [ngx.components.UICustomAction-1676296304204]: 
                                                actionValue: 
                                                  - xmlizable: 
                                                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                      →: |
                                                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                        		console.log(props)
                                                        		console.log(event)
                                                        		var sites = vars.sites;
                                                        		/*
                                                        		for(var i = 0; i < sites.length; i++) {
                                                        			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                                        				page.local["sitesToCall"].push(sites[i])
                                                        			}
                                                        		}
                                                        		*/
                                                        		
                                                        		// if(this.selectAll == false) {
                                                        			for(var i = 0; i < sites.length; i++) {
                                                        			page.local["sitesToCall"].push(sites[i])
                                                        		}
                                                        		
                                                        		console.log("after loop")
                                                        		page.global[''sequenceParams''] = {
                                                        			date_start: page.global[''date_start''],
                                                        			date_end: page.global[''date_end''],
                                                        			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                        			agg_function: ''month'',
                                                        			label: '''',
                                                        			synthese: page.syntheseSelected,
                                                        			limit: 20
                                                        		}
                                                        		console.log(page.local["sitesToCall"])
                                                        		//}
                                                        		
                                                        		
                                                        		resolve();
                                                        '
                                                ↓sites [ngx.components.UIControlVariable-1676296304207]: 
                                                  varValue: 
                                                    - xmlizable: 
                                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                      - MobileSmartSourceType: script:[stack.root.scope.site.id]
                                                ↓CallSequence [ngx.components.UIDynamicAction-1676296304210]: 
                                                  beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                                                  isEnabled: false
                                                  ↓date_start [ngx.components.UIControlVariable-1676296304213]: 
                                                    comment: date_start
                                                    varValue: 
                                                      - xmlizable: 
                                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                        - MobileSmartSourceType: plain:2021-01-01
                                                  ↓date_end [ngx.components.UIControlVariable-1676296304216]: 
                                                    comment: date_end
                                                    varValue: 
                                                      - xmlizable: 
                                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                        - MobileSmartSourceType: plain:2022-01-01
                                                  ↓sites [ngx.components.UIControlVariable-1676296304219]: 
                                                    comment: new variable
                                                    varValue: 
                                                      - xmlizable: 
                                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                        - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                                                  ↓agg_function [ngx.components.UIControlVariable-1676296304222]: 
                                                    comment: new variable
                                                    varValue: 
                                                      - xmlizable: 
                                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                        - MobileSmartSourceType: plain:week
                                                  ↓chartType [ngx.components.UIControlVariable-1676296304225]: 
                                                    comment: new variable
                                                    varValue: 
                                                      - xmlizable: 
                                                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                        - MobileSmartSourceType: plain:bar
                                                  ↓CustomAction [ngx.components.UICustomAction-1676296304228]: 
                                                    actionValue: 
                                                      - xmlizable: 
                                                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                          →: |
                                                            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                            		/*console.log("native")
                                                            		console.log(page.all_poc_energisme_widget)
                                                            		//@ts-ignore
                                                            		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                                            		//@ts-ignore
                                                            		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                                            		//@ts-ignore
                                                            		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                                            		page.all_poc_energisme_widget.forEach( (x) => {
                                                            			console.log("x")
                                                            			console.log(x)
                                                            		})*/
                                                            		page.ref.detectChanges();
                                                            		page.local[''refresh''] = true;
                                                            		setTimeout( () => {
                                                            			page.local[''refresh''] = false
                                                            			page.ref.detectChanges();
                                                            		})
                                                            		resolve();
                                                            '
                                              ↓Else_Handler [ngx.components.UIActionElseEvent-1676296304231]: 
                                                ↓If [ngx.components.UIDynamicAction-1676296304234]: 
                                                  beanData: '{"ionBean":"IfAction","condition":"script:this.selectAll == false && this.local[''parentGroupStatus''] && stack.root.out.detail.checked"}'
                                                  comment: case not selectAll and group check and site checked
                                                  ↓pushSitesToLocal [ngx.components.UICustomAction-1676296304237]: 
                                                    actionValue: 
                                                      - xmlizable: 
                                                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                          →: |
                                                            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                            		console.log(props)
                                                            		console.log(event)
                                                            		var sites = vars.sites;
                                                            		/*
                                                            		for(var i = 0; i < sites.length; i++) {
                                                            			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                                                            				page.local["sitesToCall"].push(sites[i])
                                                            			}
                                                            		}
                                                            		*/
                                                            		
                                                            		for(var i = 0; i < sites.length; i++) {
                                                            			page.local["sitesToCall"].push(sites[i])
                                                            		}
                                                            		
                                                            		console.log("after loop")
                                                            		page.global[''sequenceParams''] = {
                                                            			date_start: page.global[''date_start''],
                                                            			date_end: page.global[''date_end''],
                                                            			sites: JSON.stringify(page.local[''sitesToCall'']),
                                                            			agg_function: ''month'',
                                                            			label: '''',
                                                            			synthese: page.syntheseSelected,
                                                            			limit: 20
                                                            		}
                                                            		console.log(page.local["sitesToCall"])
                                                            		
                                                            		resolve();
                                                            '
                                                    ↓sites [ngx.components.UIControlVariable-1676296304240]: 
                                                      varValue: 
                                                        - xmlizable: 
                                                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                          - MobileSmartSourceType: script:[stack.root.scope.site.id]
                                                    ↓CallSequence [ngx.components.UIDynamicAction-1676296304243]: 
                                                      beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                                                      isEnabled: false
                                                      ↓date_start [ngx.components.UIControlVariable-1676296304246]: 
                                                        comment: date_start
                                                        varValue: 
                                                          - xmlizable: 
                                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                            - MobileSmartSourceType: plain:2021-01-01
                                                      ↓date_end [ngx.components.UIControlVariable-1676296304249]: 
                                                        comment: date_end
                                                        varValue: 
                                                          - xmlizable: 
                                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                            - MobileSmartSourceType: plain:2022-01-01
                                                      ↓sites [ngx.components.UIControlVariable-1676296304252]: 
                                                        comment: new variable
                                                        varValue: 
                                                          - xmlizable: 
                                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                            - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                                                      ↓agg_function [ngx.components.UIControlVariable-1676296304255]: 
                                                        comment: new variable
                                                        varValue: 
                                                          - xmlizable: 
                                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                            - MobileSmartSourceType: plain:week
                                                      ↓chartType [ngx.components.UIControlVariable-1676296304258]: 
                                                        comment: new variable
                                                        varValue: 
                                                          - xmlizable: 
                                                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                                            - MobileSmartSourceType: plain:bar
                                                      ↓CustomAction [ngx.components.UICustomAction-1676296304261]: 
                                                        actionValue: 
                                                          - xmlizable: 
                                                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                                              →: |
                                                                '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                                                		/*console.log("native")
                                                                		console.log(page.all_poc_energisme_widget)
                                                                		//@ts-ignore
                                                                		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                                                		//@ts-ignore
                                                                		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                                                		//@ts-ignore
                                                                		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                                                		page.all_poc_energisme_widget.forEach( (x) => {
                                                                			console.log("x")
                                                                			console.log(x)
                                                                		})*/
                                                                		page.ref.detectChanges();
                                                                		page.local[''refresh''] = true;
                                                                		setTimeout( () => {
                                                                			page.local[''refresh''] = false
                                                                			page.ref.detectChanges();
                                                                		})
                                                                		resolve();
                                                                '
                          ↓Label [ngx.components.UIDynamicElement-1676296304264]: 
                            beanData: '{"ionBean":"Label"}'
                            tagName: ion-label
                            ↓Text [ngx.components.UIText-1676296304267]: 
                              textValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: source:{"filter":"Iteration","project":"poc_energisme","input":"","model":{"data":[{"priority":1676296304000},{"priority":1676296303811}],"path":"?.name","prefix":"","suffix":"","custom":"","useCustom":false}}
              ↓_hidden_ [ngx.components.UIAttribute-1676296304270]: 
                attrName: '[hidden]'
                attrValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:this.hideMenu
            ↓colCharts [ngx.components.UIDynamicElement-1676296304273]: 
              beanData: |
                '{
                 "ionBean": "GridCol",
                 "SizeLg": "plain:10",
                 "SizeMd": "plain:10"
                }'
              tagName: ion-col
              ↓Grid [ngx.components.UIDynamicElement-1676296304276]: 
                beanData: '{"ionBean":"Grid"}'
                tagName: ion-grid
                ↓rowCharts [ngx.components.UIDynamicElement-1676296304279]: 
                  beanData: '{"ionBean":"GridRow","Height":"plain"}'
                  tagName: ion-row
                  ↓colMesEconomiesDenergies [ngx.components.UIDynamicElement-1676296304282]: 
                    beanData: |
                      '{
                       "ionBean": "GridCol",
                       "Size": "plain:3",
                       "SizeLg": "plain:3",
                       "SizeMd": "plain:3",
                       "SizeXs": "plain:12"
                      }'
                    tagName: ion-col
                    ↓UseSharedComponent [ngx.components.UIUseShared-1676296304285]: 
                      sharedcomponent: poc_energisme.Application.NgxApp.widget
                      ↓title [ngx.components.UIUseVariable-1676296304288]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: plain:Mes économies d'énergies
                      ↓sequenceToCall [ngx.components.UIUseVariable-1676296304291]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'.widget_conso_gauge'
                      ↓sequenceParams [ngx.components.UIUseVariable-1676296304294]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:this.global['sequenceParams']
                      ↓isGoogleMap [ngx.components.UIUseVariable-1676296304297]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isGauge [ngx.components.UIUseVariable-1676296304300]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'true'
                      ↓isInModal [ngx.components.UIUseVariable-1676296304303]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isHeatmap [ngx.components.UIUseVariable-1676296304306]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓sequenceMarker [ngx.components.UIUseVariable-1676296304309]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:''
                      ↓aggregation [ngx.components.UIUseVariable-1676296304312]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'true'
                  ↓colChartMesConsommationsTotales [ngx.components.UIDynamicElement-1676296304315]: 
                    beanData: |
                      '{
                       "ionBean": "GridCol",
                       "SizeLg": "plain:3",
                       "SizeMd": "plain:3",
                       "SizeXs": "plain:12"
                      }'
                    tagName: ion-col
                    ↓UseSharedComponent [ngx.components.UIUseShared-1676296304318]: 
                      sharedcomponent: poc_energisme.Application.NgxApp.widget
                      ↓title [ngx.components.UIUseVariable-1676296304321]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'Mes consommations totales'
                      ↓sequenceToCall [ngx.components.UIUseVariable-1676296304324]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'.widget_conso_total'
                      ↓sequenceParams [ngx.components.UIUseVariable-1676296304327]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:this.global['sequenceParams']
                      ↓isGoogleMap [ngx.components.UIUseVariable-1676296304330]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isGauge [ngx.components.UIUseVariable-1676296304333]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isInModal [ngx.components.UIUseVariable-1676296304336]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isHeatmap [ngx.components.UIUseVariable-1676296304339]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓sequenceMarker [ngx.components.UIUseVariable-1676296304342]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'consoTotal'
                    ↓Directive [ngx.components.UIControlDirective-1676296304345]: 
                      directiveExpression: this.local['refresh'] != true
                      directiveName: If
                      isEnabled: false
                  ↓colChartEvolutionDeMesConsommations [ngx.components.UIDynamicElement-1676296304348]: 
                    beanData: |
                      '{
                       "ionBean": "GridCol",
                       "SizeLg": "plain:6",
                       "SizeMd": "plain:6",
                       "SizeXs": "plain:12"
                      }'
                    tagName: ion-col
                    ↓UseSharedComponent [ngx.components.UIUseShared-1676296304351]: 
                      sharedcomponent: poc_energisme.Application.NgxApp.widget
                      ↓title [ngx.components.UIUseVariable-1676296304354]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: plain:Evolution de mes consommations
                      ↓sequenceToCall [ngx.components.UIUseVariable-1676296304357]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'.widget_evol_conso'
                      ↓sequenceParams [ngx.components.UIUseVariable-1676296304360]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:this.global['sequenceParams']
                      ↓isGoogleMap [ngx.components.UIUseVariable-1676296304363]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isGauge [ngx.components.UIUseVariable-1676296304366]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isInModal [ngx.components.UIUseVariable-1676296304369]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isHeatmap [ngx.components.UIUseVariable-1676296304372]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓sequenceMarker [ngx.components.UIUseVariable-1676296304375]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'consoEvol'
                      ↓aggregation [ngx.components.UIUseVariable-1676296304378]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'true'
                ↓rowMapsAndSitesEnergivore [ngx.components.UIDynamicElement-1676296304381]: 
                  beanData: '{"ionBean":"GridRow","Height":"plain"}'
                  tagName: ion-row
                  ↓colMaps [ngx.components.UIDynamicElement-1676296304384]: 
                    beanData: |
                      '{
                       "ionBean": "GridCol",
                       "SizeLg": "plain:3",
                       "SizeMd": "plain:3",
                       "SizeXs": "plain:12"
                      }'
                    tagName: ion-col
                    ↓GoogleMap [ngx.components.UIDynamicElement-1676296304387]: 
                      beanData: '{"ionBean":"GoogleMap"}'
                      isEnabled: false
                      tagName: agm-map
                      ↓MapCircle [ngx.components.UIDynamicElement-1676296304390]: 
                        beanData: '{"ionBean":"MapCircle"}'
                        isEnabled: false
                        tagName: agm-circle
                      ↓MapMarker [ngx.components.UIDynamicElement-1676296304393]: 
                        beanData: '{"ionBean":"MapMarker"}'
                        tagName: agm-marker
                    ↓UseSharedComponent [ngx.components.UIUseShared-1676296304396]: 
                      sharedcomponent: poc_energisme.Application.NgxApp.widget
                      ↓title [ngx.components.UIUseVariable-1676296304399]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'Mes sites'
                      ↓sequenceToCall [ngx.components.UIUseVariable-1676296304402]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'.widget_maps'
                      ↓sequenceParams [ngx.components.UIUseVariable-1676296304405]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:this.global['sequenceParams']
                      ↓isGoogleMap [ngx.components.UIUseVariable-1676296304408]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'true'
                      ↓isGauge [ngx.components.UIUseVariable-1676296304411]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isInModal [ngx.components.UIUseVariable-1676296304414]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isHeatmap [ngx.components.UIUseVariable-1676296304417]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                  ↓colChartSiteEnergivore [ngx.components.UIDynamicElement-1676296304420]: 
                    beanData: |
                      '{
                       "ionBean": "GridCol",
                       "SizeLg": "plain:9",
                       "SizeMd": "plain:9",
                       "SizeXs": "plain:12"
                      }'
                    tagName: ion-col
                    ↓UseSharedComponent [ngx.components.UIUseShared-1676296304423]: 
                      sharedcomponent: poc_energisme.Application.NgxApp.widget
                      ↓title [ngx.components.UIUseVariable-1676296304426]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: plain:Classement des sites les plus énergivores
                      ↓sequenceToCall [ngx.components.UIUseVariable-1676296304429]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'.widget_multisite_sites_energivore'
                      ↓sequenceParams [ngx.components.UIUseVariable-1676296304432]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:this.global['sequenceParams']
                      ↓isGoogleMap [ngx.components.UIUseVariable-1676296304435]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isGauge [ngx.components.UIUseVariable-1676296304438]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isInModal [ngx.components.UIUseVariable-1676296304441]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isHeatmap [ngx.components.UIUseVariable-1676296304444]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓sequenceMarker [ngx.components.UIUseVariable-1676296304447]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:''
                ↓rowSitesLesPlusConsoDelec [ngx.components.UIDynamicElement-1676296304450]: 
                  beanData: '{"ionBean":"GridRow","Height":"plain"}'
                  isEnabled: false
                  tagName: ion-row
                  ↓colSitesLesPlusConsoDelec [ngx.components.UIDynamicElement-1676296304453]: 
                    beanData: '{"ionBean":"GridCol","SizeXs":"plain:12"}'
                    tagName: ion-col
                    ↓UseSharedComponent [ngx.components.UIUseShared-1676296304456]: 
                      sharedcomponent: poc_energisme.Application.NgxApp.widget
                      ↓title [ngx.components.UIUseVariable-1676296304459]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: plain:Sites les plus consommateurs d'électricité
                      ↓sequenceToCall [ngx.components.UIUseVariable-1676296304462]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'.multisite_sites_energivore_elec'
                      ↓sequenceParams [ngx.components.UIUseVariable-1676296304465]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: |
                                'script:{
                                	limit: ''20''
                                }'
                      ↓isGoogleMap [ngx.components.UIUseVariable-1676296304468]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isGauge [ngx.components.UIUseVariable-1676296304471]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isInModal [ngx.components.UIUseVariable-1676296304474]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isHeatmap [ngx.components.UIUseVariable-1676296304477]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                ↓rowSitesLesPlusConsoDeGaz [ngx.components.UIDynamicElement-1676296304480]: 
                  beanData: '{"ionBean":"GridRow","Height":"plain"}'
                  isEnabled: false
                  tagName: ion-row
                  ↓colSitesLesPlusConsoDeGaz [ngx.components.UIDynamicElement-1676296304483]: 
                    beanData: '{"ionBean":"GridCol","SizeXs":"plain:12"}'
                    tagName: ion-col
                    ↓UseSharedComponent [ngx.components.UIUseShared-1676296304486]: 
                      sharedcomponent: poc_energisme.Application.NgxApp.widget
                      ↓title [ngx.components.UIUseVariable-1676296304489]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: plain:Sites les plus consommateurs de gaz naturel
                      ↓sequenceToCall [ngx.components.UIUseVariable-1676296304492]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'.multisite_sites_energivore_gaz'
                      ↓sequenceParams [ngx.components.UIUseVariable-1676296304495]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: |
                                'script:{
                                	limit: ''20''
                                }'
                      ↓isGoogleMap [ngx.components.UIUseVariable-1676296304498]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isGauge [ngx.components.UIUseVariable-1676296304501]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isInModal [ngx.components.UIUseVariable-1676296304504]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                      ↓isHeatmap [ngx.components.UIUseVariable-1676296304507]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'false'
                ↓Style [ngx.components.UIStyle-1676536945491]: 
                  styleContent: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                        →: |
                          '/**
                           * Custom properties (sometimes referred to as CSS variables or cascading variables)
                           * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                           * They are set using custom property notation, e.g.: --main-color: black;
                           * and are accessed using the var() function, e.g.: color: var(--main-color);
                           * You can find below your component''s properties you can customize within the page.
                           * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                           * For more informations see https://ionicframework.com/docs/theming.
                          **/
                          //--ion-grid-column-padding	//Padding for the Column
                          //--ion-grid-column-padding-lg	//Padding for the Column on lg screens and up
                          //--ion-grid-column-padding-md	//Padding for the Column on md screens and up
                          //--ion-grid-column-padding-sm	//Padding for the Column on sm screens and up
                          //--ion-grid-column-padding-xl	//Padding for the Column on xl screens and up
                          //--ion-grid-column-padding-xs	//Padding for the Column on xs screens and up
                          //--ion-grid-columns	//The number of total Columns in the Grid
                          padding: unset !important;	
                          '
              ↓Style [ngx.components.UIStyle-1676536824580]: 
                styleContent: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                      →: |
                        '/**
                         * Custom properties (sometimes referred to as CSS variables or cascading variables)
                         * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                         * They are set using custom property notation, e.g.: --main-color: black;
                         * and are accessed using the var() function, e.g.: color: var(--main-color);
                         * You can find below your component''s properties you can customize within the page.
                         * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                         * For more informations see https://ionicframework.com/docs/theming.
                        **/
                        //--ion-grid-column-padding	//Padding for the Column
                        //--ion-grid-column-padding-lg	//Padding for the Column on lg screens and up
                        //--ion-grid-column-padding-md	//Padding for the Column on md screens and up
                        //--ion-grid-column-padding-sm	//Padding for the Column on sm screens and up
                        //--ion-grid-column-padding-xl	//Padding for the Column on xl screens and up
                        //--ion-grid-column-padding-xs	//Padding for the Column on xs screens and up
                        //--ion-grid-columns	//The number of total Columns in the Grid
                        padding: unset !important;	
                        '
            ↓colNotes [ngx.components.UIDynamicElement-1676296304510]: 
              beanData: |
                '{
                 "ionBean": "GridCol",
                 "SizeLg": "plain:2",
                 "SizeMd": "plain:2",
                 "SizeXs": "plain:12"
                }'
              tagName: ion-col
              ↓UseSharedComponent [ngx.components.UIUseShared-1676296304519]: 
                isEnabled: false
                sharedcomponent: lib_ExtendedComponents_ui_ngx.MobileApplication.Application.tinyMce
                ↓model [ngx.components.UIUseVariable-1676296304522]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:
                ↓init [ngx.components.UIUseVariable-1676296304525]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: |
                          'script:{
                              placeholder: ''My placeholder'',
                                  plugins: ''noneditable print preview paste importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap quickbars emoticons'',
                                  imagetools_cors_hosts: [''picsum.photos''],
                                  menubar: ''file edit view insert format tools table help'',
                                  toolbar: ''undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media template link anchor codesample | ltr rtl'',
                                  toolbar_sticky: true,
                                  autosave_ask_before_unload: true,
                                  autosave_interval: ''30s'',
                                  autosave_prefix: ''{path}{query}-{id}-'',
                                  autosave_restore_when_empty: false,
                                  autosave_retention: ''2m'',
                                  image_advtab: true,
                                  importcss_append: true,
                                  template_cdate_format: ''[Date Created (CDATE): %m/%d/%Y : %H:%M:%S]'',
                                  template_mdate_format: ''[Date Modified (MDATE): %m/%d/%Y : %H:%M:%S]'',
                                  height: 600,
                                  image_caption: true,
                                  quickbars_selection_toolbar: ''bold italic | quicklink h2 h3 blockquote quickimage quicktable'',
                                  noneditable_noneditable_class: ''mceNonEditable'',
                                  toolbar_mode: ''sliding'',
                                  contextmenu: ''link image imagetools table'',
                                  allow_html_in_named_anchor: true,
                                  branding: false,
                          	 valid_elements : ''*[*]'',
                          	 apply_source_formatting : false,                
                                  verify_html : false
                              }'
                ↓disabled [ngx.components.UIUseVariable-1676296304528]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:''
                ↓apiKey [ngx.components.UIUseVariable-1676296304531]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:
                ↓cloudChannel [ngx.components.UIUseVariable-1676296304534]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'5-dev'
                ↓id [ngx.components.UIUseVariable-1676296304537]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:''
                ↓initialValue [ngx.components.UIUseVariable-1676296304540]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:''
                ↓inline [ngx.components.UIUseVariable-1676296304543]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:false
                ↓tagName [ngx.components.UIUseVariable-1676296304546]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'div'
                ↓plugins [ngx.components.UIUseVariable-1676296304549]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:['advlist autolink lists link image charmap print preview anchor','searchreplace visualblocks code fullscreen','insertdatetime media table paste code imagetools help wordcount']
                ↓toolbar [ngx.components.UIUseVariable-1676296304552]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | \bullist numlist outdent indent | removeformat | link image | help'
              ↓Grid [ngx.components.UIDynamicElement-1676469096734]: 
                beanData: '{"ionBean":"Grid"}'
                tagName: ion-grid
                ↓rowHeader [ngx.components.UIDynamicElement-1676469111056]: 
                  beanData: |
                    '{
                     "ionBean": "GridRow",
                     "Height": "plain",
                     "FlexAlignement": "plain:ion-align-items-center"
                    }'
                  tagName: ion-row
                  ↓colTitle [ngx.components.UIDynamicElement-1676469111059]: 
                    beanData: '{"ionBean":"GridCol","FlexAlignement":"plain:ion-align-self-center"}'
                    isEnabled: false
                    tagName: ion-col
                  ↓colActionButtons [ngx.components.UIDynamicElement-1676469111068]: 
                    beanData: '{"ionBean":"GridCol"}'
                    tagName: ion-col
                    ↓GenericItem [ngx.components.UIDynamicElement-1676469111071]: 
                      beanData: '{"ionBean":"GenericItem","Lines":"plain:none"}'
                      tagName: ion-item
                      ↓Label [ngx.components.UIDynamicElement-1676469111062]: 
                        beanData: '{"ionBean":"Label"}'
                        tagName: ion-label
                        ↓Text [ngx.components.UIText-1676469111065]: 
                          textValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: plain:Besoin d'aide ?
                      ↓ButtonSet [ngx.components.UIDynamicElement-1676469111074]: 
                        beanData: '{"ionBean":"ButtonSet","SetPosition":"plain:end"}'
                        tagName: ion-buttons
                        ↓buttonZoomChart [ngx.components.UIDynamicElement-1676469111080]: 
                          beanData: '{"ionBean":"Button"}'
                          tagName: ion-button
                          ↓Event [ngx.components.UIControlEvent-1676469111083]: 
                            isEnabled: false
                            ↓ModalPage [ngx.components.UIDynamicAction-1676469111086]: 
                              beanData: |
                                '{
                                 "ionBean": "ModalAction",
                                 "page": "plain:poc_energisme.Application.NgxApp.zoomChart",
                                 "data": "script:{\r\n\ttitle: this.title,\r\n\tsequenceToCall: this.sequenceToCall,\r\n\tsequenceParams: JSON.stringify(this.sequenceParams),\r\n\tisGoogleMap: this.isGoogleMap,\r\n\tisGauge: this.isGauge,\r\n\tisInModal: ''true'',\r\n\tisHeatmap: this.isHeatmap,\r\n\tsequenceMarker: this.sequenceMarker,\r\n\taggregation: this.aggregation,\r\n\tdisplayTotalOnly: this.displayTotalOnly\r\n}",
                                 "cssClass": "plain:modal75"
                                }'
                          ↓Icon [ngx.components.UIDynamicElement-1676469111089]: 
                            beanData: '{"ionBean":"Icon","IconName":"source:{\"filter\":\"Icon\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"icon\":\"''expand''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"}'
                            tagName: ion-icon
                      ↓Style [ngx.components.UIStyle-1676469111110]: 
                        styleContent: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                              →: |
                                '/**
                                 * Custom properties (sometimes referred to as CSS variables or cascading variables)
                                 * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                                 * They are set using custom property notation, e.g.: --main-color: black;
                                 * and are accessed using the var() function, e.g.: color: var(--main-color);
                                 * You can find below your component''s properties you can customize within the page.
                                 * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                                 * For more informations see https://ionicframework.com/docs/theming.
                                **/
                                //--background	//Background of the item
                                //--background-activated	//Background of the item when pressed. Note: setting this will interfere with the Material Design ripple
                                //--background-activated-opacity	//Opacity of the item background when pressed
                                //--background-focused	//Background of the item when focused with the tab key
                                //--background-focused-opacity	//Opacity of the item background when focused with the tab key
                                //--background-hover	//Background of the item on hover
                                //--background-hover-opacity	//Opacity of the background of the item on hover
                                //--border-color	//Color of the item border
                                //--border-radius	//Radius of the item border
                                //--border-style	//Style of the item border
                                //--border-width	//Width of the item border
                                //--color	//Color of the item
                                //--color-activated	//Color of the item when pressed
                                //--color-focused	//Color of the item when focused with the tab key
                                //--color-hover	//Color of the item on hover
                                //--detail-icon-color	//Color of the item detail icon
                                //--detail-icon-font-size	//Font size of the item detail icon
                                //--detail-icon-opacity	//Opacity of the item detail icon
                                //--highlight-color-focused	//The color of the highlight on the item when focused
                                //--highlight-color-invalid	//The color of the highlight on the item when invalid
                                //--highlight-color-valid	//The color of the highlight on the item when valid
                                //--highlight-height	//The height of the highlight on the item
                                //--inner-border-width	//Width of the item inner border
                                //--inner-box-shadow	//Box shadow of the item inner
                                //--inner-padding-bottom	//Bottom padding of the item inner
                                //--inner-padding-end	//Right padding if direction is left-to-right, and left padding if direction is right-to-left of the item inner
                                //--inner-padding-start	//Left padding if direction is left-to-right, and right padding if direction is right-to-left of the item inner
                                //--inner-padding-top	//Top padding of the item inner
                                //--min-height	//Minimum height of the item
                                //--padding-bottom	//Bottom padding of the item
                                //--padding-end	//Right padding if direction is left-to-right, and left padding if direction is right-to-left of the item
                                //--padding-start	//Left padding if direction is left-to-right, and right padding if direction is right-to-left of the item
                                //--padding-top	//Top padding of the item
                                //--ripple-color	//Color of the item ripple effect
                                //--transition	//Transition of the item
                                --background: #fdc100;
                                --inner-padding-end: unset !important;
                                '
                  ↓Style [ngx.components.UIStyle-1676469111113]: 
                    styleContent: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                          →: |
                            '	border-bottom: 1px solid #E3E3E3;
                            '
                ↓Style [ngx.components.UIStyle-1676469226558]: 
                  styleContent: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                        →: |
                          '/**
                           * Custom properties (sometimes referred to as CSS variables or cascading variables)
                           * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                           * They are set using custom property notation, e.g.: --main-color: black;
                           * and are accessed using the var() function, e.g.: color: var(--main-color);
                           * You can find below your component''s properties you can customize within the page.
                           * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                           * For more informations see https://ionicframework.com/docs/theming.
                          **/
                          //--ion-grid-padding	//Padding for the Grid
                          //--ion-grid-padding-lg	//Padding for the Grid on lg screens
                          //--ion-grid-padding-md	//Padding for the Grid on md screens
                          //--ion-grid-padding-sm	//Padding for the Grid on sm screens
                          //--ion-grid-padding-xl	//Padding for the Grid on xl screens
                          //--ion-grid-padding-xs	//Padding for the Grid on xs screens
                          //--ion-grid-width	//Width of the fixed Grid
                          //--ion-grid-width-lg	//Width of the fixed Grid on lg screens
                          //--ion-grid-width-md	//Width of the fixed Grid on md screens
                          //--ion-grid-width-sm	//Width of the fixed Grid on sm screens
                          //--ion-grid-width-xl	//Width of the fixed Grid on xl screens
                          //--ion-grid-width-xs	//Width of the fixed Grid on xs screens
                          background-color: #fdc100;
                          // max-height: 100% !important;
                          '
                ↓rowNoteContent [ngx.components.UIDynamicElement-1676469367982]: 
                  beanData: '{"ionBean":"GridRow"}'
                  tagName: ion-row
                  ↓GridCol [ngx.components.UIDynamicElement-1676469367971]: 
                    beanData: '{"ionBean":"GridCol"}'
                    tagName: ion-col
                    ↓Paragraph [ngx.components.UIDynamicElement-1676469393860]: 
                      beanData: '{"ionBean":"Paragraph"}'
                      tagName: p
                      ↓Text [ngx.components.UIText-1676469393859]: 
                        textValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: |
                                'plain:Une question, besoin d''information?
                                Vous pouvez nous contacter par mail un conseiller reviendra vers vous sous 24h pour répondre à votre question
                                Si vous étes une Entreprise : en écrivant à soace-entreprises@engie.com'
          ↓Style [ngx.components.UIStyle-1676537042369]: 
            styleContent: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                  →: |
                    '/**
                     * Custom properties (sometimes referred to as CSS variables or cascading variables)
                     * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                     * They are set using custom property notation, e.g.: --main-color: black;
                     * and are accessed using the var() function, e.g.: color: var(--main-color);
                     * You can find below your component''s properties you can customize within the page.
                     * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                     * For more informations see https://ionicframework.com/docs/theming.
                    **/
                    //--ion-grid-column-padding	//Padding for the Column
                    //--ion-grid-column-padding-lg	//Padding for the Column on lg screens and up
                    //--ion-grid-column-padding-md	//Padding for the Column on md screens and up
                    //--ion-grid-column-padding-sm	//Padding for the Column on sm screens and up
                    //--ion-grid-column-padding-xl	//Padding for the Column on xl screens and up
                    //--ion-grid-column-padding-xs	//Padding for the Column on xs screens and up
                    //--ion-grid-columns	//The number of total Columns in the Grid
                    padding: unset !important;	
                    '
        ↓Style [ngx.components.UIStyle-1676537004540]: 
          styleContent: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                →: |
                  '/**
                   * Custom properties (sometimes referred to as CSS variables or cascading variables)
                   * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                   * They are set using custom property notation, e.g.: --main-color: black;
                   * and are accessed using the var() function, e.g.: color: var(--main-color);
                   * You can find below your component''s properties you can customize within the page.
                   * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                   * For more informations see https://ionicframework.com/docs/theming.
                  **/
                  //--ion-grid-column-padding	//Padding for the Column
                  //--ion-grid-column-padding-lg	//Padding for the Column on lg screens and up
                  //--ion-grid-column-padding-md	//Padding for the Column on md screens and up
                  //--ion-grid-column-padding-sm	//Padding for the Column on sm screens and up
                  //--ion-grid-column-padding-xl	//Padding for the Column on xl screens and up
                  //--ion-grid-column-padding-xs	//Padding for the Column on xs screens and up
                  //--ion-grid-columns	//The number of total Columns in the Grid
                  padding: unset !important;	
                  '
↓PageEvent [ngx.components.UIPageEvent-1672836952743]: 
  ↓CallSequence [ngx.components.UIDynamicAction-1672836963523]: 
    beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getGroupsOf"}'
    isEnabled: false
    ↓user [ngx.components.UIControlVariable-1672836995726]: 
      comment: new variable
      varValue: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
          - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
  ↓SetLocal [ngx.components.UIDynamicAction-1673282261150]: 
    beanData: |
      '{
       "ionBean": "SetLocalAction",
       "Property": "plain:sitesToCall",
       "Value": "script:[]"
      }'
  ↓SetLocal1 [ngx.components.UIDynamicAction-1673451670436]: 
    beanData: |
      '{
       "ionBean": "SetLocalAction",
       "Property": "plain:refresh",
       "Value": "script:false"
      }'
  ↓SetLocal2 [ngx.components.UIDynamicAction-1673454113909]: 
    beanData: |
      '{
       "ionBean": "SetLocalAction",
       "Property": "plain:sequenceParams",
       "Value": "script:{}"
      }'
  ↓SetLocal3 [ngx.components.UIDynamicAction-1674034858961]: 
    beanData: |
      '{
       "ionBean": "SetLocalAction",
       "Property": "plain:groupSelected",
       "Value": "script:[]"
      }'
  ↓initWeekDateByDefault [ngx.components.UICustomAction-1674036654013]: 
    actionValue: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
        - com.twinsoft.convertigo.beans.common.FormatedContent: 
          →: |
            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
            		console.log(page.getWeekDate()[''date_start''])
            		resolve();
            '
    isEnabled: false
  ↓SetLocal4 [ngx.components.UIDynamicAction-1674037126020]: 
    beanData: |
      '{
       "ionBean": "SetLocalAction",
       "Property": "plain:date_start",
       "Value": "script:this.getWeekDate()[''date_start'']"
      }'
    isEnabled: false
  ↓SetLocal5 [ngx.components.UIDynamicAction-1674037169758]: 
    beanData: |
      '{
       "ionBean": "SetLocalAction",
       "Property": "plain:date_end",
       "Value": "script:this.getWeekDate()[''date_end'']"
      }'
    isEnabled: false
  ↓SetGlobal [ngx.components.UIDynamicAction-1674037514302]: 
    beanData: |
      '{
       "ionBean": "SetGlobalAction",
       "Property": "plain:date_start",
       "Value": "script:''''"
      }'
  ↓SetGlobal1 [ngx.components.UIDynamicAction-1674037548935]: 
    beanData: |
      '{
       "ionBean": "SetGlobalAction",
       "Property": "plain:date_end",
       "Value": "script:''''"
      }'
  ↓SetGlobal2 [ngx.components.UIDynamicAction-1674038507624]: 
    beanData: |
      '{
       "ionBean": "SetGlobalAction",
       "Property": "plain:sequenceParams",
       "Value": "script:{}"
      }'
  ↓SetGlobal3 [ngx.components.UIDynamicAction-1674038872106]: 
    beanData: |
      '{
       "ionBean": "SetGlobalAction",
       "Property": "plain:date_start",
       "Value": "script:''2021-01-01''"
      }'
    isEnabled: false
  ↓SetGlobal4 [ngx.components.UIDynamicAction-1674038872109]: 
    beanData: |
      '{
       "ionBean": "SetGlobalAction",
       "Property": "plain:date_end",
       "Value": "script:''2022-12-31''"
      }'
    isEnabled: false
  ↓CallSequence1 [ngx.components.UIDynamicAction-1675329497089]: 
    beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getCurrentUser"}'
    ↓SetGlobal [ngx.components.UIDynamicAction-1675329523189]: 
      beanData: |
        '{
         "ionBean": "SetGlobalAction",
         "Property": "plain:authUser",
         "Value": "source:{\"filter\":\"Sequence\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"sequence\":\"poc_energisme.getCurrentUser\",\"marker\":\"\"}],\"path\":\"?.authenticatedUserID\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"
        }'
      ↓SetGlobal [ngx.components.UIDynamicAction-1675354114149]: 
        beanData: |
          '{
           "ionBean": "SetGlobalAction",
           "Property": "plain:username",
           "Value": "source:{\"filter\":\"Sequence\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"sequence\":\"poc_energisme.getCurrentUser\",\"marker\":\"\"}],\"path\":\"?.authenticatedUserID\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"
          }'
        ↓CallSequence [ngx.components.UIDynamicAction-1675354177550]: 
          beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getUserGroups"}'
          ↓SetGlobal1 [ngx.components.UIDynamicAction-1675354177559]: 
            beanData: |
              '{
               "ionBean": "SetGlobalAction",
               "Property": "plain:isAdmin",
               "Value": "source:{\"filter\":\"Sequence\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"sequence\":\"poc_energisme.getUserGroups\",\"marker\":\"\"}],\"path\":\"?.isAdmin\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"
              }'
            ↓CallSequence2 [ngx.components.UIDynamicAction-1673623116292]: 
              beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.searchGroup"}'
              ↓label [ngx.components.UIControlVariable-1673623116295]: 
                comment: new variable
                varValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: plain:
              ↓user [ngx.components.UIControlVariable-1673623116298]: 
                comment: new variable
                varValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
comment: Multisite view
icon: bar-chart
iconPosition: start
preloadPriority: high
scriptContent: 
  - xmlizable: 
    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
    - com.twinsoft.convertigo.beans.common.FormatedContent: 
      →: |
        /*Begin_c8o_PageImport*/
        /*End_c8o_PageImport*/
        /*Begin_c8o_PageDeclaration*/
        	public date_start = "2022-11-01";
        	public date_end = "2022-12-01"
        	public selectAll = false;
        	/*End_c8o_PageDeclaration*/
        /*Begin_c8o_PageConstructor*/
        		
        		window['win'] = this;
        		/*End_c8o_PageConstructor*/
        /*Begin_c8o_PageFunction*/
        	/*End_c8o_PageFunction*/
        
segment: multisite
title: Multisite
↓UseSharedComponent [ngx.components.UIUseShared-1669821788815]: 
  sharedcomponent: poc_energisme.Application.NgxApp.header
  ↓username [ngx.components.UIUseVariable-1669821844264]: 
    varValue: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
        - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.username","prefix":"","suffix":"","custom":"","useCustom":false}}
  ↓title [ngx.components.UIUseVariable-1672319882006]: 
    varValue: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
        - MobileSmartSourceType: script:'Vision Multisite'
↓Content [ngx.components.UIDynamicElement-1489674805352]: 
  beanData: '{"ionBean":"Content"}'
  comment: Page content
  tagName: ion-content
  ↓Grid [ngx.components.UIDynamicElement-1667818587533]: 
    beanData: '{"ionBean":"Grid"}'
    tagName: ion-grid
    ↓Directive [ngx.components.UIControlDirective-1673622652807]: 
      directiveName: If
      directiveSource: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
          - MobileSmartSourceType: script:this.local['sitesToCall'] != undefined && this.local['sitesToCall'].length == 0
      ↓GridRow [ngx.components.UIDynamicElement-1673622682683]: 
        beanData: '{"ionBean":"GridRow","Height":"plain"}'
        tagName: ion-row
        ↓GridCol [ngx.components.UIDynamicElement-1673622682685]: 
          beanData: '{"ionBean":"GridCol"}'
          tagName: ion-col
          ↓CardContainer [ngx.components.UIDynamicElement-1673622846325]: 
            beanData: '{"ionBean":"Card"}'
            tagName: ion-card
            ↓CardContent [ngx.components.UIDynamicElement-1673622846343]: 
              beanData: '{"ionBean":"CardContent"}'
              tagName: ion-card-content
              ↓TextItem [ngx.components.UIDynamicElement-1673622846345]: 
                beanData: '{"ionBean":"TextItem"}'
                tagName: ion-text
                ↓Text [ngx.components.UIText-1673622846347]: 
                  textValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: plain:Sélectionnez au moins un groupe pour afficher des données
            ↓Style [ngx.components.UIStyle-1673622885178]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      '/**
                       * Custom properties (sometimes referred to as CSS variables or cascading variables)
                       * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                       * They are set using custom property notation, e.g.: --main-color: black;
                       * and are accessed using the var() function, e.g.: color: var(--main-color);
                       * You can find below your component''s properties you can customize within the page.
                       * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                       * For more informations see https://ionicframework.com/docs/theming.
                      **/
                      //--background	//Background of the card
                      //--color	//Color of the card
                      --background: #ffc409;
                      '
    ↓rowTogglerPeriodeLiee [ngx.components.UIDynamicElement-1671704051285]: 
      beanData: '{"ionBean":"GridRow","Height":"plain"}'
      tagName: ion-row
      ↓GridCol [ngx.components.UIDynamicElement-1671704051287]: 
        beanData: '{"ionBean":"GridCol"}'
        tagName: ion-col
        ↓Label [ngx.components.UIDynamicElement-1671704051289]: 
          beanData: '{"ionBean":"Label"}'
          tagName: ion-label
          ↓Text [ngx.components.UIText-1671704051291]: 
            textValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: plain:Lier les périodes de widgets
        ↓ToggleButton [ngx.components.UIDynamicElement-1671704079900]: 
          beanData: '{"ionBean":"Toggle","ControlName":"plain:toggleLinkDate"}'
          tagName: ion-toggle
          ↓Event [ngx.components.UIControlEvent-1671704104311]: 
            attrName: (ionChange)
            eventName: ionChange
            ↓SetGlobal [ngx.components.UIDynamicAction-1671704534864]: 
              beanData: |
                '{
                 "ionBean": "SetGlobalAction",
                 "Property": "plain:linkDates",
                 "Value": "script:parent.out.detail.checked"
                }'
              ↓CustomAction [ngx.components.UICustomAction-1671704637809]: 
                actionValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                      →: |
                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                        		console.log(event)
                        		console.log(this.global[''linkDates''])
                        		this.global[''date_start''] = ''2022-12-01''
                        		this.global[''date_end''] = ''2022-12-31''
                        		resolve();
                        '
    ↓rowGroupsAndCharts [ngx.components.UIDynamicElement-1668692254990]: 
      beanData: '{"ionBean":"GridRow"}'
      tagName: ion-row
      ↓GridCol [ngx.components.UIDynamicElement-1671532769020]: 
        beanData: '{"ionBean":"GridCol"}'
        tagName: ion-col
        ↓Directive [ngx.components.UIControlDirective-1671532808708]: 
          directiveName: If
          directiveSource: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: script:this.global['groups'] != undefined
          isEnabled: false
        ↓Form1 [ngx.components.UIForm-1673623216004]: 
          identifier: formSearchGroup
          ↓FormItem [ngx.components.UIDynamicElement-1673623216007]: 
            beanData: '{"ionBean":"FormItem"}'
            tagName: ion-item
            ↓SearchBar [ngx.components.UIDynamicElement-1673623216010]: 
              beanData: '{"ionBean":"Searchbar"}'
              tagName: ion-searchbar
              ↓Event [ngx.components.UIControlEvent-1673623216013]: 
                attrName: (ionChange)
                eventName: ionChange
                ↓If [ngx.components.UIDynamicAction-1673623216016]: 
                  beanData: '{"ionBean":"IfAction","condition":"script:event.detail.value.length >= 3"}'
                  isEnabled: false
                  ↓CallSequence [ngx.components.UIDynamicAction-1673623216019]: 
                    beanData: |
                      '{
                       "ionBean": "CallSequenceAction",
                       "requestable": "plain:poc_energisme.searchGroup",
                       "noLoading": "plain:true"
                      }'
                    ↓label [ngx.components.UIControlVariable-1673623216022]: 
                      comment: new variable
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: script:event.detail.value
                    ↓type [ngx.components.UIControlVariable-1673623216025]: 
                      comment: new variable
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: plain:
                    ↓user [ngx.components.UIControlVariable-1673623216028]: 
                      comment: new variable
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                  ↓If [ngx.components.UIDynamicAction-1673623216031]: 
                    beanData: '{"ionBean":"IfAction","condition":"script:event.detail.value.length == 0"}'
                    ↓CallSequence [ngx.components.UIDynamicAction-1673623216034]: 
                      beanData: |
                        '{
                         "ionBean": "CallSequenceAction",
                         "requestable": "plain:poc_energisme.searchGroup",
                         "noLoading": "plain:true"
                        }'
                      ↓label [ngx.components.UIControlVariable-1673623216037]: 
                        comment: new variable
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: plain:
                      ↓type [ngx.components.UIControlVariable-1673623216040]: 
                        comment: new variable
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: plain:
                      ↓user [ngx.components.UIControlVariable-1673623216043]: 
                        comment: new variable
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                ↓IfElse [ngx.components.UIDynamicIf-1673623216046]: 
                  beanData: '{"ionBean":"IfElseAction","condition":"script:event.detail.value.length >= 3"}'
                  ↓CallSequence [ngx.components.UIDynamicAction-1673623216049]: 
                    beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.searchGroup"}'
                    ↓label [ngx.components.UIControlVariable-1673623216052]: 
                      comment: new variable
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: script:event.detail.value
                    ↓type [ngx.components.UIControlVariable-1673623216055]: 
                      comment: new variable
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: plain:
                    ↓user [ngx.components.UIControlVariable-1673623216058]: 
                      comment: new variable
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                  ↓Else_Handler [ngx.components.UIActionElseEvent-1673623216061]: 
                    ↓If [ngx.components.UIDynamicAction-1673623216064]: 
                      beanData: '{"ionBean":"IfAction","condition":"script:event.detail.value.length == 0"}'
                      ↓CallSequence [ngx.components.UIDynamicAction-1673623216067]: 
                        beanData: |
                          '{
                           "ionBean": "CallSequenceAction",
                           "requestable": "plain:poc_energisme.searchGroup",
                           "noLoading": "plain:true"
                          }'
                        ↓label [ngx.components.UIControlVariable-1673623216070]: 
                          comment: new variable
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: plain:
                        ↓type [ngx.components.UIControlVariable-1673623216073]: 
                          comment: new variable
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: plain:
                        ↓user [ngx.components.UIControlVariable-1673623216076]: 
                          comment: new variable
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
          ↓Event [ngx.components.UIControlEvent-1673623216079]: 
            attrName: (ngSubmit)
            eventName: onSubmit
            ↓Alert [ngx.components.UIDynamicAction-1673623216082]: 
              beanData: '{"ionBean":"AlertAction","message":"script:''formSample value is\\\\n'' + JSON.stringify(this?.formSample.value)"}'
        ↓GenericItem [ngx.components.UIDynamicElement-1673606455255]: 
          beanData: '{"ionBean":"GenericItem"}'
          tagName: ion-item
          ↓Label [ngx.components.UIDynamicElement-1673606455257]: 
            beanData: '{"ionBean":"Label"}'
            tagName: ion-label
            ↓Text [ngx.components.UIText-1673606455259]: 
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:Tout sélectionner
          ↓CheckBox [ngx.components.UIDynamicElement-1673606474497]: 
            beanData: '{"ionBean":"CheckBox","ControlName":"plain:name1673606474497"}'
            tagName: ion-checkbox
            ↓Attr [ngx.components.UIAttribute-1673606504913]: 
              attrName: '[(ngModel)]'
              attrValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: script:selectAll
            ↓Event [ngx.components.UIControlEvent-1673606704974]: 
              attrName: (ionChange)
              eventName: ionChange
              ↓IfElse [ngx.components.UIDynamicIf-1673624083986]: 
                beanData: '{"ionBean":"IfElseAction","condition":"script:parent.out.detail.checked"}'
                ↓CallSequence [ngx.components.UIDynamicAction-1673607199164]: 
                  beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getAllSitesId"}'
                  ↓updateParams [ngx.components.UICustomAction-1673607159791]: 
                    actionValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                          →: |
                            '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                            		var sites = vars.sites;
                            		/*
                            		for(var i = 0; i < sites.length; i++) {
                            			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                            				page.local["sitesToCall"].push(sites[i])
                            			}
                            		}
                            		*/
                            		
                            		for(var i = 0; i < sites.length; i++) {
                            			page.local["sitesToCall"].push(sites[i])
                            		}
                            		
                            		console.log("selectall")
                            		console.log(page.selectAll)
                            		page.local[''sequenceParams''] = {
                            			date_start: ''2021-01-01'',
                            			date_end: ''2022-12-01'',
                            			sites: JSON.stringify(page.local[''sitesToCall'']),
                            			agg_function: ''month'',
                            			label: ''''
                            		}
                            		console.log(page.local["sitesToCall"])
                            		resolve();
                            '
                    ↓sites [ngx.components.UIControlVariable-1673607234284]: 
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getAllSitesId","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                ↓Else_Handler [ngx.components.UIActionElseEvent-1673624113356]: 
                  ↓SetLocal [ngx.components.UIDynamicAction-1673624121518]: 
                    beanData: |
                      '{
                       "ionBean": "SetLocalAction",
                       "Property": "plain:sitesToCall",
                       "Value": "script:[]"
                      }'
                  ↓Toast [ngx.components.UIDynamicAction-1673625471446]: 
                    beanData: '{"ionBean":"ToastAction"}'
                    isEnabled: false
        ↓Directive1 [ngx.components.UIControlDirective-1671532851420]: 
          directiveItemName: group
          directiveSource: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.searchGroup","marker":""}],"path":"?.groups","prefix":"","suffix":"","custom":"","useCustom":false}}
          ↓GenericItem [ngx.components.UIDynamicElement-1671532899643]: 
            beanData: '{"ionBean":"GenericItem"}'
            tagName: ion-item
            ↓CheckBox [ngx.components.UIDynamicElement-1671532909462]: 
              beanData: |
                '{
                 "ionBean": "CheckBox",
                 "ControlName": "plain:name1671532909462",
                 "Checked": "script:this.selectAll",
                 "Value": "script:group.name"
                }'
              tagName: ion-checkbox
              ↓selectAllOnChange [ngx.components.UIControlEvent-1671533513058]: 
                attrName: (ionChange)
                eventName: ionChange
                ↓IfElse [ngx.components.UIDynamicIf-1673282731652]: 
                  beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll == false && parent.out.detail.checked"}'
                  ↓CallSequence [ngx.components.UIDynamicAction-1673282059957]: 
                    beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                    ↓group_name [ngx.components.UIControlVariable-1673282072891]: 
                      comment: new variable
                      varValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: script:stack.root.out.detail.value
                    ↓pushSitesToLocal [ngx.components.UICustomAction-1671533533703]: 
                      actionValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                            →: |
                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                              		console.log(props)
                              		console.log(event)
                              		var sites = vars.sites;
                              		/*
                              		for(var i = 0; i < sites.length; i++) {
                              			if(page.local["sitesToCall"].indexOf(sites[i]) == "-1") {
                              				page.local["sitesToCall"].push(sites[i])
                              			}
                              		}
                              		*/
                              		
                              		for(var i = 0; i < sites.length; i++) {
                              			page.local["sitesToCall"].push(sites[i])
                              		}
                              		
                              		console.log("after loop")
                              		page.local[''sequenceParams''] = {
                              			date_start: ''2021-01-01'',
                              			date_end: ''2022-12-01'',
                              			sites: JSON.stringify(page.local[''sitesToCall'']),
                              			agg_function: ''month'',
                              			label: ''''
                              		}
                              		console.log(page.local["sitesToCall"])
                              		
                              		resolve();
                              '
                      ↓sites [ngx.components.UIControlVariable-1673282300652]: 
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                      ↓CallSequence [ngx.components.UIDynamicAction-1673447114432]: 
                        beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.widget_conso_total"}'
                        isEnabled: false
                        ↓date_start [ngx.components.UIControlVariable-1673447125459]: 
                          comment: date_start
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: plain:2021-01-01
                        ↓date_end [ngx.components.UIControlVariable-1673447125461]: 
                          comment: date_end
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: plain:2022-01-01
                        ↓sites [ngx.components.UIControlVariable-1673447125463]: 
                          comment: new variable
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:JSON.stringify(this.local['sitesToCall'])
                        ↓agg_function [ngx.components.UIControlVariable-1673447125465]: 
                          comment: new variable
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: plain:week
                        ↓chartType [ngx.components.UIControlVariable-1673447125467]: 
                          comment: new variable
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: plain:bar
                        ↓CustomAction [ngx.components.UICustomAction-1673447732015]: 
                          actionValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                →: |
                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                  		/*console.log("native")
                                  		console.log(page.all_poc_energisme_widget)
                                  		//@ts-ignore
                                  		// page.all_poc_energisme_widget._results[1].elementRef.nativeElement.update()
                                  		//@ts-ignore
                                  		console.log(page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas"))
                                  		//@ts-ignore
                                  		page.all_poc_energisme_widget._results[1].elementRef.nativeElement.getElementsByTagName("canvas")[0][''$chartjs''].update();
                                  		page.all_poc_energisme_widget.forEach( (x) => {
                                  			console.log("x")
                                  			console.log(x)
                                  		})*/
                                  		page.ref.detectChanges();
                                  		page.local[''refresh''] = true;
                                  		setTimeout( () => {
                                  			page.local[''refresh''] = false
                                  			page.ref.detectChanges();
                                  		})
                                  		resolve();
                                  '
                  ↓Else_Handler [ngx.components.UIActionElseEvent-1673282748622]: 
                    ↓Toast [ngx.components.UIDynamicAction-1673618107093]: 
                      beanData: '{"ionBean":"ToastAction","message":"script:JSON.stringify(stack[''selectAllOnChange''].out.detail.checked)"}'
                      isEnabled: false
                    ↓IfElse [ngx.components.UIDynamicIf-1673615176581]: 
                      beanData: '{"ionBean":"IfElseAction","condition":"script:this.selectAll && !stack.root.out.detail.checked"}'
                      ↓CallSequence [ngx.components.UIDynamicAction-1673282843493]: 
                        beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                        ↓group_name [ngx.components.UIControlVariable-1673282843496]: 
                          comment: new variable
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:stack.root.out.detail.value
                        ↓removeSitesToLocal [ngx.components.UICustomAction-1673282843499]: 
                          actionValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                →: |
                                  '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                  		console.log(props)
                                  		console.log(event)
                                  		var sites = vars.sites;
                                  		for(var i = 0; i < sites.length; i++) {
                                  			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                  				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                  			}
                                  		}
                                  		
                                  		console.log("after loop")
                                  		console.log(page.local["sitesToCall"])
                                  		page.local[''sequenceParams''] = {
                                  			date_start: ''2021-01-01'',
                                  			date_end: ''2022-12-01'',
                                  			sites: JSON.stringify(page.local[''sitesToCall'']),
                                  			agg_function: ''month'',
                                  			label: ''''
                                  		}
                                  		
                                  		resolve();
                                  '
                          ↓sites [ngx.components.UIControlVariable-1673282843502]: 
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                      ↓Toast [ngx.components.UIDynamicAction-1673615124254]: 
                        beanData: '{"ionBean":"ToastAction","message":"plain:this.selectAll == true && !this.stack.root.out.detail.checked"}'
                        isEnabled: false
                      ↓Else_Handler [ngx.components.UIActionElseEvent-1673615630659]: 
                        ↓If [ngx.components.UIDynamicAction-1673623566202]: 
                          beanData: '{"ionBean":"IfAction","condition":"script:!this.selectAll && !stack.root.out.detail.checked"}'
                          isEnabled: false
                          ↓removeSitesToLocal [ngx.components.UICustomAction-1673623621720]: 
                            actionValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                  →: |
                                    '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                    		console.log(props)
                                    		console.log(event)
                                    		var sites = vars.sites;
                                    		for(var i = 0; i < sites.length; i++) {
                                    			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                    				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                    			}
                                    		}
                                    		
                                    		console.log("after loop")
                                    		console.log(page.local["sitesToCall"])
                                    		/*
                                    		page.local[''sequenceParams''] = {
                                    			date_start: ''2021-01-01'',
                                    			date_end: ''2022-12-01'',
                                    			sites: JSON.stringify(page.local[''sitesToCall'']),
                                    			agg_function: ''month'',
                                    			label: ''''
                                    		}
                                    		*/
                                    		resolve();
                                    '
                            ↓sites [ngx.components.UIControlVariable-1673623621723]: 
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                        ↓SetLocal [ngx.components.UIDynamicAction-1673625314364]: 
                          beanData: |
                            '{
                             "ionBean": "SetLocalAction",
                             "Property": "plain:sitesToCall",
                             "Value": "script:[]"
                            }'
                    ↓CallSequence [ngx.components.UIDynamicAction-1673616852442]: 
                      beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getSitesByGroupName"}'
                      isEnabled: false
                      ↓group_name [ngx.components.UIControlVariable-1673616852445]: 
                        comment: new variable
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:stack.root.out.detail.value
                      ↓removeSitesToLocal [ngx.components.UICustomAction-1673616852448]: 
                        actionValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                              →: |
                                '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                		console.log(props)
                                		console.log(event)
                                		var sites = vars.sites;
                                		for(var i = 0; i < sites.length; i++) {
                                			if(page.local["sitesToCall"].indexOf(sites[i]) != "-1") {
                                				page.local["sitesToCall"].splice(page.local["sitesToCall"].indexOf(sites[i]), 1)
                                			}
                                		}
                                		
                                		console.log("after loop")
                                		console.log(page.local["sitesToCall"])
                                		page.local[''sequenceParams''] = {
                                			date_start: ''2021-01-01'',
                                			date_end: ''2022-12-01'',
                                			sites: page.local[''sitesToCall''],
                                			agg_function: ''month'',
                                			label: ''''
                                		}
                                		
                                		resolve();
                                '
                        ↓sites [ngx.components.UIControlVariable-1673616852451]: 
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                    ↓IfElse1 [ngx.components.UIDynamicIf-1673617639402]: 
                      beanData: '{"ionBean":"IfElseAction","condition":"script:!this.selectAll"}'
                      isEnabled: false
                    ↓CustomAction [ngx.components.UICustomAction-1673618187293]: 
                      actionValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                            →: |
                              '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                              		console.log("props")
                              		console.log(props)
                              		resolve();
                              '
                      isEnabled: false
            ↓Text [ngx.components.UIText-1671532914565]: 
              isEnabled: false
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: script:group.name
            ↓Directive1 [ngx.components.UIControlDirective-1672837739268]: 
              directiveName: If
              directiveSource: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: script:group.name.includes('ad:')
              ↓Icon [ngx.components.UIDynamicElement-1672837739271]: 
                beanData: |
                  '{
                   "ionBean": "Icon",
                   "IconName": "source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/Microsoft_Azure.svg''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}",
                   "IconSource": "source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/Microsoft_Azure.svg''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"
                  }'
                tagName: ion-icon
                ↓Style [ngx.components.UIStyle-1672837739274]: 
                  styleContent: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                        →: |
                          '	margin-left: 1.0416666666666667vw !important;
                          	margin-right: 1.0416666666666667vw !important;
                          '
            ↓Directive2 [ngx.components.UIControlDirective-1672837739277]: 
              directiveName: If
              directiveSource: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: script:!group.name.includes('ad:')
              ↓Icon [ngx.components.UIDynamicElement-1672837739280]: 
                beanData: '{"ionBean":"Icon","IconSource":"source:{\"filter\":\"Asset\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"asset\":\"''assets\\\/icon\\\/c8o.png''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"}'
                isEnabled: false
                tagName: ion-icon
            ↓Text1 [ngx.components.UIText-1672837739283]: 
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: 'script:(group.name.includes(''ad:'')) ? group.name.slice(3, group.length) + '' (''+ group.count + '')'' : group.name + '' (''+ group.count + '')'''
            ↓Directive [ngx.components.UIControlDirective-1672837739286]: 
              directiveName: If
              directiveSource: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: script:group.name.includes("ad:") == false
              isEnabled: false
              ↓ButtonSet1 [ngx.components.UIDynamicElement-1672837739289]: 
                beanData: '{"ionBean":"ButtonSet","SetPosition":"plain:end"}'
                tagName: ion-buttons
                ↓buttonUpdate [ngx.components.UIDynamicElement-1672837739292]: 
                  beanData: '{"ionBean":"Button"}'
                  tagName: ion-button
                  ↓Event [ngx.components.UIControlEvent-1672837739295]: 
                    ↓ModalPage [ngx.components.UIDynamicAction-1672837739298]: 
                      beanData: |
                        '{
                         "ionBean": "ModalAction",
                         "page": "plain:poc_energisme.Application.NgxApp.modalUpdateGroup",
                         "data": "script:{ name: group.name }",
                         "blockWhileDisplayed": "plain:true"
                        }'
                      ↓If [ngx.components.UIDynamicAction-1672837739301]: 
                        beanData: '{"ionBean":"IfAction","condition":"script:parent.out.data.update == \"true\""}'
                        ↓CallSequence [ngx.components.UIDynamicAction-1672837739304]: 
                          beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:lib_FullSyncGrp.GroupsOf"}'
                          ↓user [ngx.components.UIControlVariable-1672837739307]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                          ↓SetLocal1 [ngx.components.UIDynamicAction-1672837739310]: 
                            beanData: |
                              '{
                               "ionBean": "SetLocalAction",
                               "Property": "plain:sitesFromGroup",
                               "Value": "script:[]"
                              }'
                    ↓Toast [ngx.components.UIDynamicAction-1672837739313]: 
                      beanData: '{"ionBean":"ToastAction","message":"script:group"}'
                      isEnabled: false
                  ↓Icon [ngx.components.UIDynamicElement-1672837739316]: 
                    beanData: '{"ionBean":"Icon","IconName":"source:{\"filter\":\"Icon\",\"project\":\"poc_energisme\",\"input\":\"\",\"model\":{\"data\":[{\"icon\":\"''pencil''\"}],\"path\":\"\",\"prefix\":\"\",\"suffix\":\"\",\"custom\":\"\",\"useCustom\":false}}"}'
                    tagName: ion-icon
                ↓buttonDelete [ngx.components.UIDynamicElement-1672837739319]: 
                  beanData: '{"ionBean":"Button"}'
                  tagName: ion-button
                  ↓Event [ngx.components.UIControlEvent-1672837739322]: 
                    ↓CallSequence [ngx.components.UIDynamicAction-1672837739325]: 
                      beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:lib_FullSyncGrp.RemoveGroup"}'
                      ↓group [ngx.components.UIControlVariable-1672837739328]: 
                        comment: new variable
                        varValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:group.name
                      ↓IfElse [ngx.components.UIDynamicIf-1672837739331]: 
                        beanData: '{"ionBean":"IfElseAction","condition":"script:parent.out.success == \"true\""}'
                        ↓CallSequence1 [ngx.components.UIDynamicAction-1672837739334]: 
                          beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.removeAllSitesOfGroup"}'
                          ↓CallSequence [ngx.components.UIDynamicAction-1672837739337]: 
                            beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:lib_FullSyncGrp.GroupsOf"}'
                            ↓user [ngx.components.UIControlVariable-1672837739340]: 
                              comment: new variable
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
                            ↓removeSitesFromGroups [ngx.components.UICustomAction-1672837739343]: 
                              actionValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                    →: |
                                      '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                      		var sites = vars.sites;
                                      		console.log(sites)
                                      		console.log(page.local["sitesFromGroup"])
                                      		
                                      		for(var i = 0; i < sites.length; i++) {
                                      			if(page.local["sitesFromGroup"].includes(sites[i])) {
                                      				page.local["sitesFromGroup"].splice(page.local["sitesFromGroup"].indexOf(sites[i]), 1)
                                      			}
                                      		}
                                      		resolve();
                                      '
                              isEnabled: false
                              ↓sites [ngx.components.UIControlVariable-1672837739346]: 
                                varValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                    - MobileSmartSourceType: source:{"filter":"Sequence","project":"poc_energisme","input":"","model":{"data":[{"sequence":"poc_energisme.getSitesByGroupName","marker":""}],"path":"?.sites","prefix":"","suffix":"","custom":"","useCustom":false}}
                            ↓SetLocal1 [ngx.components.UIDynamicAction-1672837739349]: 
                              beanData: |
                                '{
                                 "ionBean": "SetLocalAction",
                                 "Property": "plain:sitesFromGroup",
                                 "Value": "script:[]"
                                }'
                          ↓group [ngx.components.UIControlVariable-1672837739352]: 
                            comment: new variable
                            varValue: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                - MobileSmartSourceType: script:group.name
                        ↓Toast [ngx.components.UIDynamicAction-1672837739355]: 
                          beanData: '{"ionBean":"ToastAction","message":"plain:Le groupe a été supprimé."}'
                        ↓Else_Handler [ngx.components.UIActionElseEvent-1672837739358]: 
                          ↓Toast [ngx.components.UIDynamicAction-1672837739361]: 
                            beanData: '{"ionBean":"ToastAction","message":"plain:Un problème est survenue au moment de la suppression du groupe"}'
                  ↓Icon [ngx.components.UIDynamicElement-1672837739364]: 
                    beanData: '{"ionBean":"Icon","IconName":"plain:trash"}'
                    tagName: ion-icon
      ↓colCharts [ngx.components.UIDynamicElement-1668692254992]: 
        beanData: |
          '{
           "ionBean": "GridCol",
           "SizeLg": "plain:10",
           "SizeMd": "plain:10"
          }'
        tagName: ion-col
        ↓Grid [ngx.components.UIDynamicElement-1668692318184]: 
          beanData: '{"ionBean":"Grid"}'
          tagName: ion-grid
          ↓rowCharts [ngx.components.UIDynamicElement-1667818587535]: 
            beanData: '{"ionBean":"GridRow","Height":"plain"}'
            tagName: ion-row
            ↓colMesEconomiesDenergies [ngx.components.UIDynamicElement-1667818587537]: 
              beanData: |
                '{
                 "ionBean": "GridCol",
                 "Size": "plain:3",
                 "SizeLg": "plain:3",
                 "SizeMd": "plain:3",
                 "SizeXs": "plain:12"
                }'
              tagName: ion-col
              ↓UseSharedComponent [ngx.components.UIUseShared-1669284214451]: 
                sharedcomponent: poc_energisme.Application.NgxApp.widget
                ↓title [ngx.components.UIUseVariable-1669284224399]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: plain:Mes économies d'énergies
                ↓sequenceToCall [ngx.components.UIUseVariable-1669284224401]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'.widget_conso_gauge'
                ↓sequenceParams [ngx.components.UIUseVariable-1669284224403]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:this.local['sequenceParams']
                ↓isGoogleMap [ngx.components.UIUseVariable-1669284224405]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isGauge [ngx.components.UIUseVariable-1669284224407]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'true'
                ↓isInModal [ngx.components.UIUseVariable-1669295933914]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isHeatmap [ngx.components.UIUseVariable-1669391093638]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓refresh [ngx.components.UIUseVariable-1673604021228]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:false
                ↓sequenceMarker [ngx.components.UIUseVariable-1673604021230]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:''
            ↓colChartMesConsommationsTotales [ngx.components.UIDynamicElement-1667818587543]: 
              beanData: |
                '{
                 "ionBean": "GridCol",
                 "SizeLg": "plain:3",
                 "SizeMd": "plain:3",
                 "SizeXs": "plain:12"
                }'
              tagName: ion-col
              ↓UseSharedComponent [ngx.components.UIUseShared-1667818636075]: 
                sharedcomponent: poc_energisme.Application.NgxApp.widget
                ↓title [ngx.components.UIUseVariable-1667818636078]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'Mes consommations totales'
                ↓sequenceToCall [ngx.components.UIUseVariable-1668519738805]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'.widget_conso_total'
                ↓sequenceParams [ngx.components.UIUseVariable-1668612597894]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:this.local['sequenceParams']
                ↓isGoogleMap [ngx.components.UIUseVariable-1669045508433]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isGauge [ngx.components.UIUseVariable-1669284620711]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isInModal [ngx.components.UIUseVariable-1669295942992]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isHeatmap [ngx.components.UIUseVariable-1669391099741]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓refresh [ngx.components.UIUseVariable-1673517316345]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:false
                ↓sequenceMarker [ngx.components.UIUseVariable-1673517316347]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'consoTotal'
              ↓Directive [ngx.components.UIControlDirective-1673451703741]: 
                directiveExpression: this.local['refresh'] != true
                directiveName: If
                isEnabled: false
            ↓colChartEvolutionDeMesConsommations [ngx.components.UIDynamicElement-1667818609564]: 
              beanData: |
                '{
                 "ionBean": "GridCol",
                 "SizeLg": "plain:6",
                 "SizeMd": "plain:6",
                 "SizeXs": "plain:12"
                }'
              tagName: ion-col
              ↓UseSharedComponent [ngx.components.UIUseShared-1668681549063]: 
                sharedcomponent: poc_energisme.Application.NgxApp.widget
                ↓title [ngx.components.UIUseVariable-1668681558074]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: plain:Evolution de mes consommations
                ↓sequenceToCall [ngx.components.UIUseVariable-1668681558090]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'.widget_conso'
                ↓sequenceParams [ngx.components.UIUseVariable-1668681558092]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:this.local['sequenceParams']
                ↓isGoogleMap [ngx.components.UIUseVariable-1669045505787]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isGauge [ngx.components.UIUseVariable-1669284672797]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isInModal [ngx.components.UIUseVariable-1669295951608]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isHeatmap [ngx.components.UIUseVariable-1669391111006]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓refresh [ngx.components.UIUseVariable-1673517320329]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:false
                ↓sequenceMarker [ngx.components.UIUseVariable-1673517320331]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'consoEvol'
          ↓rowMapsAndSitesEnergivore [ngx.components.UIDynamicElement-1668691043090]: 
            beanData: '{"ionBean":"GridRow","Height":"plain"}'
            tagName: ion-row
            ↓colMaps [ngx.components.UIDynamicElement-1668691043092]: 
              beanData: |
                '{
                 "ionBean": "GridCol",
                 "SizeLg": "plain:3",
                 "SizeMd": "plain:3",
                 "SizeXs": "plain:12"
                }'
              tagName: ion-col
              ↓GoogleMap [ngx.components.UIDynamicElement-1668691077158]: 
                beanData: '{"ionBean":"GoogleMap"}'
                isEnabled: false
                tagName: agm-map
                ↓MapCircle [ngx.components.UIDynamicElement-1668691077160]: 
                  beanData: '{"ionBean":"MapCircle"}'
                  isEnabled: false
                  tagName: agm-circle
                ↓MapMarker [ngx.components.UIDynamicElement-1668691077162]: 
                  beanData: '{"ionBean":"MapMarker"}'
                  tagName: agm-marker
              ↓UseSharedComponent [ngx.components.UIUseShared-1669045595835]: 
                sharedcomponent: poc_energisme.Application.NgxApp.widget
                ↓title [ngx.components.UIUseVariable-1669045607704]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'Mes sites'
                ↓sequenceToCall [ngx.components.UIUseVariable-1669045607706]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'.widget_maps'
                ↓sequenceParams [ngx.components.UIUseVariable-1669045607708]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: |
                          'script:{
                          	limit: ''''
                          }'
                ↓isGoogleMap [ngx.components.UIUseVariable-1669045607710]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'true'
                ↓isGauge [ngx.components.UIUseVariable-1669284685133]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isInModal [ngx.components.UIUseVariable-1669295961718]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isHeatmap [ngx.components.UIUseVariable-1669391120690]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
            ↓colChartSiteEnergivore [ngx.components.UIDynamicElement-1668691043098]: 
              beanData: |
                '{
                 "ionBean": "GridCol",
                 "SizeLg": "plain:9",
                 "SizeMd": "plain:9",
                 "SizeXs": "plain:12"
                }'
              isEnabled: false
              tagName: ion-col
              ↓UseSharedComponent [ngx.components.UIUseShared-1668691089715]: 
                sharedcomponent: poc_energisme.Application.NgxApp.widget
                ↓title [ngx.components.UIUseVariable-1668691110898]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: plain:Classement des sites les plus énergivores
                ↓sequenceToCall [ngx.components.UIUseVariable-1668691110914]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'.multisite_sites_energivore'
                ↓sequenceParams [ngx.components.UIUseVariable-1668691110916]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: |
                          'script:{
                          	limit: ''20''
                          }'
                ↓isGoogleMap [ngx.components.UIUseVariable-1669045497660]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isGauge [ngx.components.UIUseVariable-1669284692254]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isInModal [ngx.components.UIUseVariable-1669295969984]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isHeatmap [ngx.components.UIUseVariable-1669391132623]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
          ↓rowSitesLesPlusConsoDelec [ngx.components.UIDynamicElement-1669042791602]: 
            beanData: '{"ionBean":"GridRow","Height":"plain"}'
            isEnabled: false
            tagName: ion-row
            ↓colSitesLesPlusConsoDelec [ngx.components.UIDynamicElement-1669042791604]: 
              beanData: '{"ionBean":"GridCol","SizeXs":"plain:12"}'
              tagName: ion-col
              ↓UseSharedComponent [ngx.components.UIUseShared-1669042815761]: 
                sharedcomponent: poc_energisme.Application.NgxApp.widget
                ↓title [ngx.components.UIUseVariable-1669042830397]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: plain:Sites les plus consommateurs d'électricité
                ↓sequenceToCall [ngx.components.UIUseVariable-1669042830399]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'.multisite_sites_energivore_elec'
                ↓sequenceParams [ngx.components.UIUseVariable-1669042830401]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: |
                          'script:{
                          	limit: ''20''
                          }'
                ↓isGoogleMap [ngx.components.UIUseVariable-1669045481698]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isGauge [ngx.components.UIUseVariable-1669284698712]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isInModal [ngx.components.UIUseVariable-1669295979161]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isHeatmap [ngx.components.UIUseVariable-1669391144300]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
          ↓rowSitesLesPlusConsoDeGaz [ngx.components.UIDynamicElement-1669044469823]: 
            beanData: '{"ionBean":"GridRow","Height":"plain"}'
            isEnabled: false
            tagName: ion-row
            ↓colSitesLesPlusConsoDeGaz [ngx.components.UIDynamicElement-1669044469826]: 
              beanData: '{"ionBean":"GridCol","SizeXs":"plain:12"}'
              tagName: ion-col
              ↓UseSharedComponent [ngx.components.UIUseShared-1669044469829]: 
                sharedcomponent: poc_energisme.Application.NgxApp.widget
                ↓title [ngx.components.UIUseVariable-1669044469832]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: plain:Sites les plus consommateurs de gaz naturel
                ↓sequenceToCall [ngx.components.UIUseVariable-1669044469835]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'.multisite_sites_energivore_gaz'
                ↓sequenceParams [ngx.components.UIUseVariable-1669044469838]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: |
                          'script:{
                          	limit: ''20''
                          }'
                ↓isGoogleMap [ngx.components.UIUseVariable-1669045472319]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isGauge [ngx.components.UIUseVariable-1669284706700]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isInModal [ngx.components.UIUseVariable-1669295993017]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
                ↓isHeatmap [ngx.components.UIUseVariable-1669391150568]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:'false'
      ↓colNotes [ngx.components.UIDynamicElement-1668692254998]: 
        beanData: |
          '{
           "ionBean": "GridCol",
           "SizeLg": "plain:2",
           "SizeMd": "plain:2",
           "SizeXs": "plain:12"
          }'
        tagName: ion-col
        ↓Label [ngx.components.UIDynamicElement-1668692255000]: 
          beanData: '{"ionBean":"Label"}'
          tagName: ion-label
          ↓Text [ngx.components.UIText-1668692255002]: 
            textValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: plain:Notes
        ↓UseSharedComponent [ngx.components.UIUseShared-1671700435640]: 
          sharedcomponent: lib_ExtendedComponents_ui_ngx.MobileApplication.Application.tinyMce
          ↓model [ngx.components.UIUseVariable-1671700683937]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:
          ↓init [ngx.components.UIUseVariable-1671700683939]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: |
                    'script:{
                        placeholder: ''My placeholder'',
                            plugins: ''noneditable print preview paste importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap quickbars emoticons'',
                            imagetools_cors_hosts: [''picsum.photos''],
                            menubar: ''file edit view insert format tools table help'',
                            toolbar: ''undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media template link anchor codesample | ltr rtl'',
                            toolbar_sticky: true,
                            autosave_ask_before_unload: true,
                            autosave_interval: ''30s'',
                            autosave_prefix: ''{path}{query}-{id}-'',
                            autosave_restore_when_empty: false,
                            autosave_retention: ''2m'',
                            image_advtab: true,
                            importcss_append: true,
                            template_cdate_format: ''[Date Created (CDATE): %m/%d/%Y : %H:%M:%S]'',
                            template_mdate_format: ''[Date Modified (MDATE): %m/%d/%Y : %H:%M:%S]'',
                            height: 600,
                            image_caption: true,
                            quickbars_selection_toolbar: ''bold italic | quicklink h2 h3 blockquote quickimage quicktable'',
                            noneditable_noneditable_class: ''mceNonEditable'',
                            toolbar_mode: ''sliding'',
                            contextmenu: ''link image imagetools table'',
                            allow_html_in_named_anchor: true,
                            branding: false,
                    	 valid_elements : ''*[*]'',
                    	 apply_source_formatting : false,                
                            verify_html : false
                        }'
          ↓disabled [ngx.components.UIUseVariable-1671700683941]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:''
          ↓apiKey [ngx.components.UIUseVariable-1671700683943]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:
          ↓cloudChannel [ngx.components.UIUseVariable-1671700683945]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:'5-dev'
          ↓id [ngx.components.UIUseVariable-1671700683947]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:''
          ↓initialValue [ngx.components.UIUseVariable-1671700683949]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:''
          ↓inline [ngx.components.UIUseVariable-1671700683951]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:false
          ↓tagName [ngx.components.UIUseVariable-1671700683953]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:'div'
          ↓plugins [ngx.components.UIUseVariable-1671700683955]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:['advlist autolink lists link image charmap print preview anchor','searchreplace visualblocks code fullscreen','insertdatetime media table paste code imagetools help wordcount']
          ↓toolbar [ngx.components.UIUseVariable-1671700683957]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | \bullist numlist outdent indent | removeformat | link image | help'
↓PageEvent [ngx.components.UIPageEvent-1672836952743]: 
  ↓CallSequence [ngx.components.UIDynamicAction-1672836963523]: 
    beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.getGroupsOf"}'
    isEnabled: false
    ↓user [ngx.components.UIControlVariable-1672836995726]: 
      comment: new variable
      varValue: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
          - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
  ↓SetLocal [ngx.components.UIDynamicAction-1673282261150]: 
    beanData: |
      '{
       "ionBean": "SetLocalAction",
       "Property": "plain:sitesToCall",
       "Value": "script:[]"
      }'
  ↓SetLocal1 [ngx.components.UIDynamicAction-1673451670436]: 
    beanData: |
      '{
       "ionBean": "SetLocalAction",
       "Property": "plain:refresh",
       "Value": "script:false"
      }'
  ↓SetLocal2 [ngx.components.UIDynamicAction-1673454113909]: 
    beanData: |
      '{
       "ionBean": "SetLocalAction",
       "Property": "plain:sequenceParams",
       "Value": "script:{}"
      }'
  ↓CallSequence2 [ngx.components.UIDynamicAction-1673623116292]: 
    beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:poc_energisme.searchGroup"}'
    ↓label [ngx.components.UIControlVariable-1673623116295]: 
      comment: new variable
      varValue: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
          - MobileSmartSourceType: plain:
    ↓user [ngx.components.UIControlVariable-1673623116298]: 
      comment: new variable
      varValue: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
          - MobileSmartSourceType: source:{"filter":"Global","project":"poc_energisme","input":"","model":{"data":[{"sharedObject":"router.sharedObject"}],"path":"?.authUser","prefix":"","suffix":"","custom":"","useCustom":false}}
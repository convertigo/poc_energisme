↓Input_variables [steps.InputVariablesStep-1673013038503]: 
↓jSimpleSource [steps.SimpleSourceStep-1675178744595]: 
  sourceDefinition: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
      - com.twinsoft.convertigo.beans.common.XMLVector: 
        - java.lang.String: 
          - ↑value: 1673013038503
        - java.lang.String: 
          - ↑value: ./agg_function/text()
  variableName: agg_function_old
↓buildAggFunction [steps.SimpleStep-1673016100745]: 
  expression: |
    'if(agg_function == "year") {
    	agg_function = "YYYY"
    } else if(agg_function == "month") {
    	agg_function = "YYYY-MM"
    } else if(agg_function == "week") {
    	agg_function = "YYYY-WW"
    } else if(agg_function == "day") {
    	agg_function = "YYYY-MM-DD"
    }
    //log.warn(agg_function)'
↓buildCastStrings [steps.SimpleStep-1673013061619]: 
  expression: |
    'sites = JSON.parse(sites)
    var string = "";
    var sitesLength = sites.length
    log.warn("sites length")
    log.warn(sitesLength)
    for(var i = 0; i < sites.length; i++) {
    	string = string + "CAST(''"+sites[i]+"'' AS BIGINT)" + ((i != sites.length - 1) ? ", " : "")
    }
    
    log.warn(string)'
↓jElement [steps.ElementStep-1673013564546]: 
  expression: string
  nodeName: sites
  output: false
↓jSimpleSource_1 [steps.SimpleSourceStep-1673864409532]: 
  sourceDefinition: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
      - com.twinsoft.convertigo.beans.common.XMLVector: 
        - java.lang.String: 
          - ↑value: 1673013038503
        - java.lang.String: 
          - ↑value: ./synthese/text()
  variableName: synthese
↓Call_Transaction [steps.TransactionStep-1673012654154]: 
  sourceTransaction: poc_energisme.postgreSQL.widget_conso
  ↓date_start [variables.StepVariable-1673012725914]: 
    description: date_start
  ↓date_end [variables.StepVariable-1673012725916]: 
    description: date_end
  ↓sites [variables.StepVariable-1673012725918]: 
    sourceDefinition: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
        - com.twinsoft.convertigo.beans.common.XMLVector: 
          - java.lang.String: 
            - ↑value: 1673013564546
          - java.lang.String: 
            - ↑value: ./text()
  ↓agg_function [variables.StepVariable-1673012725920]: 
↓jSimpleSource_2 [steps.SimpleSourceStep-1674225853173]: 
  sourceDefinition: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
      - com.twinsoft.convertigo.beans.common.XMLVector: 
        - java.lang.String: 
          - ↑value: 1673012654154
        - java.lang.String: 
          - ↑value: ./document/sql_output
  variableName: length
↓jIfThenElse [steps.IfThenElseStep-1674225997399]: 
  condition: length.length == 0
  ↓jThen [steps.ThenStep-1674225997401]: 
    ↓Error_structure [steps.XMLErrorStep-1674225954481]: 
      message: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: Manque de donnée
    ↓calculTotalAndComputeDate [steps.SimpleStep-1674228736519]: 
      expression: |
        'String.prototype.replaceAll = function(search, replacement) {
            var target = this;
            return target.replace(new RegExp(search, ''g''), replacement);
        };
        
        date_start = date_start.replaceAll(''-'', ''/'')
        date_end = date_end.replaceAll(''-'', ''/'')
        var date = date_start + '' - '' + date_end;'
    ↓jElement_1 [steps.ElementStep-1674228736522]: 
      expression: date
      nodeName: date
    ↓Field [steps.JsonFieldStep-1674229705200]: 
      key: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: total
  ↓jElse [steps.ElseStep-1674225997403]: 
    ↓jSimpleSource [steps.SimpleSourceStep-1673020236601]: 
      output: true
      sourceDefinition: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
          - com.twinsoft.convertigo.beans.common.XMLVector: 
            - java.lang.String: 
              - ↑value: 1673012654154
            - java.lang.String: 
              - ↑value: ./document/sql_output/row[1]/agg_period/text()
      variableName: firstDate
    ↓getFirstYear [steps.SimpleStep-1673020265724]: 
      expression: |
        log.warn(firstDate)
        var firstYear = firstDate.substring(0, 4)
        log.warn('firstYear')
        log.warn(firstYear)
    ↓jIfThenElse [steps.IfThenElseStep-1675080573643]: 
      condition: sitesLength > 1
      isEnabled: false
      ↓jThen [steps.ThenStep-1675080573929]: 
        ↓Field [steps.JsonFieldStep-1675080592149]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: chartType
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: bar
      ↓jElse [steps.ElseStep-1675080573931]: 
        ↓Field [steps.JsonFieldStep-1675080593751]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: chartType
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: line
    ↓Field [steps.JsonFieldStep-1673271596130]: 
      isEnabled: false
      key: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: chartType
      value: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: bar
    ↓jIf [steps.IfStep-1673864434286]: 
      condition: synthese == 'global'
      ↓Field1 [steps.JsonFieldStep-1675085339046]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: chartType
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: bar
      ↓initTotals [steps.SimpleStep-1674566226344]: 
        expression: |
          var totalGaz = 0;
          var totalElec = 0;
      ↓data [steps.JsonObjectStep-1673864462070]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: data
        ↓labels [steps.JsonArrayStep-1673864462073]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: labels
          ↓Iterator [steps.IteratorStep-1673864462076]: 
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1673012654154
                  - java.lang.String: 
                    - ↑value: ./document/sql_output/row
            ↓jSimpleSource [steps.SimpleSourceStep-1673864462079]: 
              sourceDefinition: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                  - com.twinsoft.convertigo.beans.common.XMLVector: 
                    - java.lang.String: 
                      - ↑value: 1673864462076
                    - java.lang.String: 
                      - ↑value: ./agg_period/text()
              variableName: currentDate
            ↓getCurrentYear [steps.SimpleStep-1673864462082]: 
              expression: |
                var currentYear = currentDate.substring(0, 4)
                log.warn('labels')
                log.warn(currentYear)
            ↓jIf [steps.IfStep-1673864462085]: 
              condition: currentYear == firstYear
              ↓computeDate [steps.SimpleStep-1675159014522]: 
                expression: |
                  'var months = {
                  	"01": "Jan",
                  	"02": "Fév",
                  	"03": "Mars",
                  	"04": "Avril",
                  	"05": "Mai",
                  	"06": "Juin",
                  	"07": "Juillet",
                  	"08": "Aout",
                  	"09": "Sept",
                  	"10": "Oct",
                  	"11": "Nov",
                  	"12": "Dec"
                  }
                  
                  var label;
                  if(agg_function_old == "week") {
                  	label = "S" + currentDate.split(''-'')[1] + " " + currentYear
                  } else if(agg_function_old == "year") {
                  	label = currentYear
                  } else {
                  	label = months[currentDate.split(''-'')[1]] + " " + currentYear
                  }
                  '
              ↓Field [steps.JsonFieldStep-1673864462088]: 
                value: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                    - SmartType: 
                      - ↑mode: JS
                      - →→: label
        ↓Array [steps.JsonArrayStep-1673864462091]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: datasets
          ↓Object [steps.JsonObjectStep-1673864462094]: 
            comment: Electricité année précédente
            ↓Field [steps.JsonFieldStep-1673864462097]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: label
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Electricité (année précédente)
            ↓Array [steps.JsonArrayStep-1673864462100]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: data
              ↓Iterator [steps.IteratorStep-1673864462103]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673012654154
                      - java.lang.String: 
                        - ↑value: ./document/sql_output/row
                ↓jSimpleSource [steps.SimpleSourceStep-1673864462106]: 
                  sourceDefinition: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                      - com.twinsoft.convertigo.beans.common.XMLVector: 
                        - java.lang.String: 
                          - ↑value: 1673864462103
                        - java.lang.String: 
                          - ↑value: ./agg_period/text()
                  variableName: currentDate
                ↓getCurrentYear [steps.SimpleStep-1673864462109]: 
                  expression: var currentYear = currentDate.substring(0, 4)
                ↓jIf [steps.IfStep-1673864462112]: 
                  condition: currentYear == firstYear
                  ↓Field [steps.JsonFieldStep-1673864462115]: 
                    value: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                        - SmartType: 
                          - ↑mode: SOURCE
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1673864462103
                            - java.lang.String: 
                              - ↑value: ./sum_conso_elec/text()
            ↓Field_1 [steps.JsonFieldStep-1673864462118]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stack
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Stack 0
            ↓Field_2 [steps.JsonFieldStep-1673864462121]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: backgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(50, 193, 113, 0.5)
            ↓Field_3 [steps.JsonFieldStep-1673864462124]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBackgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(50, 193, 113, 0.5)
            ↓Field_4 [steps.JsonFieldStep-1673864462127]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: borderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(50, 193, 113, 0.5)
            ↓Field_5 [steps.JsonFieldStep-1673864462130]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBorderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(50, 193, 113, 0.5)
          ↓Object1 [steps.JsonObjectStep-1673864462133]: 
            comment: Gaz année précédente
            ↓Field [steps.JsonFieldStep-1673864462136]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: label
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Gaz (année précédente)
            ↓Array [steps.JsonArrayStep-1673864462139]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: data
              ↓Iterator [steps.IteratorStep-1673864462142]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673012654154
                      - java.lang.String: 
                        - ↑value: ./document/sql_output/row
                ↓jSimpleSource [steps.SimpleSourceStep-1673864462145]: 
                  sourceDefinition: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                      - com.twinsoft.convertigo.beans.common.XMLVector: 
                        - java.lang.String: 
                          - ↑value: 1673864462142
                        - java.lang.String: 
                          - ↑value: ./agg_period/text()
                  variableName: currentDate
                ↓getCurrentYear [steps.SimpleStep-1673864462148]: 
                  expression: var currentYear = currentDate.substring(0, 4)
                ↓jIf [steps.IfStep-1673864462151]: 
                  condition: currentYear == firstYear
                  ↓Field [steps.JsonFieldStep-1673864462154]: 
                    value: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                        - SmartType: 
                          - ↑mode: SOURCE
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1673864462142
                            - java.lang.String: 
                              - ↑value: ./sum_conso_gaz/text()
            ↓Field_1 [steps.JsonFieldStep-1673864462157]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stack
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Stack 0
            ↓Field_2 [steps.JsonFieldStep-1673864462160]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: backgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(254, 169, 62, 0.5)
            ↓Field_3 [steps.JsonFieldStep-1673864462163]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBackgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(254, 169, 62, 0.5)
            ↓Field_4 [steps.JsonFieldStep-1673864462166]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: borderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(254, 169, 62, 0.5)
            ↓Field_5 [steps.JsonFieldStep-1673864462169]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBorderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(254, 169, 62, 0.5)
          ↓Object_1 [steps.JsonObjectStep-1673864462172]: 
            comment: Electricité
            ↓Field [steps.JsonFieldStep-1673864462175]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: label
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Electricité
            ↓Array [steps.JsonArrayStep-1673864462178]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: data
              ↓Iterator [steps.IteratorStep-1673864462181]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673012654154
                      - java.lang.String: 
                        - ↑value: ./document/sql_output/row
                ↓jSimpleSource [steps.SimpleSourceStep-1673864462184]: 
                  sourceDefinition: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                      - com.twinsoft.convertigo.beans.common.XMLVector: 
                        - java.lang.String: 
                          - ↑value: 1673864462181
                        - java.lang.String: 
                          - ↑value: ./agg_period/text()
                  variableName: currentDate
                ↓getCurrentYear [steps.SimpleStep-1673864462187]: 
                  expression: var currentYear = currentDate.substring(0, 4)
                ↓jIf [steps.IfStep-1673864462190]: 
                  condition: currentYear != firstYear
                  ↓Field [steps.JsonFieldStep-1673864462193]: 
                    value: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                        - SmartType: 
                          - ↑mode: SOURCE
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1673864462181
                            - java.lang.String: 
                              - ↑value: ./sum_conso_elec/text()
                  ↓jSimpleSource [steps.SimpleSourceStep-1674566372841]: 
                    sourceDefinition: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1673864462181
                          - java.lang.String: 
                            - ↑value: ./sum_conso_elec/text()
                    variableName: elec
                  ↓addTotal [steps.SimpleStep-1674566395872]: 
                    expression: totalElec = totalElec + Number(elec);
            ↓Field_1 [steps.JsonFieldStep-1673864462196]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stack
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Stack 1
            ↓Field_2 [steps.JsonFieldStep-1673864462199]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: backgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(50, 193, 113)
            ↓Field_3 [steps.JsonFieldStep-1673864462202]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBackgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(50, 193, 113)
            ↓Field_4 [steps.JsonFieldStep-1673864462205]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: borderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(50, 193, 113)
            ↓Field_5 [steps.JsonFieldStep-1673864462208]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBorderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(50, 193, 113)
          ↓Object_2 [steps.JsonObjectStep-1673864462211]: 
            comment: Gaz
            ↓Field [steps.JsonFieldStep-1673864462214]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: label
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Gaz
            ↓Array [steps.JsonArrayStep-1673864462217]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: data
              ↓Iterator [steps.IteratorStep-1673864462220]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673012654154
                      - java.lang.String: 
                        - ↑value: ./document/sql_output/row
                ↓jSimpleSource [steps.SimpleSourceStep-1673864462223]: 
                  sourceDefinition: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                      - com.twinsoft.convertigo.beans.common.XMLVector: 
                        - java.lang.String: 
                          - ↑value: 1673864462220
                        - java.lang.String: 
                          - ↑value: ./agg_period/text()
                  variableName: currentDate
                ↓getCurrentYear [steps.SimpleStep-1673864462226]: 
                  expression: var currentYear = currentDate.substring(0, 4)
                ↓jIf [steps.IfStep-1673864462229]: 
                  condition: currentYear != firstYear
                  ↓Field [steps.JsonFieldStep-1673864462232]: 
                    value: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                        - SmartType: 
                          - ↑mode: SOURCE
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1673864462220
                            - java.lang.String: 
                              - ↑value: ./sum_conso_gaz/text()
                  ↓jSimpleSource [steps.SimpleSourceStep-1674566283499]: 
                    sourceDefinition: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1673864462220
                          - java.lang.String: 
                            - ↑value: ./sum_conso_gaz/text()
                    variableName: gaz
                  ↓addTotal [steps.SimpleStep-1674566308882]: 
                    expression: totalGaz = totalGaz + Number(gaz);
            ↓Field_1 [steps.JsonFieldStep-1673864462235]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stack
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Stack 1
            ↓Field_2 [steps.JsonFieldStep-1673864462238]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: backgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(254, 169, 62)
            ↓Field_3 [steps.JsonFieldStep-1673864462241]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBackgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(254, 169, 62)
            ↓Field_4 [steps.JsonFieldStep-1673864462244]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: borderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(254, 169, 62)
            ↓Field_5 [steps.JsonFieldStep-1673864462247]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBorderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(254, 169, 62)
      ↓Object_1 [steps.JsonObjectStep-1673864462250]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: chartOptions
        ↓Object [steps.JsonObjectStep-1673864462253]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: plugins
          ↓Object [steps.JsonObjectStep-1673864462256]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: legend
            ↓Field [steps.JsonFieldStep-1673864462259]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: position
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: bottom
            ↓Field_1 [steps.JsonFieldStep-1673864462262]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: align
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: center
        ↓Object_1 [steps.JsonObjectStep-1673864462265]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: scales
          ↓Object [steps.JsonObjectStep-1673864462268]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: x
            ↓Field [steps.JsonFieldStep-1673864462271]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stacked
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: true
          ↓Object1 [steps.JsonObjectStep-1673864462274]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: y
            ↓Field [steps.JsonFieldStep-1673864462277]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stacked
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: true
            ↓Field_1 [steps.JsonFieldStep-1673864462280]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: title
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: MWh
        ↓Field [steps.JsonFieldStep-1673864462283]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: maintainAspectRatio
          type: bool
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: false
        ↓responsive [steps.JsonFieldStep-1673864462286]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: responsive
          type: bool
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: true
      ↓calculTotalAndComputeDate [steps.SimpleStep-1673864462289]: 
        expression: |
          'String.prototype.replaceAll = function(search, replacement) {
              var target = this;
              return target.replace(new RegExp(search, ''g''), replacement);
          };
          
          date_start = date_start.replaceAll(''-'', ''/'')
          date_end = date_end.replaceAll(''-'', ''/'')
          var date = date_start + '' - '' + date_end;
          
          var total = Math.round( (totalElec + totalGaz + Number.EPSILON) * 100) / 100'
      ↓jElement_1 [steps.ElementStep-1673864462292]: 
        expression: date
        nodeName: date
      ↓Field [steps.JsonFieldStep-1673883782955]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: total
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: JS
              - →→: total
    ↓jIf_1 [steps.IfStep-1673864662604]: 
      condition: synthese == 'elec'
      ↓Field1 [steps.JsonFieldStep-1675085345190]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: chartType
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: bar
      ↓initTotals [steps.SimpleStep-1674566004576]: 
        expression: |
          var totalGaz = 0;
          var totalElec = 0;
      ↓data [steps.JsonObjectStep-1673864681023]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: data
        ↓labels [steps.JsonArrayStep-1673864681026]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: labels
          ↓Iterator [steps.IteratorStep-1673864681029]: 
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1673012654154
                  - java.lang.String: 
                    - ↑value: ./document/sql_output/row
            ↓jSimpleSource [steps.SimpleSourceStep-1673864681032]: 
              sourceDefinition: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                  - com.twinsoft.convertigo.beans.common.XMLVector: 
                    - java.lang.String: 
                      - ↑value: 1673864681029
                    - java.lang.String: 
                      - ↑value: ./agg_period/text()
              variableName: currentDate
            ↓getCurrentYear [steps.SimpleStep-1673864681035]: 
              expression: |
                var currentYear = currentDate.substring(0, 4)
                log.warn('labels')
                log.warn(currentYear)
            ↓jIf [steps.IfStep-1673864681038]: 
              condition: currentYear == firstYear
              ↓computeDate [steps.SimpleStep-1675179261685]: 
                expression: |
                  'var months = {
                  	"01": "Jan",
                  	"02": "Fév",
                  	"03": "Mars",
                  	"04": "Avril",
                  	"05": "Mai",
                  	"06": "Juin",
                  	"07": "Juillet",
                  	"08": "Aout",
                  	"09": "Sept",
                  	"10": "Oct",
                  	"11": "Nov",
                  	"12": "Dec"
                  }
                  
                  var label;
                  if(agg_function_old == "week") {
                  	label = "S" + currentDate.split(''-'')[1] + " " + currentYear
                  } else if(agg_function_old == "year") {
                  	label = currentYear
                  } else {
                  	label = months[currentDate.split(''-'')[1]] + " " + currentYear
                  }
                  '
              ↓Field [steps.JsonFieldStep-1673864681041]: 
                value: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                    - SmartType: 
                      - ↑mode: JS
                      - →→: label
        ↓Array [steps.JsonArrayStep-1673864681044]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: datasets
          ↓Object [steps.JsonObjectStep-1673864681047]: 
            comment: Electricité année précédente
            ↓Field [steps.JsonFieldStep-1673864681050]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: label
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Electricité (année précédente)
            ↓Array [steps.JsonArrayStep-1673864681053]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: data
              ↓Iterator [steps.IteratorStep-1673864681056]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673012654154
                      - java.lang.String: 
                        - ↑value: ./document/sql_output/row
                ↓jSimpleSource [steps.SimpleSourceStep-1673864681059]: 
                  sourceDefinition: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                      - com.twinsoft.convertigo.beans.common.XMLVector: 
                        - java.lang.String: 
                          - ↑value: 1673864681056
                        - java.lang.String: 
                          - ↑value: ./agg_period/text()
                  variableName: currentDate
                ↓getCurrentYear [steps.SimpleStep-1673864681062]: 
                  expression: var currentYear = currentDate.substring(0, 4)
                ↓jIf [steps.IfStep-1673864681065]: 
                  condition: currentYear == firstYear
                  ↓Field [steps.JsonFieldStep-1673864681068]: 
                    value: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                        - SmartType: 
                          - ↑mode: SOURCE
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1673864681056
                            - java.lang.String: 
                              - ↑value: ./sum_conso_elec/text()
            ↓Field_1 [steps.JsonFieldStep-1673864681071]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stack
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Stack 0
            ↓Field_2 [steps.JsonFieldStep-1673864681074]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: backgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(50, 193, 113, 0.5)
            ↓Field_3 [steps.JsonFieldStep-1673864681077]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBackgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(50, 193, 113, 0.5)
            ↓Field_4 [steps.JsonFieldStep-1673864681080]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: borderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(50, 193, 113, 0.5)
            ↓Field_5 [steps.JsonFieldStep-1673864681083]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBorderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(50, 193, 113, 0.5)
          ↓Object1 [steps.JsonObjectStep-1673864681086]: 
            comment: Gaz année précédente
            isEnabled: false
            ↓Field [steps.JsonFieldStep-1673864681089]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: label
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Gaz (année précédente)
            ↓Array [steps.JsonArrayStep-1673864681092]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: data
              ↓Iterator [steps.IteratorStep-1673864681095]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673012654154
                      - java.lang.String: 
                        - ↑value: ./document/sql_output/row
                ↓jSimpleSource [steps.SimpleSourceStep-1673864681098]: 
                  sourceDefinition: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                      - com.twinsoft.convertigo.beans.common.XMLVector: 
                        - java.lang.String: 
                          - ↑value: 1673864681095
                        - java.lang.String: 
                          - ↑value: ./agg_period/text()
                  variableName: currentDate
                ↓getCurrentYear [steps.SimpleStep-1673864681101]: 
                  expression: var currentYear = currentDate.substring(0, 4)
                ↓jIf [steps.IfStep-1673864681104]: 
                  condition: currentYear == firstYear
                  ↓Field [steps.JsonFieldStep-1673864681107]: 
                    value: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                        - SmartType: 
                          - ↑mode: SOURCE
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1673864462142
                            - java.lang.String: 
                              - ↑value: ./sum_conso_gaz/text()
            ↓Field_1 [steps.JsonFieldStep-1673864681110]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stack
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Stack 0
            ↓Field_2 [steps.JsonFieldStep-1673864681113]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: backgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(254, 169, 62, 0.5)
            ↓Field_3 [steps.JsonFieldStep-1673864681116]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBackgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(254, 169, 62, 0.5)
            ↓Field_4 [steps.JsonFieldStep-1673864681119]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: borderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(254, 169, 62, 0.5)
            ↓Field_5 [steps.JsonFieldStep-1673864681122]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBorderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(254, 169, 62, 0.5)
          ↓Object_1 [steps.JsonObjectStep-1673864681125]: 
            comment: Electricité
            ↓Field [steps.JsonFieldStep-1673864681128]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: label
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Electricité
            ↓Array [steps.JsonArrayStep-1673864681131]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: data
              ↓Iterator [steps.IteratorStep-1673864681134]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673012654154
                      - java.lang.String: 
                        - ↑value: ./document/sql_output/row
                ↓jSimpleSource [steps.SimpleSourceStep-1673864681137]: 
                  sourceDefinition: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                      - com.twinsoft.convertigo.beans.common.XMLVector: 
                        - java.lang.String: 
                          - ↑value: 1673864681134
                        - java.lang.String: 
                          - ↑value: ./agg_period/text()
                  variableName: currentDate
                ↓getCurrentYear [steps.SimpleStep-1673864681140]: 
                  expression: var currentYear = currentDate.substring(0, 4)
                ↓jIf [steps.IfStep-1673864681143]: 
                  condition: currentYear != firstYear
                  ↓Field [steps.JsonFieldStep-1673864681146]: 
                    value: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                        - SmartType: 
                          - ↑mode: SOURCE
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1673864681134
                            - java.lang.String: 
                              - ↑value: ./sum_conso_elec/text()
                  ↓jSimpleSource [steps.SimpleSourceStep-1674565973876]: 
                    sourceDefinition: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1673864681134
                          - java.lang.String: 
                            - ↑value: ./sum_conso_elec/text()
                    variableName: elec
                  ↓addTotal [steps.SimpleStep-1674566034478]: 
                    expression: totalElec = totalElec + Number(elec);
            ↓Field_1 [steps.JsonFieldStep-1673864681149]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stack
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Stack 1
            ↓Field_2 [steps.JsonFieldStep-1673864681152]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: backgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(50, 193, 113)
            ↓Field_3 [steps.JsonFieldStep-1673864681155]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBackgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(50, 193, 113)
            ↓Field_4 [steps.JsonFieldStep-1673864681158]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: borderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(50, 193, 113)
            ↓Field_5 [steps.JsonFieldStep-1673864681161]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBorderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(50, 193, 113)
          ↓Object_2 [steps.JsonObjectStep-1673864681164]: 
            comment: Gaz
            isEnabled: false
            ↓Field [steps.JsonFieldStep-1673864681167]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: label
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Gaz
            ↓Array [steps.JsonArrayStep-1673864681170]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: data
              ↓Iterator [steps.IteratorStep-1673864681173]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673012654154
                      - java.lang.String: 
                        - ↑value: ./document/sql_output/row
                ↓jSimpleSource [steps.SimpleSourceStep-1673864681176]: 
                  sourceDefinition: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                      - com.twinsoft.convertigo.beans.common.XMLVector: 
                        - java.lang.String: 
                          - ↑value: 1673864681173
                        - java.lang.String: 
                          - ↑value: ./agg_period/text()
                  variableName: currentDate
                ↓getCurrentYear [steps.SimpleStep-1673864681179]: 
                  expression: var currentYear = currentDate.substring(0, 4)
                ↓jIf [steps.IfStep-1673864681182]: 
                  condition: currentYear != firstYear
                  ↓Field [steps.JsonFieldStep-1673864681185]: 
                    value: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                        - SmartType: 
                          - ↑mode: SOURCE
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1673864462220
                            - java.lang.String: 
                              - ↑value: ./sum_conso_gaz/text()
            ↓Field_1 [steps.JsonFieldStep-1673864681188]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stack
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Stack 1
            ↓Field_2 [steps.JsonFieldStep-1673864681191]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: backgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(254, 169, 62)
            ↓Field_3 [steps.JsonFieldStep-1673864681194]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBackgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(254, 169, 62)
            ↓Field_4 [steps.JsonFieldStep-1673864681197]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: borderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(254, 169, 62)
            ↓Field_5 [steps.JsonFieldStep-1673864681200]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBorderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(254, 169, 62)
      ↓Object_1 [steps.JsonObjectStep-1673864685387]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: chartOptions
        ↓Object [steps.JsonObjectStep-1673864685390]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: plugins
          ↓Object [steps.JsonObjectStep-1673864685393]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: legend
            ↓Field [steps.JsonFieldStep-1673864685396]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: position
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: bottom
            ↓Field_1 [steps.JsonFieldStep-1673864685399]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: align
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: center
        ↓Object_1 [steps.JsonObjectStep-1673864685402]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: scales
          ↓Object [steps.JsonObjectStep-1673864685405]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: x
            ↓Field [steps.JsonFieldStep-1673864685408]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stacked
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: true
          ↓Object1 [steps.JsonObjectStep-1673864685411]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: y
            ↓Field [steps.JsonFieldStep-1673864685414]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stacked
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: true
            ↓Field_1 [steps.JsonFieldStep-1673864685417]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: title
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: MWh
        ↓Field [steps.JsonFieldStep-1673864685420]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: maintainAspectRatio
          type: bool
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: false
        ↓responsive [steps.JsonFieldStep-1673864685423]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: responsive
          type: bool
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: true
      ↓calculTotalAndComputeDate [steps.SimpleStep-1673883806846]: 
        expression: |
          'String.prototype.replaceAll = function(search, replacement) {
              var target = this;
              return target.replace(new RegExp(search, ''g''), replacement);
          };
          
          date_start = date_start.replaceAll(''-'', ''/'')
          date_end = date_end.replaceAll(''-'', ''/'')
          var date = date_start + '' - '' + date_end;
          
          totalElec = Math.round( (totalElec + Number.EPSILON) * 100) / 100'
      ↓jElement_1 [steps.ElementStep-1673883806849]: 
        expression: date
        nodeName: date
      ↓Field [steps.JsonFieldStep-1673883806852]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: total
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: JS
              - →→: totalElec
    ↓jIf_2 [steps.IfStep-1673864825857]: 
      condition: synthese == 'gaz'
      ↓initTotals [steps.SimpleStep-1674565665259]: 
        expression: |
          var totalGaz = 0;
          var totalElec = 0;
        isEnabled: false
      ↓data [steps.JsonObjectStep-1673864825860]: 
        isEnabled: false
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: data
        ↓labels [steps.JsonArrayStep-1673864825863]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: labels
          ↓Iterator [steps.IteratorStep-1673864825866]: 
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1673012654154
                  - java.lang.String: 
                    - ↑value: ./document/sql_output/row
            ↓jSimpleSource [steps.SimpleSourceStep-1673864825869]: 
              sourceDefinition: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                  - com.twinsoft.convertigo.beans.common.XMLVector: 
                    - java.lang.String: 
                      - ↑value: 1673864825866
                    - java.lang.String: 
                      - ↑value: ./agg_period/text()
              variableName: currentDate
            ↓getCurrentYear [steps.SimpleStep-1673864825872]: 
              expression: |
                var currentYear = currentDate.substring(0, 4)
                log.warn('labels')
                log.warn(currentYear)
            ↓jIf [steps.IfStep-1673864825875]: 
              condition: currentYear == firstYear
              ↓Field [steps.JsonFieldStep-1673864825878]: 
                value: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                    - SmartType: 
                      - ↑mode: SOURCE
                      - com.twinsoft.convertigo.beans.common.XMLVector: 
                        - java.lang.String: 
                          - ↑value: 1673864825866
                        - java.lang.String: 
                          - ↑value: ./agg_period/text()
        ↓Array [steps.JsonArrayStep-1673864825881]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: datasets
          ↓Object [steps.JsonObjectStep-1673864825884]: 
            comment: Electricité année précédente
            isEnabled: false
            ↓Field [steps.JsonFieldStep-1673864825887]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: label
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Electricité (année précédente)
            ↓Array [steps.JsonArrayStep-1673864825890]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: data
              ↓Iterator [steps.IteratorStep-1673864825893]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673012654154
                      - java.lang.String: 
                        - ↑value: ./document/sql_output/row
                ↓jSimpleSource [steps.SimpleSourceStep-1673864825896]: 
                  sourceDefinition: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                      - com.twinsoft.convertigo.beans.common.XMLVector: 
                        - java.lang.String: 
                          - ↑value: 1673864825893
                        - java.lang.String: 
                          - ↑value: ./agg_period/text()
                  variableName: currentDate
                ↓getCurrentYear [steps.SimpleStep-1673864825899]: 
                  expression: var currentYear = currentDate.substring(0, 4)
                ↓jIf [steps.IfStep-1673864825902]: 
                  condition: currentYear == firstYear
                  ↓Field [steps.JsonFieldStep-1673864825905]: 
                    value: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                        - SmartType: 
                          - ↑mode: SOURCE
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1673864681056
                            - java.lang.String: 
                              - ↑value: ./sum_conso_elec/text()
            ↓Field_1 [steps.JsonFieldStep-1673864825908]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stack
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Stack 0
            ↓Field_2 [steps.JsonFieldStep-1673864825911]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: backgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(50, 193, 113, 0.5)
            ↓Field_3 [steps.JsonFieldStep-1673864825914]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBackgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(50, 193, 113, 0.5)
            ↓Field_4 [steps.JsonFieldStep-1673864825917]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: borderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(50, 193, 113, 0.5)
            ↓Field_5 [steps.JsonFieldStep-1673864825920]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBorderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(50, 193, 113, 0.5)
          ↓Object1 [steps.JsonObjectStep-1673864825923]: 
            comment: Gaz année précédente
            ↓Field [steps.JsonFieldStep-1673864825926]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: label
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Gaz (année précédente)
            ↓Array [steps.JsonArrayStep-1673864825929]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: data
              ↓Iterator [steps.IteratorStep-1673864825932]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673012654154
                      - java.lang.String: 
                        - ↑value: ./document/sql_output/row
                ↓jSimpleSource [steps.SimpleSourceStep-1673864825935]: 
                  sourceDefinition: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                      - com.twinsoft.convertigo.beans.common.XMLVector: 
                        - java.lang.String: 
                          - ↑value: 1673864825932
                        - java.lang.String: 
                          - ↑value: ./agg_period/text()
                  variableName: currentDate
                ↓getCurrentYear [steps.SimpleStep-1673864825938]: 
                  expression: var currentYear = currentDate.substring(0, 4)
                ↓jIf [steps.IfStep-1673864825941]: 
                  condition: currentYear == firstYear
                  ↓Field [steps.JsonFieldStep-1673864825944]: 
                    value: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                        - SmartType: 
                          - ↑mode: SOURCE
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1673864825932
                            - java.lang.String: 
                              - ↑value: ./sum_conso_gaz/text()
            ↓Field_1 [steps.JsonFieldStep-1673864825947]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stack
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Stack 0
            ↓Field_2 [steps.JsonFieldStep-1673864825950]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: backgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(254, 169, 62, 0.5)
            ↓Field_3 [steps.JsonFieldStep-1673864825953]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBackgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(254, 169, 62, 0.5)
            ↓Field_4 [steps.JsonFieldStep-1673864825956]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: borderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(254, 169, 62, 0.5)
            ↓Field_5 [steps.JsonFieldStep-1673864825959]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBorderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgba(254, 169, 62, 0.5)
          ↓Object_1 [steps.JsonObjectStep-1673864825962]: 
            comment: Electricité
            isEnabled: false
            ↓Field [steps.JsonFieldStep-1673864825965]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: label
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Electricité
            ↓Array [steps.JsonArrayStep-1673864825968]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: data
              ↓Iterator [steps.IteratorStep-1673864825971]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673012654154
                      - java.lang.String: 
                        - ↑value: ./document/sql_output/row
                ↓jSimpleSource [steps.SimpleSourceStep-1673864825974]: 
                  sourceDefinition: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                      - com.twinsoft.convertigo.beans.common.XMLVector: 
                        - java.lang.String: 
                          - ↑value: 1673864825971
                        - java.lang.String: 
                          - ↑value: ./agg_period/text()
                  variableName: currentDate
                ↓getCurrentYear [steps.SimpleStep-1673864825977]: 
                  expression: var currentYear = currentDate.substring(0, 4)
                ↓jIf [steps.IfStep-1673864825980]: 
                  condition: currentYear != firstYear
                  ↓Field [steps.JsonFieldStep-1673864825983]: 
                    value: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                        - SmartType: 
                          - ↑mode: SOURCE
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1673864681134
                            - java.lang.String: 
                              - ↑value: ./sum_conso_elec/text()
            ↓Field_1 [steps.JsonFieldStep-1673864825986]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stack
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Stack 1
            ↓Field_2 [steps.JsonFieldStep-1673864825989]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: backgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(50, 193, 113)
            ↓Field_3 [steps.JsonFieldStep-1673864825992]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBackgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(50, 193, 113)
            ↓Field_4 [steps.JsonFieldStep-1673864825995]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: borderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(50, 193, 113)
            ↓Field_5 [steps.JsonFieldStep-1673864825998]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBorderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(50, 193, 113)
          ↓Object_2 [steps.JsonObjectStep-1673864826001]: 
            comment: Gaz
            ↓Field [steps.JsonFieldStep-1673864826004]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: label
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Gaz
            ↓Array [steps.JsonArrayStep-1673864826007]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: data
              ↓Iterator [steps.IteratorStep-1673864826010]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673012654154
                      - java.lang.String: 
                        - ↑value: ./document/sql_output/row
                ↓jSimpleSource [steps.SimpleSourceStep-1673864826013]: 
                  sourceDefinition: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                      - com.twinsoft.convertigo.beans.common.XMLVector: 
                        - java.lang.String: 
                          - ↑value: 1673864826010
                        - java.lang.String: 
                          - ↑value: ./agg_period/text()
                  variableName: currentDate
                ↓getCurrentYear [steps.SimpleStep-1673864826016]: 
                  expression: var currentYear = currentDate.substring(0, 4)
                ↓jIf [steps.IfStep-1673864826019]: 
                  condition: currentYear != firstYear
                  ↓Field [steps.JsonFieldStep-1673864826022]: 
                    value: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                        - SmartType: 
                          - ↑mode: SOURCE
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1673864826010
                            - java.lang.String: 
                              - ↑value: ./sum_conso_gaz/text()
                  ↓jSimpleSource [steps.SimpleSourceStep-1674565741923]: 
                    sourceDefinition: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1673864826010
                          - java.lang.String: 
                            - ↑value: ./sum_conso_gaz/text()
                    variableName: gaz
                  ↓addTotal [steps.SimpleStep-1674565764114]: 
                    expression: totalGaz = totalGaz + Number(gaz);
            ↓Field_1 [steps.JsonFieldStep-1673864826025]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stack
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: Stack 1
            ↓Field_2 [steps.JsonFieldStep-1673864826028]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: backgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(254, 169, 62)
            ↓Field_3 [steps.JsonFieldStep-1673864826031]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBackgroundColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(254, 169, 62)
            ↓Field_4 [steps.JsonFieldStep-1673864826034]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: borderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(254, 169, 62)
            ↓Field_5 [steps.JsonFieldStep-1673864826037]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: hoverBorderColor
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: rgb(254, 169, 62)
      ↓Object_1 [steps.JsonObjectStep-1673864826040]: 
        isEnabled: false
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: chartOptions
        ↓Object [steps.JsonObjectStep-1673864826043]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: plugins
          ↓Object [steps.JsonObjectStep-1673864826046]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: legend
            ↓Field [steps.JsonFieldStep-1673864826049]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: position
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: bottom
            ↓Field_1 [steps.JsonFieldStep-1673864826052]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: align
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: center
        ↓Object_1 [steps.JsonObjectStep-1673864826055]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: scales
          ↓Object [steps.JsonObjectStep-1673864826058]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: x
            ↓Field [steps.JsonFieldStep-1673864826061]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stacked
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: true
          ↓Object1 [steps.JsonObjectStep-1673864826064]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: y
            ↓Field [steps.JsonFieldStep-1673864826067]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: stacked
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: true
            ↓Field_1 [steps.JsonFieldStep-1673864826070]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: title
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: MWh
        ↓Field [steps.JsonFieldStep-1673864826073]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: maintainAspectRatio
          type: bool
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: false
        ↓responsive [steps.JsonFieldStep-1673864826076]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: responsive
          type: bool
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: true
      ↓calculTotalAndComputeDate [steps.SimpleStep-1673883807998]: 
        expression: |
          'String.prototype.replaceAll = function(search, replacement) {
              var target = this;
              return target.replace(new RegExp(search, ''g''), replacement);
          };
          
          date_start = date_start.replaceAll(''-'', ''/'')
          date_end = date_end.replaceAll(''-'', ''/'')
          var date = date_start + '' - '' + date_end;'
        isEnabled: false
      ↓jElement_1 [steps.ElementStep-1673883808001]: 
        expression: date
        isEnabled: false
        nodeName: date
      ↓Field [steps.JsonFieldStep-1673883808004]: 
        isEnabled: false
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: total
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: JS
              - →→: totalGaz
      ↓Sequence_JS [steps.SimpleStep-1675080477741]: 
        expression: |
          log.warn(sitesLength)
          log.warn("tototo")
      ↓jIfThenElse1 [steps.IfThenElseStep-1675085361271]: 
        condition: sitesLength > 1
        ↓jThen [steps.ThenStep-1675085361274]: 
          ↓Field [steps.JsonFieldStep-1675085361277]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: chartType
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: bar
        ↓jElse [steps.ElseStep-1675085361280]: 
          ↓Field [steps.JsonFieldStep-1675085361283]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: chartType
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: line
      ↓jIfThenElse [steps.IfThenElseStep-1675079373620]: 
        comment: case multisitze
        condition: sitesLength > 1
        ↓jThen [steps.ThenStep-1675079374000]: 
          ↓initTotals [steps.SimpleStep-1675079415795]: 
            expression: |
              var totalGaz = 0;
              var totalElec = 0;
          ↓data [steps.JsonObjectStep-1675079415798]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: data
            ↓labels [steps.JsonArrayStep-1675079415801]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: labels
              ↓Iterator [steps.IteratorStep-1675079415804]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673012654154
                      - java.lang.String: 
                        - ↑value: ./document/sql_output/row
                ↓jSimpleSource [steps.SimpleSourceStep-1675079415807]: 
                  sourceDefinition: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                      - com.twinsoft.convertigo.beans.common.XMLVector: 
                        - java.lang.String: 
                          - ↑value: 1675079415804
                        - java.lang.String: 
                          - ↑value: ./agg_period/text()
                  variableName: currentDate
                ↓getCurrentYear [steps.SimpleStep-1675079415810]: 
                  expression: |
                    var currentYear = currentDate.substring(0, 4)
                    log.warn('labels')
                    log.warn(currentYear)
                ↓jIf [steps.IfStep-1675079415813]: 
                  condition: currentYear == firstYear
                  ↓computeDate [steps.SimpleStep-1675179417222]: 
                    expression: |
                      'var months = {
                      	"01": "Jan",
                      	"02": "Fév",
                      	"03": "Mars",
                      	"04": "Avril",
                      	"05": "Mai",
                      	"06": "Juin",
                      	"07": "Juillet",
                      	"08": "Aout",
                      	"09": "Sept",
                      	"10": "Oct",
                      	"11": "Nov",
                      	"12": "Dec"
                      }
                      
                      var label;
                      if(agg_function_old == "week") {
                      	label = "S" + currentDate.split(''-'')[1] + " " + currentYear
                      } else if(agg_function_old == "year") {
                      	label = currentYear
                      } else {
                      	label = months[currentDate.split(''-'')[1]] + " " + currentYear
                      }
                      '
                  ↓Field [steps.JsonFieldStep-1675079415816]: 
                    value: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                        - SmartType: 
                          - ↑mode: JS
                          - →→: label
            ↓Array [steps.JsonArrayStep-1675079415819]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: datasets
              ↓Object [steps.JsonObjectStep-1675079415822]: 
                comment: Electricité année précédente
                isEnabled: false
                ↓Field [steps.JsonFieldStep-1675079415825]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: label
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: Electricité (année précédente)
                ↓Array [steps.JsonArrayStep-1675079415828]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: data
                  ↓Iterator [steps.IteratorStep-1675079415831]: 
                    sourceDefinition: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1673012654154
                          - java.lang.String: 
                            - ↑value: ./document/sql_output/row
                    ↓jSimpleSource [steps.SimpleSourceStep-1675079415834]: 
                      sourceDefinition: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1675079415831
                            - java.lang.String: 
                              - ↑value: ./agg_period/text()
                      variableName: currentDate
                    ↓getCurrentYear [steps.SimpleStep-1675079415837]: 
                      expression: var currentYear = currentDate.substring(0, 4)
                    ↓jIf [steps.IfStep-1675079415840]: 
                      condition: currentYear == firstYear
                      ↓Field [steps.JsonFieldStep-1675079415843]: 
                        value: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                            - SmartType: 
                              - ↑mode: SOURCE
                              - com.twinsoft.convertigo.beans.common.XMLVector: 
                                - java.lang.String: 
                                  - ↑value: 1673864681056
                                - java.lang.String: 
                                  - ↑value: ./sum_conso_elec/text()
                ↓Field_1 [steps.JsonFieldStep-1675079415846]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: stack
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: Stack 0
                ↓Field_2 [steps.JsonFieldStep-1675079415849]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: backgroundColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgba(50, 193, 113, 0.5)
                ↓Field_3 [steps.JsonFieldStep-1675079415852]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: hoverBackgroundColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgba(50, 193, 113, 0.5)
                ↓Field_4 [steps.JsonFieldStep-1675079415855]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: borderColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgba(50, 193, 113, 0.5)
                ↓Field_5 [steps.JsonFieldStep-1675079415858]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: hoverBorderColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgba(50, 193, 113, 0.5)
              ↓Object1 [steps.JsonObjectStep-1675079415861]: 
                comment: Gaz année précédente
                ↓Field [steps.JsonFieldStep-1675079415864]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: label
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: Gaz (année précédente)
                ↓Array [steps.JsonArrayStep-1675079415867]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: data
                  ↓Iterator [steps.IteratorStep-1675079415870]: 
                    sourceDefinition: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1673012654154
                          - java.lang.String: 
                            - ↑value: ./document/sql_output/row
                    ↓jSimpleSource [steps.SimpleSourceStep-1675079415873]: 
                      sourceDefinition: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1675079415870
                            - java.lang.String: 
                              - ↑value: ./agg_period/text()
                      variableName: currentDate
                    ↓getCurrentYear [steps.SimpleStep-1675079415876]: 
                      expression: var currentYear = currentDate.substring(0, 4)
                    ↓jIf [steps.IfStep-1675079415879]: 
                      condition: currentYear == firstYear
                      ↓Field [steps.JsonFieldStep-1675079415882]: 
                        value: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                            - SmartType: 
                              - ↑mode: SOURCE
                              - com.twinsoft.convertigo.beans.common.XMLVector: 
                                - java.lang.String: 
                                  - ↑value: 1675079415870
                                - java.lang.String: 
                                  - ↑value: ./sum_conso_gaz/text()
                ↓Field_1 [steps.JsonFieldStep-1675079415885]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: stack
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: Stack 0
                ↓Field_2 [steps.JsonFieldStep-1675079415888]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: backgroundColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgba(254, 169, 62, 0.5)
                ↓Field_3 [steps.JsonFieldStep-1675079415891]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: hoverBackgroundColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgba(254, 169, 62, 0.5)
                ↓Field_4 [steps.JsonFieldStep-1675079415894]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: borderColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgba(254, 169, 62, 0.5)
                ↓Field_5 [steps.JsonFieldStep-1675079415897]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: hoverBorderColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgba(254, 169, 62, 0.5)
              ↓Object_1 [steps.JsonObjectStep-1675079415900]: 
                comment: Electricité
                isEnabled: false
                ↓Field [steps.JsonFieldStep-1675079415903]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: label
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: Electricité
                ↓Array [steps.JsonArrayStep-1675079415906]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: data
                  ↓Iterator [steps.IteratorStep-1675079415909]: 
                    sourceDefinition: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1673012654154
                          - java.lang.String: 
                            - ↑value: ./document/sql_output/row
                    ↓jSimpleSource [steps.SimpleSourceStep-1675079415912]: 
                      sourceDefinition: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1675079415909
                            - java.lang.String: 
                              - ↑value: ./agg_period/text()
                      variableName: currentDate
                    ↓getCurrentYear [steps.SimpleStep-1675079415915]: 
                      expression: var currentYear = currentDate.substring(0, 4)
                    ↓jIf [steps.IfStep-1675079415918]: 
                      condition: currentYear != firstYear
                      ↓Field [steps.JsonFieldStep-1675079415921]: 
                        value: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                            - SmartType: 
                              - ↑mode: SOURCE
                              - com.twinsoft.convertigo.beans.common.XMLVector: 
                                - java.lang.String: 
                                  - ↑value: 1673864681134
                                - java.lang.String: 
                                  - ↑value: ./sum_conso_elec/text()
                ↓Field_1 [steps.JsonFieldStep-1675079415924]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: stack
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: Stack 1
                ↓Field_2 [steps.JsonFieldStep-1675079415927]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: backgroundColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgb(50, 193, 113)
                ↓Field_3 [steps.JsonFieldStep-1675079415930]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: hoverBackgroundColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgb(50, 193, 113)
                ↓Field_4 [steps.JsonFieldStep-1675079415933]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: borderColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgb(50, 193, 113)
                ↓Field_5 [steps.JsonFieldStep-1675079415936]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: hoverBorderColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgb(50, 193, 113)
              ↓Object_2 [steps.JsonObjectStep-1675079415939]: 
                comment: Gaz
                ↓Field [steps.JsonFieldStep-1675079415942]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: label
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: Gaz
                ↓Array [steps.JsonArrayStep-1675079415945]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: data
                  ↓Iterator [steps.IteratorStep-1675079415948]: 
                    sourceDefinition: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1673012654154
                          - java.lang.String: 
                            - ↑value: ./document/sql_output/row
                    ↓jSimpleSource [steps.SimpleSourceStep-1675079415951]: 
                      sourceDefinition: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1675079415948
                            - java.lang.String: 
                              - ↑value: ./agg_period/text()
                      variableName: currentDate
                    ↓getCurrentYear [steps.SimpleStep-1675079415954]: 
                      expression: var currentYear = currentDate.substring(0, 4)
                    ↓jIf [steps.IfStep-1675079415957]: 
                      condition: currentYear != firstYear
                      ↓Field [steps.JsonFieldStep-1675079415960]: 
                        value: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                            - SmartType: 
                              - ↑mode: SOURCE
                              - com.twinsoft.convertigo.beans.common.XMLVector: 
                                - java.lang.String: 
                                  - ↑value: 1675079415948
                                - java.lang.String: 
                                  - ↑value: ./sum_conso_gaz/text()
                      ↓jSimpleSource [steps.SimpleSourceStep-1675079415963]: 
                        sourceDefinition: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                            - com.twinsoft.convertigo.beans.common.XMLVector: 
                              - java.lang.String: 
                                - ↑value: 1675079415948
                              - java.lang.String: 
                                - ↑value: ./sum_conso_gaz/text()
                        variableName: gaz
                      ↓addTotal [steps.SimpleStep-1675079415966]: 
                        expression: totalGaz = totalGaz + Number(gaz);
                ↓Field_1 [steps.JsonFieldStep-1675079415969]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: stack
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: Stack 1
                ↓Field_2 [steps.JsonFieldStep-1675079415972]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: backgroundColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgb(254, 169, 62)
                ↓Field_3 [steps.JsonFieldStep-1675079415975]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: hoverBackgroundColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgb(254, 169, 62)
                ↓Field_4 [steps.JsonFieldStep-1675079415978]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: borderColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgb(254, 169, 62)
                ↓Field_5 [steps.JsonFieldStep-1675079415981]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: hoverBorderColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgb(254, 169, 62)
          ↓Object_1 [steps.JsonObjectStep-1675079415984]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: chartOptions
            ↓Object [steps.JsonObjectStep-1675079415987]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: plugins
              ↓Object [steps.JsonObjectStep-1675079415990]: 
                key: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                    - SmartType: 
                      - ↑mode: PLAIN
                      - →→: legend
                ↓Field [steps.JsonFieldStep-1675079415993]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: position
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: bottom
                ↓Field_1 [steps.JsonFieldStep-1675079415996]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: align
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: center
            ↓Object_1 [steps.JsonObjectStep-1675079415999]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: scales
              ↓Object [steps.JsonObjectStep-1675079416002]: 
                key: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                    - SmartType: 
                      - ↑mode: PLAIN
                      - →→: x
                ↓Field [steps.JsonFieldStep-1675079416005]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: stacked
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: true
              ↓Object1 [steps.JsonObjectStep-1675079416008]: 
                key: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                    - SmartType: 
                      - ↑mode: PLAIN
                      - →→: y
                ↓Field [steps.JsonFieldStep-1675079416011]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: stacked
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: true
                ↓Field_1 [steps.JsonFieldStep-1675079416014]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: title
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: MWh
            ↓Field [steps.JsonFieldStep-1675079416017]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: maintainAspectRatio
              type: bool
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: false
            ↓responsive [steps.JsonFieldStep-1675079416020]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: responsive
              type: bool
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: true
          ↓calculTotalAndComputeDate [steps.SimpleStep-1675079416023]: 
            expression: |
              'String.prototype.replaceAll = function(search, replacement) {
                  var target = this;
                  return target.replace(new RegExp(search, ''g''), replacement);
              };
              
              date_start = date_start.replaceAll(''-'', ''/'')
              date_end = date_end.replaceAll(''-'', ''/'')
              var date = date_start + '' - '' + date_end;
              
              totalGaz = Math.round( (totalGaz + Number.EPSILON) * 100) / 100'
          ↓jElement_1 [steps.ElementStep-1675079416026]: 
            expression: date
            nodeName: date
          ↓Field [steps.JsonFieldStep-1675079416029]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: total
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: JS
                  - →→: totalGaz
        ↓jElse [steps.ElseStep-1675079374002]: 
          comment: case monosite
          ↓initTotals [steps.SimpleStep-1675079418608]: 
            expression: |
              var totalGaz = 0;
              var totalElec = 0;
          ↓data [steps.JsonObjectStep-1675079418611]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: data
            ↓labels [steps.JsonArrayStep-1675079418614]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: labels
              ↓Iterator [steps.IteratorStep-1675079418617]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673012654154
                      - java.lang.String: 
                        - ↑value: ./document/sql_output/row
                ↓jSimpleSource [steps.SimpleSourceStep-1675079418620]: 
                  sourceDefinition: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                      - com.twinsoft.convertigo.beans.common.XMLVector: 
                        - java.lang.String: 
                          - ↑value: 1675079418617
                        - java.lang.String: 
                          - ↑value: ./agg_period/text()
                  variableName: currentDate
                ↓getCurrentYear [steps.SimpleStep-1675079418623]: 
                  expression: |
                    var currentYear = currentDate.substring(0, 4)
                    log.warn('labels')
                    log.warn(currentYear)
                ↓jIf [steps.IfStep-1675079418626]: 
                  condition: currentYear == firstYear
                  ↓computeDate [steps.SimpleStep-1675179280501]: 
                    expression: |
                      'var months = {
                      	"01": "Jan",
                      	"02": "Fév",
                      	"03": "Mars",
                      	"04": "Avril",
                      	"05": "Mai",
                      	"06": "Juin",
                      	"07": "Juillet",
                      	"08": "Aout",
                      	"09": "Sept",
                      	"10": "Oct",
                      	"11": "Nov",
                      	"12": "Dec"
                      }
                      
                      var label;
                      if(agg_function_old == "week") {
                      	label = "S" + currentDate.split(''-'')[1] + " " + currentYear
                      } else if(agg_function_old == "year") {
                      	label = currentYear
                      } else {
                      	label = months[currentDate.split(''-'')[1]] + " " + currentYear
                      }
                      '
                  ↓Field [steps.JsonFieldStep-1675079418629]: 
                    value: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                        - SmartType: 
                          - ↑mode: JS
                          - →→: label
            ↓Array [steps.JsonArrayStep-1675079418632]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: datasets
              ↓Object [steps.JsonObjectStep-1675079418635]: 
                comment: Electricité année précédente
                ↓Field [steps.JsonFieldStep-1675079418638]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: label
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: DJU (N-1)
                ↓Array [steps.JsonArrayStep-1675079418641]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: data
                  ↓Iterator [steps.IteratorStep-1675079418644]: 
                    sourceDefinition: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1673012654154
                          - java.lang.String: 
                            - ↑value: ./document/sql_output/row
                    ↓jSimpleSource [steps.SimpleSourceStep-1675079418647]: 
                      sourceDefinition: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1675079418644
                            - java.lang.String: 
                              - ↑value: ./agg_period/text()
                      variableName: currentDate
                    ↓getCurrentYear [steps.SimpleStep-1675079418650]: 
                      expression: var currentYear = currentDate.substring(0, 4)
                    ↓jIf [steps.IfStep-1675079418653]: 
                      condition: currentYear == firstYear
                      ↓Field [steps.JsonFieldStep-1675079418656]: 
                        value: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                            - SmartType: 
                              - ↑mode: SOURCE
                              - com.twinsoft.convertigo.beans.common.XMLVector: 
                                - java.lang.String: 
                                  - ↑value: 1675079418644
                                - java.lang.String: 
                                  - ↑value: ./sum_dju/text()
                ↓Field_1 [steps.JsonFieldStep-1675079418659]: 
                  isEnabled: false
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: stack
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: Stack 0
                ↓Field_2 [steps.JsonFieldStep-1675079418662]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: backgroundColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgba(50, 193, 113, 0.5)
                ↓Field_3 [steps.JsonFieldStep-1675079418665]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: hoverBackgroundColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgba(50, 193, 113, 0.5)
                ↓Field_4 [steps.JsonFieldStep-1675079418668]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: borderColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgba(50, 193, 113, 0.5)
                ↓Field_5 [steps.JsonFieldStep-1675079418671]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: hoverBorderColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgba(50, 193, 113, 0.5)
              ↓Object1 [steps.JsonObjectStep-1675079418674]: 
                comment: Gaz année précédente
                ↓Field [steps.JsonFieldStep-1675079418677]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: label
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: Gaz (année précédente)
                ↓Array [steps.JsonArrayStep-1675079418680]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: data
                  ↓Iterator [steps.IteratorStep-1675079418683]: 
                    sourceDefinition: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1673012654154
                          - java.lang.String: 
                            - ↑value: ./document/sql_output/row
                    ↓jSimpleSource [steps.SimpleSourceStep-1675079418686]: 
                      sourceDefinition: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1675079418683
                            - java.lang.String: 
                              - ↑value: ./agg_period/text()
                      variableName: currentDate
                    ↓getCurrentYear [steps.SimpleStep-1675079418689]: 
                      expression: var currentYear = currentDate.substring(0, 4)
                    ↓jIf [steps.IfStep-1675079418692]: 
                      condition: currentYear == firstYear
                      ↓Field [steps.JsonFieldStep-1675079418695]: 
                        value: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                            - SmartType: 
                              - ↑mode: SOURCE
                              - com.twinsoft.convertigo.beans.common.XMLVector: 
                                - java.lang.String: 
                                  - ↑value: 1675079418683
                                - java.lang.String: 
                                  - ↑value: ./sum_conso_gaz/text()
                ↓Field_1 [steps.JsonFieldStep-1675079418698]: 
                  isEnabled: false
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: stack
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: Stack 0
                ↓Field_2 [steps.JsonFieldStep-1675079418701]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: backgroundColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgba(254, 169, 62, 0.5)
                ↓Field_3 [steps.JsonFieldStep-1675079418704]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: hoverBackgroundColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgba(254, 169, 62, 0.5)
                ↓Field_4 [steps.JsonFieldStep-1675079418707]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: borderColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgba(254, 169, 62, 0.5)
                ↓Field_5 [steps.JsonFieldStep-1675079418710]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: hoverBorderColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgba(254, 169, 62, 0.5)
              ↓Object_1 [steps.JsonObjectStep-1675079418713]: 
                comment: Electricité
                ↓Field [steps.JsonFieldStep-1675079418716]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: label
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: DJU
                ↓Array [steps.JsonArrayStep-1675079418719]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: data
                  ↓Iterator [steps.IteratorStep-1675079418722]: 
                    sourceDefinition: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1673012654154
                          - java.lang.String: 
                            - ↑value: ./document/sql_output/row
                    ↓jSimpleSource [steps.SimpleSourceStep-1675079418725]: 
                      sourceDefinition: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1675079418722
                            - java.lang.String: 
                              - ↑value: ./agg_period/text()
                      variableName: currentDate
                    ↓getCurrentYear [steps.SimpleStep-1675079418728]: 
                      expression: var currentYear = currentDate.substring(0, 4)
                    ↓jIf [steps.IfStep-1675079418731]: 
                      condition: currentYear != firstYear
                      ↓Field [steps.JsonFieldStep-1675079418734]: 
                        value: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                            - SmartType: 
                              - ↑mode: SOURCE
                              - com.twinsoft.convertigo.beans.common.XMLVector: 
                                - java.lang.String: 
                                  - ↑value: 1675079418722
                                - java.lang.String: 
                                  - ↑value: ./sum_dju/text()
                ↓Field_1 [steps.JsonFieldStep-1675079418737]: 
                  isEnabled: false
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: stack
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: Stack 1
                ↓Field_2 [steps.JsonFieldStep-1675079418740]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: backgroundColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgb(50, 193, 113)
                ↓Field_3 [steps.JsonFieldStep-1675079418743]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: hoverBackgroundColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgb(50, 193, 113)
                ↓Field_4 [steps.JsonFieldStep-1675079418746]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: borderColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgb(50, 193, 113)
                ↓Field_5 [steps.JsonFieldStep-1675079418749]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: hoverBorderColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgb(50, 193, 113)
              ↓Object_2 [steps.JsonObjectStep-1675079418752]: 
                comment: Gaz
                ↓Field [steps.JsonFieldStep-1675079418755]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: label
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: Gaz
                ↓Array [steps.JsonArrayStep-1675079418758]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: data
                  ↓Iterator [steps.IteratorStep-1675079418761]: 
                    sourceDefinition: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1673012654154
                          - java.lang.String: 
                            - ↑value: ./document/sql_output/row
                    ↓jSimpleSource [steps.SimpleSourceStep-1675079418764]: 
                      sourceDefinition: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                          - com.twinsoft.convertigo.beans.common.XMLVector: 
                            - java.lang.String: 
                              - ↑value: 1675079418761
                            - java.lang.String: 
                              - ↑value: ./agg_period/text()
                      variableName: currentDate
                    ↓getCurrentYear [steps.SimpleStep-1675079418767]: 
                      expression: var currentYear = currentDate.substring(0, 4)
                    ↓jIf [steps.IfStep-1675079418770]: 
                      condition: currentYear != firstYear
                      ↓Field [steps.JsonFieldStep-1675079418773]: 
                        value: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                            - SmartType: 
                              - ↑mode: SOURCE
                              - com.twinsoft.convertigo.beans.common.XMLVector: 
                                - java.lang.String: 
                                  - ↑value: 1675079418761
                                - java.lang.String: 
                                  - ↑value: ./sum_conso_gaz/text()
                      ↓jSimpleSource [steps.SimpleSourceStep-1675079418776]: 
                        sourceDefinition: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                            - com.twinsoft.convertigo.beans.common.XMLVector: 
                              - java.lang.String: 
                                - ↑value: 1675079418761
                              - java.lang.String: 
                                - ↑value: ./sum_conso_gaz/text()
                        variableName: gaz
                      ↓addTotal [steps.SimpleStep-1675079418779]: 
                        expression: totalGaz = totalGaz + Number(gaz);
                ↓Field_1 [steps.JsonFieldStep-1675079418782]: 
                  isEnabled: false
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: stack
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: Stack 1
                ↓Field_2 [steps.JsonFieldStep-1675079418785]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: backgroundColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgb(254, 169, 62)
                ↓Field_3 [steps.JsonFieldStep-1675079418788]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: hoverBackgroundColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgb(254, 169, 62)
                ↓Field_4 [steps.JsonFieldStep-1675079418791]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: borderColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgb(254, 169, 62)
                ↓Field_5 [steps.JsonFieldStep-1675079418794]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: hoverBorderColor
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: rgb(254, 169, 62)
          ↓Object_1 [steps.JsonObjectStep-1675079418797]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: chartOptions
            ↓Object [steps.JsonObjectStep-1675079418800]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: plugins
              ↓Object [steps.JsonObjectStep-1675079418803]: 
                key: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                    - SmartType: 
                      - ↑mode: PLAIN
                      - →→: legend
                ↓Field [steps.JsonFieldStep-1675079418806]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: position
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: bottom
                ↓Field_1 [steps.JsonFieldStep-1675079418809]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: align
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: center
            ↓Object_1 [steps.JsonObjectStep-1675079418812]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: scales
              ↓Object [steps.JsonObjectStep-1675079418815]: 
                key: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                    - SmartType: 
                      - ↑mode: PLAIN
                      - →→: x
                ↓Field [steps.JsonFieldStep-1675079418818]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: stacked
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: true
              ↓Object1 [steps.JsonObjectStep-1675079418821]: 
                key: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                    - SmartType: 
                      - ↑mode: PLAIN
                      - →→: y
                ↓Field [steps.JsonFieldStep-1675079418824]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: stacked
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: true
                ↓Field_1 [steps.JsonFieldStep-1675079418827]: 
                  key: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: title
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: PLAIN
                        - →→: MWh
            ↓Field [steps.JsonFieldStep-1675079418830]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: maintainAspectRatio
              type: bool
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: false
            ↓responsive [steps.JsonFieldStep-1675079418833]: 
              key: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: responsive
              type: bool
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: PLAIN
                    - →→: true
          ↓calculTotalAndComputeDate [steps.SimpleStep-1675079418836]: 
            expression: |
              'String.prototype.replaceAll = function(search, replacement) {
                  var target = this;
                  return target.replace(new RegExp(search, ''g''), replacement);
              };
              
              date_start = date_start.replaceAll(''-'', ''/'')
              date_end = date_end.replaceAll(''-'', ''/'')
              var date = date_start + '' - '' + date_end;
              
              totalGaz = Math.round( (totalGaz + Number.EPSILON) * 100) / 100'
          ↓jElement_1 [steps.ElementStep-1675079418839]: 
            expression: date
            nodeName: date
          ↓Field [steps.JsonFieldStep-1675079418842]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: total
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: JS
                  - →→: totalGaz
↓data [steps.JsonObjectStep-1673271580179]: 
  isEnabled: false
  key: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
      - SmartType: 
        - ↑mode: PLAIN
        - →→: data
  ↓labels [steps.JsonArrayStep-1673271580182]: 
    key: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: labels
    ↓Iterator [steps.IteratorStep-1673271580185]: 
      sourceDefinition: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
          - com.twinsoft.convertigo.beans.common.XMLVector: 
            - java.lang.String: 
              - ↑value: 1673012654154
            - java.lang.String: 
              - ↑value: ./document/sql_output/row
      ↓jSimpleSource [steps.SimpleSourceStep-1673271580188]: 
        sourceDefinition: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: 1673271580185
              - java.lang.String: 
                - ↑value: ./agg_period/text()
        variableName: currentDate
      ↓getCurrentYear [steps.SimpleStep-1673271580191]: 
        expression: |
          var currentYear = currentDate.substring(0, 4)
          log.warn('labels')
          log.warn(currentYear)
      ↓jIf [steps.IfStep-1673271580194]: 
        condition: currentYear == firstYear
        ↓Field [steps.JsonFieldStep-1673271580197]: 
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: SOURCE
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1673271580185
                  - java.lang.String: 
                    - ↑value: ./agg_period/text()
  ↓Array [steps.JsonArrayStep-1673271580200]: 
    key: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: datasets
    ↓Object [steps.JsonObjectStep-1673271580203]: 
      comment: Electricité année précédente
      ↓Field [steps.JsonFieldStep-1673271580206]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: label
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: Electricité (année précédente)
      ↓Array [steps.JsonArrayStep-1673271580209]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: data
        ↓Iterator [steps.IteratorStep-1673271580212]: 
          sourceDefinition: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: 1673012654154
                - java.lang.String: 
                  - ↑value: ./document/sql_output/row
          ↓jSimpleSource [steps.SimpleSourceStep-1673271580215]: 
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1673271580212
                  - java.lang.String: 
                    - ↑value: ./agg_period/text()
            variableName: currentDate
          ↓getCurrentYear [steps.SimpleStep-1673271580218]: 
            expression: var currentYear = currentDate.substring(0, 4)
          ↓jIf [steps.IfStep-1673271580221]: 
            condition: currentYear == firstYear
            ↓Field [steps.JsonFieldStep-1673271580224]: 
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: SOURCE
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673271580212
                      - java.lang.String: 
                        - ↑value: ./sum_conso_elec/text()
      ↓Field_1 [steps.JsonFieldStep-1673271580227]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: stack
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: Stack 0
      ↓Field_2 [steps.JsonFieldStep-1673271580230]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: backgroundColor
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: rgba(50, 193, 113, 0.5)
      ↓Field_3 [steps.JsonFieldStep-1673271580233]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: hoverBackgroundColor
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: rgba(50, 193, 113, 0.5)
      ↓Field_4 [steps.JsonFieldStep-1673271580236]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: borderColor
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: rgba(50, 193, 113, 0.5)
      ↓Field_5 [steps.JsonFieldStep-1673271580239]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: hoverBorderColor
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: rgba(50, 193, 113, 0.5)
    ↓Object1 [steps.JsonObjectStep-1673271580242]: 
      comment: Gaz année précédente
      ↓Field [steps.JsonFieldStep-1673271580245]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: label
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: Gaz (année précédente)
      ↓Array [steps.JsonArrayStep-1673271580248]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: data
        ↓Iterator [steps.IteratorStep-1673271580251]: 
          sourceDefinition: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: 1673012654154
                - java.lang.String: 
                  - ↑value: ./document/sql_output/row
          ↓jSimpleSource [steps.SimpleSourceStep-1673271580254]: 
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1673271580251
                  - java.lang.String: 
                    - ↑value: ./agg_period/text()
            variableName: currentDate
          ↓getCurrentYear [steps.SimpleStep-1673271580257]: 
            expression: var currentYear = currentDate.substring(0, 4)
          ↓jIf [steps.IfStep-1673271580260]: 
            condition: currentYear == firstYear
            ↓Field [steps.JsonFieldStep-1673271580263]: 
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: SOURCE
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673271580251
                      - java.lang.String: 
                        - ↑value: ./sum_conso_gaz/text()
      ↓Field_1 [steps.JsonFieldStep-1673271580266]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: stack
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: Stack 0
      ↓Field_2 [steps.JsonFieldStep-1673271580269]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: backgroundColor
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: rgba(254, 169, 62, 0.5)
      ↓Field_3 [steps.JsonFieldStep-1673271580272]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: hoverBackgroundColor
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: rgba(254, 169, 62, 0.5)
      ↓Field_4 [steps.JsonFieldStep-1673271580275]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: borderColor
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: rgba(254, 169, 62, 0.5)
      ↓Field_5 [steps.JsonFieldStep-1673271580278]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: hoverBorderColor
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: rgba(254, 169, 62, 0.5)
    ↓Object_1 [steps.JsonObjectStep-1673271580281]: 
      comment: Electricité
      ↓Field [steps.JsonFieldStep-1673271580284]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: label
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: Electricité
      ↓Array [steps.JsonArrayStep-1673271580287]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: data
        ↓Iterator [steps.IteratorStep-1673271580290]: 
          sourceDefinition: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: 1673012654154
                - java.lang.String: 
                  - ↑value: ./document/sql_output/row
          ↓jSimpleSource [steps.SimpleSourceStep-1673271580293]: 
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1673271580290
                  - java.lang.String: 
                    - ↑value: ./agg_period/text()
            variableName: currentDate
          ↓getCurrentYear [steps.SimpleStep-1673271580296]: 
            expression: var currentYear = currentDate.substring(0, 4)
          ↓jIf [steps.IfStep-1673271580299]: 
            condition: currentYear != firstYear
            ↓Field [steps.JsonFieldStep-1673271580302]: 
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: SOURCE
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673271580290
                      - java.lang.String: 
                        - ↑value: ./sum_conso_elec/text()
      ↓Field_1 [steps.JsonFieldStep-1673271580305]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: stack
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: Stack 1
      ↓Field_2 [steps.JsonFieldStep-1673271580308]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: backgroundColor
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: rgb(50, 193, 113)
      ↓Field_3 [steps.JsonFieldStep-1673271580311]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: hoverBackgroundColor
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: rgb(50, 193, 113)
      ↓Field_4 [steps.JsonFieldStep-1673271580314]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: borderColor
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: rgb(50, 193, 113)
      ↓Field_5 [steps.JsonFieldStep-1673271580317]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: hoverBorderColor
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: rgb(50, 193, 113)
    ↓Object_2 [steps.JsonObjectStep-1673271580320]: 
      comment: Gaz
      ↓Field [steps.JsonFieldStep-1673271580323]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: label
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: Gaz
      ↓Array [steps.JsonArrayStep-1673271580326]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: data
        ↓Iterator [steps.IteratorStep-1673271580329]: 
          sourceDefinition: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: 1673012654154
                - java.lang.String: 
                  - ↑value: ./document/sql_output/row
          ↓jSimpleSource [steps.SimpleSourceStep-1673271580332]: 
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1673271580329
                  - java.lang.String: 
                    - ↑value: ./agg_period/text()
            variableName: currentDate
          ↓getCurrentYear [steps.SimpleStep-1673271580335]: 
            expression: var currentYear = currentDate.substring(0, 4)
          ↓jIf [steps.IfStep-1673271580338]: 
            condition: currentYear != firstYear
            ↓Field [steps.JsonFieldStep-1673271580341]: 
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: SOURCE
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673271580329
                      - java.lang.String: 
                        - ↑value: ./sum_conso_gaz/text()
      ↓Field_1 [steps.JsonFieldStep-1673271580344]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: stack
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: Stack 1
      ↓Field_2 [steps.JsonFieldStep-1673271580347]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: backgroundColor
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: rgb(254, 169, 62)
      ↓Field_3 [steps.JsonFieldStep-1673271580350]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: hoverBackgroundColor
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: rgb(254, 169, 62)
      ↓Field_4 [steps.JsonFieldStep-1673271580353]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: borderColor
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: rgb(254, 169, 62)
      ↓Field_5 [steps.JsonFieldStep-1673271580356]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: hoverBorderColor
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: rgb(254, 169, 62)
↓Object_1 [steps.JsonObjectStep-1673271580359]: 
  isEnabled: false
  key: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
      - SmartType: 
        - ↑mode: PLAIN
        - →→: chartOptions
  ↓Object [steps.JsonObjectStep-1673271580362]: 
    key: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: plugins
    ↓Object [steps.JsonObjectStep-1673271580365]: 
      key: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: legend
      ↓Field [steps.JsonFieldStep-1673271580368]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: position
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: bottom
      ↓Field_1 [steps.JsonFieldStep-1673271580371]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: align
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: center
  ↓Object_1 [steps.JsonObjectStep-1673271580374]: 
    key: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: scales
    ↓Object [steps.JsonObjectStep-1673271580377]: 
      key: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: x
      ↓Field [steps.JsonFieldStep-1673271580380]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: stacked
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: true
    ↓Object1 [steps.JsonObjectStep-1673271580383]: 
      key: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: y
      ↓Field [steps.JsonFieldStep-1673271580386]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: stacked
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: true
      ↓Field_1 [steps.JsonFieldStep-1673271580389]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: title
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: MWh
  ↓Field [steps.JsonFieldStep-1673271580392]: 
    key: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: maintainAspectRatio
    type: bool
    value: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: false
  ↓responsive [steps.JsonFieldStep-1673271580395]: 
    key: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: responsive
    type: bool
    value: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: true
↓calculTotalAndComputeDate [steps.SimpleStep-1673271580398]: 
  expression: |
    'String.prototype.replaceAll = function(search, replacement) {
        var target = this;
        return target.replace(new RegExp(search, ''g''), replacement);
    };
    
    date_start = date_start.replaceAll(''-'', ''/'')
    date_end = date_end.replaceAll(''-'', ''/'')
    var date = date_start + '' - '' + date_end;'
  isEnabled: false
↓jElement_1 [steps.ElementStep-1673271580401]: 
  expression: date
  isEnabled: false
  nodeName: date
↓date_start [variables.RequestableVariable-1673012727418]: 
  description: date_start
↓date_end [variables.RequestableVariable-1673012727420]: 
  description: date_end
↓sites [variables.RequestableVariable-1673012727422]: 
↓agg_function [variables.RequestableVariable-1673012727424]: 
↓synthese [variables.RequestableVariable-1673864397326]: 
↓error [core.TestCase]: 
  ↓date_start [variables.TestCaseVariable-1674224092512]: 
    description: date_start
    value: 2022-01-20
  ↓date_end [variables.TestCaseVariable-1674224092514]: 
    description: date_end
    value: 2022-12-31
  ↓sites [variables.TestCaseVariable-1674224092516]: 
    value: '[0]'
  ↓agg_function [variables.TestCaseVariable-1674224092518]: 
    value: month
  ↓synthese [variables.TestCaseVariable-1674224092520]: 
    value: global
↓error2 [core.TestCase]: 
  ↓date_start [variables.TestCaseVariable-1675094407514]: 
    description: date_start
    value: 2022-01-30
  ↓date_end [variables.TestCaseVariable-1675094407516]: 
    description: date_end
    value: 2023-01-30
  ↓sites [variables.TestCaseVariable-1675094407518]: 
    value: '["7639","7642","7632","7633","7634","7635","7636","7637","7731","7634","7639","7654","7655","7656"]'
  ↓agg_function [variables.TestCaseVariable-1675094407520]: 
    value: month
  ↓synthese [variables.TestCaseVariable-1675094407522]: 
    value: global
↓monositeElecDaily [core.TestCase]: 
  ↓date_start [variables.TestCaseVariable-1675073026040]: 
    description: date_start
    value: 2022-01-24
  ↓date_end [variables.TestCaseVariable-1675073026043]: 
    description: date_end
    value: 2023-01-24
  ↓sites [variables.TestCaseVariable-1675073026046]: 
    value: '[7626]'
  ↓agg_function [variables.TestCaseVariable-1675073026049]: 
    value: day
  ↓synthese [variables.TestCaseVariable-1675073026052]: 
    value: elec
↓monositeGaz [core.TestCase]: 
  ↓date_start [variables.TestCaseVariable-1674566660313]: 
    description: date_start
    value: 2022-01-30
  ↓date_end [variables.TestCaseVariable-1674566660315]: 
    description: date_end
    value: 2023-01-30
  ↓sites [variables.TestCaseVariable-1674566660317]: 
    value: '[7626]'
  ↓agg_function [variables.TestCaseVariable-1674566660319]: 
    value: month
  ↓synthese [variables.TestCaseVariable-1674566660321]: 
    value: gaz
↓monositeGlobalDaily [core.TestCase]: 
  ↓date_start [variables.TestCaseVariable-1674573271406]: 
    description: date_start
    value: 2022-01-24
  ↓date_end [variables.TestCaseVariable-1674573271409]: 
    description: date_end
    value: 2023-01-24
  ↓sites [variables.TestCaseVariable-1674573271412]: 
    value: '[7626]'
  ↓agg_function [variables.TestCaseVariable-1674573271415]: 
    value: day
  ↓synthese [variables.TestCaseVariable-1674573271418]: 
    value: global
↓multisiteElec [core.TestCase]: 
  ↓date_start [variables.TestCaseVariable-1673864691345]: 
    description: date_start
    value: 2021-01-01
  ↓date_end [variables.TestCaseVariable-1673864691348]: 
    description: date_end
    value: 2022-12-01
  ↓sites [variables.TestCaseVariable-1673864691351]: 
    value: '[7991, 7626]'
  ↓agg_function [variables.TestCaseVariable-1673864691354]: 
    value: month
  ↓synthese [variables.TestCaseVariable-1673864691357]: 
    value: elec
↓multisiteElecMonth [core.TestCase]: 
  ↓date_start [variables.TestCaseVariable-1675680825160]: 
    description: date_start
    value: 2022-02-06
  ↓date_end [variables.TestCaseVariable-1675680825163]: 
    description: date_end
    value: 2023-02-06
  ↓sites [variables.TestCaseVariable-1675680825166]: 
    value: '[7632,7634,7635,7636,7637,7638,7731]'
  ↓agg_function [variables.TestCaseVariable-1675680825169]: 
    value: month
  ↓synthese [variables.TestCaseVariable-1675680825172]: 
    value: elec
↓multisiteGaz [core.TestCase]: 
  ↓date_start [variables.TestCaseVariable-1673864831973]: 
    description: date_start
    value: 2021-01-01
  ↓date_end [variables.TestCaseVariable-1673864831976]: 
    description: date_end
    value: 2022-12-01
  ↓sites [variables.TestCaseVariable-1673864831979]: 
    value: '[7991, 7626]'
  ↓agg_function [variables.TestCaseVariable-1673864831982]: 
    value: month
  ↓synthese [variables.TestCaseVariable-1673864831985]: 
    value: gaz
↓multisiteGlobal [core.TestCase]: 
  ↓date_start [variables.TestCaseVariable-1673012731999]: 
    description: date_start
    value: 2021-01-01
  ↓date_end [variables.TestCaseVariable-1673012732001]: 
    description: date_end
    value: 2022-12-01
  ↓sites [variables.TestCaseVariable-1673012732003]: 
    value: '[7991, 7626]'
  ↓agg_function [variables.TestCaseVariable-1673012732005]: 
    value: month
  ↓synthese [variables.TestCaseVariable-1673864503643]: 
    value: global
↓multisiteGlobalWeek [core.TestCase]: 
  ↓date_start [variables.TestCaseVariable-1675178522670]: 
    description: date_start
    value: 2021-01-01
  ↓date_end [variables.TestCaseVariable-1675178522673]: 
    description: date_end
    value: 2022-12-01
  ↓sites [variables.TestCaseVariable-1675178522676]: 
    value: '[7991, 7626]'
  ↓agg_function [variables.TestCaseVariable-1675178522679]: 
    value: week
  ↓synthese [variables.TestCaseVariable-1675178522682]: 
    value: global
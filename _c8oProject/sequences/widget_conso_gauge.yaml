↓Input_variables [steps.InputVariablesStep-1673271074779]: 
↓buildAggFunction [steps.SimpleStep-1673271074782]: 
  expression: |
    'if(agg_function == "year") {
    	agg_function = "to_char(rd.ts,''YYYY'')"
    } else if(agg_function == "month") {
    	agg_function = "to_char(rd.ts,''YYYY-MM'')"
    } else if(agg_function == "week") {
    	agg_function = "to_char(rd.ts,''YYYY-WW'')"
    } else if(agg_function == "day") {
    	agg_function = "to_char(rd.ts,''YYYY-MM-DD'')"
    }
    log.warn(agg_function)'
↓buildCastStrings [steps.SimpleStep-1673271074785]: 
  expression: |
    'sites = JSON.parse(sites)
    var string = "";
    for(var i = 0; i < sites.length; i++) {
    	string = string + "CAST(''"+sites[i]+"'' AS BIGINT)" + ((i != sites.length - 1) ? ", " : "")
    }
    
    log.warn(string)'
↓jElement [steps.ElementStep-1673271074788]: 
  expression: string
  nodeName: sites
  output: false
↓jSimpleSource_1 [steps.SimpleSourceStep-1673865516997]: 
  sourceDefinition: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
      - com.twinsoft.convertigo.beans.common.XMLVector: 
        - java.lang.String: 
          - ↑value: 1673271074779
        - java.lang.String: 
          - ↑value: ./synthese/text()
  variableName: synthese
↓Call_Transaction [steps.TransactionStep-1673271074791]: 
  sourceTransaction: poc_energisme.postgreSQL.widget_conso
  ↓date_start [variables.StepVariable-1673271074794]: 
    description: date_start
  ↓date_end [variables.StepVariable-1673271074797]: 
    description: date_end
  ↓sites [variables.StepVariable-1673271074800]: 
  ↓agg_function [variables.StepVariable-1673271074803]: 
↓jSimpleSource_2 [steps.SimpleSourceStep-1674227141967]: 
  sourceDefinition: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
      - com.twinsoft.convertigo.beans.common.XMLVector: 
        - java.lang.String: 
          - ↑value: 1673271074791
        - java.lang.String: 
          - ↑value: ./document/sql_output
  variableName: length
↓jIfThenElse [steps.IfThenElseStep-1673271074812]: 
  condition: chartType == "bar"
  isEnabled: false
  ↓jThen [steps.ThenStep-1673271074815]: 
    ↓Field [steps.JsonFieldStep-1673271074818]: 
      key: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: chartType
      value: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: SOURCE
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: 1673013038503
              - java.lang.String: 
                - ↑value: ./chartType/text()
    ↓data [steps.JsonObjectStep-1673271074821]: 
      key: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: data
      ↓labels [steps.JsonArrayStep-1673271074824]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: labels
        ↓Iterator [steps.IteratorStep-1673271074827]: 
          sourceDefinition: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: 1673271074791
                - java.lang.String: 
                  - ↑value: ./document/sql_output/row
          ↓jSimpleSource [steps.SimpleSourceStep-1673271074830]: 
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1673271074827
                  - java.lang.String: 
                    - ↑value: ./agg_period/text()
            variableName: currentDate
          ↓getCurrentYear [steps.SimpleStep-1673271074833]: 
            expression: |
              var currentYear = currentDate.substring(0, 4)
              log.warn('labels')
              log.warn(currentYear)
          ↓jIf [steps.IfStep-1673271074836]: 
            condition: currentYear == firstYear
            ↓Field [steps.JsonFieldStep-1673271074839]: 
              value: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                  - SmartType: 
                    - ↑mode: SOURCE
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673020376655
                      - java.lang.String: 
                        - ↑value: ./agg_period/text()
      ↓Array [steps.JsonArrayStep-1673271074842]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: datasets
        ↓Object [steps.JsonObjectStep-1673271074845]: 
          comment: Electricité année précédente
          ↓Field [steps.JsonFieldStep-1673271074848]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: label
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: Electricité (année précédente)
          ↓Array [steps.JsonArrayStep-1673271074851]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: data
            ↓Iterator [steps.IteratorStep-1673271074854]: 
              sourceDefinition: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                  - com.twinsoft.convertigo.beans.common.XMLVector: 
                    - java.lang.String: 
                      - ↑value: 1673271074791
                    - java.lang.String: 
                      - ↑value: ./document/sql_output/row
              ↓jSimpleSource [steps.SimpleSourceStep-1673271074857]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673271074854
                      - java.lang.String: 
                        - ↑value: ./agg_period/text()
                variableName: currentDate
              ↓getCurrentYear [steps.SimpleStep-1673271074860]: 
                expression: var currentYear = currentDate.substring(0, 4)
              ↓jIf [steps.IfStep-1673271074863]: 
                condition: currentYear == firstYear
                ↓Field [steps.JsonFieldStep-1673271074866]: 
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: SOURCE
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1673020477582
                          - java.lang.String: 
                            - ↑value: ./sum_conso_elec/text()
          ↓Field_1 [steps.JsonFieldStep-1673271074869]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: stack
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: Stack 0
          ↓Field_2 [steps.JsonFieldStep-1673271074872]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: backgroundColor
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgba(50, 193, 113, 0.5)
          ↓Field_3 [steps.JsonFieldStep-1673271074875]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: hoverBackgroundColor
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgba(50, 193, 113, 0.5)
          ↓Field_4 [steps.JsonFieldStep-1673271074878]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: borderColor
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgba(50, 193, 113, 0.5)
          ↓Field_5 [steps.JsonFieldStep-1673271074881]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: hoverBorderColor
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgba(50, 193, 113, 0.5)
        ↓Object1 [steps.JsonObjectStep-1673271074884]: 
          comment: Gaz année précédente
          ↓Field [steps.JsonFieldStep-1673271074887]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: label
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: Gaz (année précédente)
          ↓Array [steps.JsonArrayStep-1673271074890]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: data
            ↓Iterator [steps.IteratorStep-1673271074893]: 
              sourceDefinition: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                  - com.twinsoft.convertigo.beans.common.XMLVector: 
                    - java.lang.String: 
                      - ↑value: 1673271074791
                    - java.lang.String: 
                      - ↑value: ./document/sql_output/row
              ↓jSimpleSource [steps.SimpleSourceStep-1673271074896]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673271074893
                      - java.lang.String: 
                        - ↑value: ./agg_period/text()
                variableName: currentDate
              ↓getCurrentYear [steps.SimpleStep-1673271074899]: 
                expression: var currentYear = currentDate.substring(0, 4)
              ↓jIf [steps.IfStep-1673271074902]: 
                condition: currentYear == firstYear
                ↓Field [steps.JsonFieldStep-1673271074905]: 
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: SOURCE
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1673020477621
                          - java.lang.String: 
                            - ↑value: ./sum_conso_gaz/text()
          ↓Field_1 [steps.JsonFieldStep-1673271074908]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: stack
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: Stack 0
          ↓Field_2 [steps.JsonFieldStep-1673271074911]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: backgroundColor
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgba(254, 169, 62, 0.5)
          ↓Field_3 [steps.JsonFieldStep-1673271074914]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: hoverBackgroundColor
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgba(254, 169, 62, 0.5)
          ↓Field_4 [steps.JsonFieldStep-1673271074917]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: borderColor
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgba(254, 169, 62, 0.5)
          ↓Field_5 [steps.JsonFieldStep-1673271074920]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: hoverBorderColor
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgba(254, 169, 62, 0.5)
        ↓Object_1 [steps.JsonObjectStep-1673271074923]: 
          comment: Electricité
          ↓Field [steps.JsonFieldStep-1673271074926]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: label
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: Electricité
          ↓Array [steps.JsonArrayStep-1673271074929]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: data
            ↓Iterator [steps.IteratorStep-1673271074932]: 
              sourceDefinition: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                  - com.twinsoft.convertigo.beans.common.XMLVector: 
                    - java.lang.String: 
                      - ↑value: 1673271074791
                    - java.lang.String: 
                      - ↑value: ./document/sql_output/row
              ↓jSimpleSource [steps.SimpleSourceStep-1673271074935]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673271074932
                      - java.lang.String: 
                        - ↑value: ./agg_period/text()
                variableName: currentDate
              ↓getCurrentYear [steps.SimpleStep-1673271074938]: 
                expression: var currentYear = currentDate.substring(0, 4)
              ↓jIf [steps.IfStep-1673271074941]: 
                condition: currentYear != firstYear
                ↓Field [steps.JsonFieldStep-1673271074944]: 
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: SOURCE
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1673020477660
                          - java.lang.String: 
                            - ↑value: ./sum_conso_elec/text()
          ↓Field_1 [steps.JsonFieldStep-1673271074947]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: stack
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: Stack 1
          ↓Field_2 [steps.JsonFieldStep-1673271074950]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: backgroundColor
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(50, 193, 113)
          ↓Field_3 [steps.JsonFieldStep-1673271074953]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: hoverBackgroundColor
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(50, 193, 113)
          ↓Field_4 [steps.JsonFieldStep-1673271074956]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: borderColor
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(50, 193, 113)
          ↓Field_5 [steps.JsonFieldStep-1673271074959]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: hoverBorderColor
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(50, 193, 113)
        ↓Object_2 [steps.JsonObjectStep-1673271074962]: 
          comment: Gaz
          ↓Field [steps.JsonFieldStep-1673271074965]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: label
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: Gaz
          ↓Array [steps.JsonArrayStep-1673271074968]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: data
            ↓Iterator [steps.IteratorStep-1673271074971]: 
              sourceDefinition: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                  - com.twinsoft.convertigo.beans.common.XMLVector: 
                    - java.lang.String: 
                      - ↑value: 1673271074791
                    - java.lang.String: 
                      - ↑value: ./document/sql_output/row
              ↓jSimpleSource [steps.SimpleSourceStep-1673271074974]: 
                sourceDefinition: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: 1673271074971
                      - java.lang.String: 
                        - ↑value: ./agg_period/text()
                variableName: currentDate
              ↓getCurrentYear [steps.SimpleStep-1673271074977]: 
                expression: var currentYear = currentDate.substring(0, 4)
              ↓jIf [steps.IfStep-1673271074980]: 
                condition: currentYear != firstYear
                ↓Field [steps.JsonFieldStep-1673271074983]: 
                  value: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                      - SmartType: 
                        - ↑mode: SOURCE
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1673020477699
                          - java.lang.String: 
                            - ↑value: ./sum_conso_gaz/text()
          ↓Field_1 [steps.JsonFieldStep-1673271074986]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: stack
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: Stack 1
          ↓Field_2 [steps.JsonFieldStep-1673271074989]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: backgroundColor
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(254, 169, 62)
          ↓Field_3 [steps.JsonFieldStep-1673271074992]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: hoverBackgroundColor
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(254, 169, 62)
          ↓Field_4 [steps.JsonFieldStep-1673271074995]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: borderColor
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(254, 169, 62)
          ↓Field_5 [steps.JsonFieldStep-1673271074998]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: hoverBorderColor
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(254, 169, 62)
    ↓Object_1 [steps.JsonObjectStep-1673271075001]: 
      key: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: chartOptions
      ↓Object [steps.JsonObjectStep-1673271075004]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: plugins
        ↓Object [steps.JsonObjectStep-1673271075007]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: legend
          ↓Field [steps.JsonFieldStep-1673271075010]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: position
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: bottom
          ↓Field_1 [steps.JsonFieldStep-1673271075013]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: align
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: center
      ↓Object_1 [steps.JsonObjectStep-1673271075016]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: scales
        ↓Object [steps.JsonObjectStep-1673271075019]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: x
          ↓Field [steps.JsonFieldStep-1673271075022]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: stacked
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: true
        ↓Object1 [steps.JsonObjectStep-1673271075025]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: y
          ↓Field [steps.JsonFieldStep-1673271075028]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: stacked
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: true
          ↓Field_1 [steps.JsonFieldStep-1673271075031]: 
            key: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: title
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: MWh
      ↓Field [steps.JsonFieldStep-1673271075034]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: maintainAspectRatio
        type: bool
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: false
      ↓responsive [steps.JsonFieldStep-1673271075037]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: responsive
        type: bool
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: true
    ↓calculTotalAndComputeDate [steps.SimpleStep-1673271075040]: 
      expression: |
        'String.prototype.replaceAll = function(search, replacement) {
            var target = this;
            return target.replace(new RegExp(search, ''g''), replacement);
        };
        
        date_start = date_start.replaceAll(''-'', ''/'')
        date_end = date_end.replaceAll(''-'', ''/'')
        var date = date_start + '' - '' + date_end;'
    ↓jElement_1 [steps.ElementStep-1673271075043]: 
      expression: date
      nodeName: date
  ↓jElse [steps.ElseStep-1673271075046]: 
↓initTotals [steps.SimpleStep-1673271075052]: 
  expression: |
    var conso_total_current_year = 0;
    var conso_total_last_year = 0;
  isEnabled: false
↓Iterator [steps.IteratorStep-1673271075055]: 
  isEnabled: false
  sourceDefinition: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
      - com.twinsoft.convertigo.beans.common.XMLVector: 
        - java.lang.String: 
          - ↑value: 1673271074791
        - java.lang.String: 
          - ↑value: ./document/sql_output/row
  ↓jSimpleSource [steps.SimpleSourceStep-1673271075058]: 
    sourceDefinition: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
        - com.twinsoft.convertigo.beans.common.XMLVector: 
          - java.lang.String: 
            - ↑value: 1673271075055
          - java.lang.String: 
            - ↑value: ./agg_period/text()
    variableName: currentDate
  ↓getCurrentYear [steps.SimpleStep-1673271075061]: 
    expression: |
      var currentYear = currentDate.substring(0, 4)
      log.warn('labels')
      log.warn(currentYear)
  ↓jIfThenElse [steps.IfThenElseStep-1673271075064]: 
    condition: currentYear == firstYear
    ↓jThen [steps.ThenStep-1673271075067]: 
      ↓jSimpleSource [steps.SimpleSourceStep-1673271075070]: 
        sourceDefinition: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: 1673271075055
              - java.lang.String: 
                - ↑value: ./sum_conso_elec/text()
        variableName: conso
      ↓addTotal [steps.SimpleStep-1673271075073]: 
        expression: |
          conso_total_current_year = conso_total_current_year + parseInt(conso);
          log.warn(conso_total_current_year)
    ↓jElse [steps.ElseStep-1673271075076]: 
      ↓jSimpleSource [steps.SimpleSourceStep-1673271075079]: 
        sourceDefinition: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: 1673271075055
              - java.lang.String: 
                - ↑value: ./sum_conso_elec/text()
        variableName: conso
      ↓addTotal [steps.SimpleStep-1673271075082]: 
        expression: |
          conso_total_last_year = conso_total_last_year + parseInt(conso);
          log.warn("lastyear total")
          log.warn(conso_total_last_year)
↓calculAugmentation [steps.SimpleStep-1673271075085]: 
  expression: |
    var augmentation = Math.round( ((conso_total_current_year - conso_total_last_year) / conso_total_last_year * 100) * 100) / 100
    log.warn("augmentation")
    log.warn(augmentation)
  isEnabled: false
↓needleValue [steps.JsonFieldStep-1673271075088]: 
  isEnabled: false
  key: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
      - SmartType: 
        - ↑mode: PLAIN
        - →→: needleValue
  value: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
      - SmartType: 
        - ↑mode: JS
        - →→: augmentation
↓computeBottomLabel [steps.SimpleStep-1673271075091]: 
  expression: |
    'augmentation = ""+augmentation
    log.warn(''aug'')
    log.warn(augmentation)
    if(augmentation.indexOf(''-'') != - 1 ) {
    	var splt = augmentation.split(",");
    	log.warn("splt")
    	log.warn(splt)
    	augmentation = "-" + splt[0] + "%"
    } else {
    	augmentation = "+ " + augmentation + "%"
    }'
  isEnabled: false
↓bottomLabel [steps.JsonFieldStep-1673271075094]: 
  isEnabled: false
  key: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
      - SmartType: 
        - ↑mode: PLAIN
        - →→: bottomLabel
  value: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
      - SmartType: 
        - ↑mode: JS
        - →→: augmentation
↓options [steps.JsonObjectStep-1673271075097]: 
  isEnabled: false
  key: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
      - SmartType: 
        - ↑mode: PLAIN
        - →→: options
  ↓hasNeeldle [steps.JsonFieldStep-1673271075100]: 
    key: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: hasNeedle
    type: bool
    value: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: true
  ↓needleColor [steps.JsonFieldStep-1673271075103]: 
    key: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: needleColor
    value: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: lightgrey
  ↓hasNeeldle2 [steps.JsonFieldStep-1673271075106]: 
    key: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: needleUpdateSpeed
    type: number
    value: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: 1000
  ↓arcColors [steps.JsonArrayStep-1673271075109]: 
    key: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: arcColors
    ↓Field [steps.JsonFieldStep-1673271075112]: 
      value: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: rgb(6, 89, 55)
    ↓Field1 [steps.JsonFieldStep-1673271075115]: 
      value: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: rgb(15, 170, 108)
    ↓Field2 [steps.JsonFieldStep-1673271075118]: 
      value: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: rgb(139, 207, 39)
    ↓Field3 [steps.JsonFieldStep-1673271075121]: 
      value: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: rgb(248, 199, 0)
    ↓Field4 [steps.JsonFieldStep-1673271075124]: 
      value: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: rgb(235, 65, 70)
  ↓arcDelimiters [steps.JsonArrayStep-1673271075127]: 
    key: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: arcDelimiters
    ↓Field4 [steps.JsonFieldStep-1673271075130]: 
      type: number
      value: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: 20
    ↓Field5 [steps.JsonFieldStep-1673271075133]: 
      type: number
      value: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: 40
    ↓Field6 [steps.JsonFieldStep-1673271075136]: 
      type: number
      value: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: 60
    ↓Field7 [steps.JsonFieldStep-1673271075139]: 
      type: number
      value: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: 80
  ↓rangeLabel [steps.JsonArrayStep-1673271075142]: 
    key: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: rangeLabel
    ↓Field4 [steps.JsonFieldStep-1673271075145]: 
      value: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: '-20'
    ↓Field5 [steps.JsonFieldStep-1673271075148]: 
      value: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: 5
  ↓needleStartValue [steps.JsonFieldStep-1673271075151]: 
    isEnabled: false
    key: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: needleStartValue
    type: number
    value: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
        - SmartType: 
          - ↑mode: PLAIN
          - →→: 20
↓lastTotal [steps.JsonFieldStep-1673272237502]: 
  isEnabled: false
  key: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
      - SmartType: 
        - ↑mode: PLAIN
        - →→: lastTotal
  type: number
  value: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
      - SmartType: 
        - ↑mode: JS
        - →→: conso_total_last_year
↓lastTotal1 [steps.JsonFieldStep-1673272278694]: 
  isEnabled: false
  key: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
      - SmartType: 
        - ↑mode: PLAIN
        - →→: currentTotal
  type: number
  value: 
    - xmlizable: 
      - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
      - SmartType: 
        - ↑mode: JS
        - →→: conso_total_current_year
↓jIfThenElse_1 [steps.IfThenElseStep-1674227162995]: 
  condition: length.length == 0
  ↓jThen [steps.ThenStep-1674227163480]: 
    ↓Error_structure [steps.XMLErrorStep-1674227181987]: 
      message: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: Manque de donnée
    ↓calculTotalAndComputeDate [steps.SimpleStep-1674228748273]: 
      expression: |
        'String.prototype.replaceAll = function(search, replacement) {
            var target = this;
            return target.replace(new RegExp(search, ''g''), replacement);
        };
        
        date_start = date_start.replaceAll(''-'', ''/'')
        date_end = date_end.replaceAll(''-'', ''/'')
        var date = date_start + '' - '' + date_end;'
    ↓jElement_1 [steps.ElementStep-1674228748276]: 
      expression: date
      nodeName: date
    ↓Field [steps.JsonFieldStep-1674229675033]: 
      key: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: total
  ↓jElse [steps.ElseStep-1674227163482]: 
    ↓jSimpleSource [steps.SimpleSourceStep-1673271074806]: 
      sourceDefinition: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
          - com.twinsoft.convertigo.beans.common.XMLVector: 
            - java.lang.String: 
              - ↑value: 1673271074791
            - java.lang.String: 
              - ↑value: ./document/sql_output/row[1]/agg_period/text()
      variableName: firstDate
    ↓getFirstYear [steps.SimpleStep-1673271074809]: 
      expression: |
        var firstYear = firstDate.substring(0, 4)
        log.warn('firstYear')
        log.warn(firstYear)
    ↓Field [steps.JsonFieldStep-1673271075049]: 
      key: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: chartType
      value: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
          - SmartType: 
            - ↑mode: PLAIN
            - →→: gauge
    ↓jIf [steps.IfStep-1673865531882]: 
      condition: synthese == 'global'
      ↓initTotals [steps.SimpleStep-1673867674508]: 
        expression: |
          var conso_total_current_year = 0;
          var conso_total_last_year = 0;
      ↓Iterator [steps.IteratorStep-1673865554966]: 
        sourceDefinition: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: 1673271074791
              - java.lang.String: 
                - ↑value: ./document/sql_output/row
        ↓jSimpleSource [steps.SimpleSourceStep-1673865554969]: 
          sourceDefinition: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: 1673865554966
                - java.lang.String: 
                  - ↑value: ./agg_period/text()
          variableName: currentDate
        ↓getCurrentYear [steps.SimpleStep-1673865554972]: 
          expression: |
            var currentYear = currentDate.substring(0, 4)
            log.warn('labels')
            log.warn(currentYear)
        ↓jIfThenElse [steps.IfThenElseStep-1673865554975]: 
          condition: currentYear == firstYear
          ↓jThen [steps.ThenStep-1673865554978]: 
            ↓jSimpleSource [steps.SimpleSourceStep-1673865554981]: 
              sourceDefinition: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                  - com.twinsoft.convertigo.beans.common.XMLVector: 
                    - java.lang.String: 
                      - ↑value: 1673865554966
                    - java.lang.String: 
                      - ↑value: ./sum_conso_elec/text()
              variableName: consoElec
            ↓jSimpleSource_1 [steps.SimpleSourceStep-1673866641684]: 
              sourceDefinition: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                  - com.twinsoft.convertigo.beans.common.XMLVector: 
                    - java.lang.String: 
                      - ↑value: 1673865554966
                    - java.lang.String: 
                      - ↑value: ./sum_conso_gaz/text()
              variableName: consoGaz
            ↓addTotal [steps.SimpleStep-1673865554984]: 
              expression: |
                conso_total_current_year = conso_total_current_year + Number(consoElec) + Number(consoGaz);
                log.warn(conso_total_current_year)
                log.warn("currentYear gaz and Elec")
                log.warn(consoGaz)
                log.warn(consoElec)
          ↓jElse [steps.ElseStep-1673865554987]: 
            ↓jSimpleSource [steps.SimpleSourceStep-1673865554990]: 
              sourceDefinition: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                  - com.twinsoft.convertigo.beans.common.XMLVector: 
                    - java.lang.String: 
                      - ↑value: 1673865554966
                    - java.lang.String: 
                      - ↑value: ./sum_conso_elec/text()
              variableName: consoElec
            ↓jSimpleSource_1 [steps.SimpleSourceStep-1673866694545]: 
              sourceDefinition: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                  - com.twinsoft.convertigo.beans.common.XMLVector: 
                    - java.lang.String: 
                      - ↑value: 1673865554966
                    - java.lang.String: 
                      - ↑value: ./sum_conso_gaz/text()
              variableName: consoGaz
            ↓addTotal [steps.SimpleStep-1673865554993]: 
              expression: |
                conso_total_last_year = conso_total_last_year + Number(consoElec) + Number(consoGaz);
                log.warn("lastyear total")
                log.warn(conso_total_last_year)
                log.warn("lasttYear gaz and Elec")
                log.warn(consoGaz)
                log.warn(consoElec)
      ↓calculAugmentation [steps.SimpleStep-1673865554996]: 
        expression: |
          var augmentation = Math.round( ((conso_total_current_year - conso_total_last_year) / conso_total_last_year * 100) * 100) / 100
          log.warn("augmentation")
          log.warn(augmentation)
      ↓needleValue [steps.JsonFieldStep-1673865554999]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: needleValue
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: JS
              - →→: augmentation
      ↓computeBottomLabel [steps.SimpleStep-1673865555002]: 
        expression: |
          'augmentation = ""+augmentation
          log.warn(''aug'')
          log.warn(augmentation)
          if(augmentation.indexOf(''-'') != - 1 ) {
          	var splt = augmentation.split(",");
          	log.warn("splt")
          	log.warn(splt)
          	augmentation = "-" + splt[0] + "%"
          } else {
          	augmentation = "+ " + augmentation + "%"
          }'
      ↓bottomLabel [steps.JsonFieldStep-1673865555005]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: bottomLabel
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: JS
              - →→: augmentation
      ↓options [steps.JsonObjectStep-1673865555008]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: options
        ↓hasNeeldle [steps.JsonFieldStep-1673865555011]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: hasNeedle
          type: bool
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: true
        ↓needleColor [steps.JsonFieldStep-1673865555014]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: needleColor
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: lightgrey
        ↓hasNeeldle2 [steps.JsonFieldStep-1673865555017]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: needleUpdateSpeed
          type: number
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: 1000
        ↓arcColors [steps.JsonArrayStep-1673865555020]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: arcColors
          ↓Field [steps.JsonFieldStep-1673865555023]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(6, 89, 55)
          ↓Field1 [steps.JsonFieldStep-1673865555026]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(15, 170, 108)
          ↓Field2 [steps.JsonFieldStep-1673865555029]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(139, 207, 39)
          ↓Field3 [steps.JsonFieldStep-1673865555032]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(248, 199, 0)
          ↓Field4 [steps.JsonFieldStep-1673865555035]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(235, 65, 70)
        ↓arcDelimiters [steps.JsonArrayStep-1673865555038]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: arcDelimiters
          ↓Field4 [steps.JsonFieldStep-1673865555041]: 
            type: number
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: 20
          ↓Field5 [steps.JsonFieldStep-1673865555044]: 
            type: number
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: 40
          ↓Field6 [steps.JsonFieldStep-1673865555047]: 
            type: number
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: 60
          ↓Field7 [steps.JsonFieldStep-1673865555050]: 
            type: number
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: 80
        ↓rangeLabel [steps.JsonArrayStep-1673865555053]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: rangeLabel
          ↓Field4 [steps.JsonFieldStep-1673865555056]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: '-20'
          ↓Field5 [steps.JsonFieldStep-1673865555059]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: 5
        ↓needleStartValue [steps.JsonFieldStep-1673865555062]: 
          isEnabled: false
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: needleStartValue
          type: number
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: 20
      ↓roundTotals [steps.SimpleStep-1675086411157]: 
        expression: |
          conso_total_last_year = Math.round( (conso_total_last_year + Number.EPSILON) * 100) / 100
          conso_total_current_year = Math.round( (conso_total_current_year + Number.EPSILON) * 100) / 100
      ↓lastTotal [steps.JsonFieldStep-1673865555065]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: lastTotal
        type: number
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: JS
              - →→: conso_total_last_year
      ↓lastTotal1 [steps.JsonFieldStep-1673865555068]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: currentTotal
        type: number
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: JS
              - →→: conso_total_current_year
      ↓calculTotalAndComputeDate [steps.SimpleStep-1674229586199]: 
        expression: |
          'String.prototype.replaceAll = function(search, replacement) {
              var target = this;
              return target.replace(new RegExp(search, ''g''), replacement);
          };
          
          date_start = date_start.replaceAll(''-'', ''/'')
          date_end = date_end.replaceAll(''-'', ''/'')
          var date = date_start + '' - '' + date_end;'
      ↓jElement_1 [steps.ElementStep-1674229586202]: 
        expression: date
        nodeName: date
      ↓Field [steps.JsonFieldStep-1674229684996]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: total
    ↓jIf_1 [steps.IfStep-1673865659543]: 
      condition: synthese == 'elec'
      ↓initTotals [steps.SimpleStep-1673867682207]: 
        expression: |
          var conso_total_current_year = 0;
          var conso_total_last_year = 0;
      ↓Iterator [steps.IteratorStep-1673866491372]: 
        sourceDefinition: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: 1673271074791
              - java.lang.String: 
                - ↑value: ./document/sql_output/row
        ↓jSimpleSource [steps.SimpleSourceStep-1673866491375]: 
          sourceDefinition: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: 1673866491372
                - java.lang.String: 
                  - ↑value: ./agg_period/text()
          variableName: currentDate
        ↓getCurrentYear [steps.SimpleStep-1673866491378]: 
          expression: |
            var currentYear = currentDate.substring(0, 4)
            log.warn('labels')
            log.warn(currentYear)
        ↓jIfThenElse [steps.IfThenElseStep-1673866491381]: 
          condition: currentYear == firstYear
          ↓jThen [steps.ThenStep-1673866491384]: 
            ↓jSimpleSource [steps.SimpleSourceStep-1673866491387]: 
              sourceDefinition: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                  - com.twinsoft.convertigo.beans.common.XMLVector: 
                    - java.lang.String: 
                      - ↑value: 1673866491372
                    - java.lang.String: 
                      - ↑value: ./sum_conso_elec/text()
              variableName: conso
            ↓addTotal [steps.SimpleStep-1673866491390]: 
              expression: |
                conso_total_current_year = conso_total_current_year + Number(conso);
                log.warn(conso_total_current_year)
          ↓jElse [steps.ElseStep-1673866491393]: 
            ↓jSimpleSource [steps.SimpleSourceStep-1673866491396]: 
              sourceDefinition: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                  - com.twinsoft.convertigo.beans.common.XMLVector: 
                    - java.lang.String: 
                      - ↑value: 1673866491372
                    - java.lang.String: 
                      - ↑value: ./sum_conso_elec/text()
              variableName: conso
            ↓addTotal [steps.SimpleStep-1673866491399]: 
              expression: |
                conso_total_last_year = conso_total_last_year + Number(conso);
                log.warn("lastyear total")
                log.warn(conso_total_last_year)
      ↓calculAugmentation [steps.SimpleStep-1673867319105]: 
        expression: |
          var augmentation = Math.round( ((conso_total_current_year - conso_total_last_year) / conso_total_last_year * 100) * 100) / 100
          log.warn("augmentation")
          log.warn(augmentation)
      ↓needleValue [steps.JsonFieldStep-1673867319108]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: needleValue
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: JS
              - →→: augmentation
      ↓computeBottomLabel [steps.SimpleStep-1673867319111]: 
        expression: |
          'augmentation = ""+augmentation
          log.warn(''aug'')
          log.warn(augmentation)
          if(augmentation.indexOf(''-'') != - 1 ) {
          	var splt = augmentation.split(",");
          	log.warn("splt")
          	log.warn(splt)
          	augmentation = "-" + splt[0] + "%"
          } else {
          	augmentation = "+ " + augmentation + "%"
          }'
      ↓bottomLabel [steps.JsonFieldStep-1673867319114]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: bottomLabel
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: JS
              - →→: augmentation
      ↓options [steps.JsonObjectStep-1673867319117]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: options
        ↓hasNeeldle [steps.JsonFieldStep-1673867319120]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: hasNeedle
          type: bool
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: true
        ↓needleColor [steps.JsonFieldStep-1673867319123]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: needleColor
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: lightgrey
        ↓hasNeeldle2 [steps.JsonFieldStep-1673867319126]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: needleUpdateSpeed
          type: number
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: 1000
        ↓arcColors [steps.JsonArrayStep-1673867319129]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: arcColors
          ↓Field [steps.JsonFieldStep-1673867319132]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(6, 89, 55)
          ↓Field1 [steps.JsonFieldStep-1673867319135]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(15, 170, 108)
          ↓Field2 [steps.JsonFieldStep-1673867319138]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(139, 207, 39)
          ↓Field3 [steps.JsonFieldStep-1673867319141]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(248, 199, 0)
          ↓Field4 [steps.JsonFieldStep-1673867319144]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(235, 65, 70)
        ↓arcDelimiters [steps.JsonArrayStep-1673867319147]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: arcDelimiters
          ↓Field4 [steps.JsonFieldStep-1673867319150]: 
            type: number
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: 20
          ↓Field5 [steps.JsonFieldStep-1673867319153]: 
            type: number
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: 40
          ↓Field6 [steps.JsonFieldStep-1673867319156]: 
            type: number
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: 60
          ↓Field7 [steps.JsonFieldStep-1673867319159]: 
            type: number
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: 80
        ↓rangeLabel [steps.JsonArrayStep-1673867319162]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: rangeLabel
          ↓Field4 [steps.JsonFieldStep-1673867319165]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: '-20'
          ↓Field5 [steps.JsonFieldStep-1673867319168]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: 5
        ↓needleStartValue [steps.JsonFieldStep-1673867319171]: 
          isEnabled: false
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: needleStartValue
          type: number
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: 20
      ↓roundTotals [steps.SimpleStep-1675086498854]: 
        expression: |
          conso_total_last_year = Math.round( (conso_total_last_year + Number.EPSILON) * 100) / 100
          conso_total_current_year = Math.round( (conso_total_current_year + Number.EPSILON) * 100) / 100
      ↓lastTotal [steps.JsonFieldStep-1673867319174]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: lastTotal
        type: number
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: JS
              - →→: conso_total_last_year
      ↓lastTotal1 [steps.JsonFieldStep-1673867319177]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: currentTotal
        type: number
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: JS
              - →→: conso_total_current_year
      ↓calculTotalAndComputeDate [steps.SimpleStep-1674229589731]: 
        expression: |
          'String.prototype.replaceAll = function(search, replacement) {
              var target = this;
              return target.replace(new RegExp(search, ''g''), replacement);
          };
          
          date_start = date_start.replaceAll(''-'', ''/'')
          date_end = date_end.replaceAll(''-'', ''/'')
          var date = date_start + '' - '' + date_end;'
      ↓jElement_1 [steps.ElementStep-1674229589734]: 
        expression: date
        nodeName: date
      ↓Field [steps.JsonFieldStep-1674229687077]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: total
    ↓jIf_2 [steps.IfStep-1673867751337]: 
      condition: synthese == 'gaz'
      ↓initTotals [steps.SimpleStep-1673867751340]: 
        expression: |
          var conso_total_current_year = 0;
          var conso_total_last_year = 0;
      ↓Iterator [steps.IteratorStep-1673867751343]: 
        sourceDefinition: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: 1673271074791
              - java.lang.String: 
                - ↑value: ./document/sql_output/row
        ↓jSimpleSource [steps.SimpleSourceStep-1673867751346]: 
          sourceDefinition: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: 1673867751343
                - java.lang.String: 
                  - ↑value: ./agg_period/text()
          variableName: currentDate
        ↓getCurrentYear [steps.SimpleStep-1673867751349]: 
          expression: |
            var currentYear = currentDate.substring(0, 4)
            log.warn('labels')
            log.warn(currentYear)
        ↓jIfThenElse [steps.IfThenElseStep-1673867751352]: 
          condition: currentYear == firstYear
          ↓jThen [steps.ThenStep-1673867751355]: 
            ↓jSimpleSource [steps.SimpleSourceStep-1673867751358]: 
              sourceDefinition: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                  - com.twinsoft.convertigo.beans.common.XMLVector: 
                    - java.lang.String: 
                      - ↑value: 1673867751343
                    - java.lang.String: 
                      - ↑value: ./sum_conso_gaz/text()
              variableName: conso
            ↓addTotal [steps.SimpleStep-1673867751361]: 
              expression: |
                conso_total_current_year = conso_total_current_year + Number(conso);
                log.warn(conso_total_current_year)
          ↓jElse [steps.ElseStep-1673867751364]: 
            ↓jSimpleSource [steps.SimpleSourceStep-1673867751367]: 
              sourceDefinition: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                  - com.twinsoft.convertigo.beans.common.XMLVector: 
                    - java.lang.String: 
                      - ↑value: 1673867751343
                    - java.lang.String: 
                      - ↑value: ./sum_conso_gaz/text()
              variableName: conso
            ↓addTotal [steps.SimpleStep-1673867751370]: 
              expression: |
                conso_total_last_year = conso_total_last_year + Number(conso);
                log.warn("lastyear total")
                log.warn(conso_total_last_year)
      ↓calculAugmentation [steps.SimpleStep-1673867751373]: 
        expression: |
          var augmentation = Math.round( ((conso_total_current_year - conso_total_last_year) / conso_total_last_year * 100) * 100) / 100
          log.warn("augmentation")
          log.warn(augmentation)
      ↓needleValue [steps.JsonFieldStep-1673867751376]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: needleValue
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: JS
              - →→: augmentation
      ↓computeBottomLabel [steps.SimpleStep-1673867751379]: 
        expression: |
          'augmentation = ""+augmentation
          log.warn(''aug'')
          log.warn(augmentation)
          if(augmentation.indexOf(''-'') != - 1 ) {
          	var splt = augmentation.split(",");
          	log.warn("splt")
          	log.warn(splt)
          	augmentation = "-" + splt[0] + "%"
          } else {
          	augmentation = "+ " + augmentation + "%"
          }'
      ↓bottomLabel [steps.JsonFieldStep-1673867751382]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: bottomLabel
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: JS
              - →→: augmentation
      ↓options [steps.JsonObjectStep-1673867751385]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: options
        ↓hasNeeldle [steps.JsonFieldStep-1673867751388]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: hasNeedle
          type: bool
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: true
        ↓needleColor [steps.JsonFieldStep-1673867751391]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: needleColor
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: lightgrey
        ↓hasNeeldle2 [steps.JsonFieldStep-1673867751394]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: needleUpdateSpeed
          type: number
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: 1000
        ↓arcColors [steps.JsonArrayStep-1673867751397]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: arcColors
          ↓Field [steps.JsonFieldStep-1673867751400]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(6, 89, 55)
          ↓Field1 [steps.JsonFieldStep-1673867751403]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(15, 170, 108)
          ↓Field2 [steps.JsonFieldStep-1673867751406]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(139, 207, 39)
          ↓Field3 [steps.JsonFieldStep-1673867751409]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(248, 199, 0)
          ↓Field4 [steps.JsonFieldStep-1673867751412]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: rgb(235, 65, 70)
        ↓arcDelimiters [steps.JsonArrayStep-1673867751415]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: arcDelimiters
          ↓Field4 [steps.JsonFieldStep-1673867751418]: 
            type: number
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: 20
          ↓Field5 [steps.JsonFieldStep-1673867751421]: 
            type: number
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: 40
          ↓Field6 [steps.JsonFieldStep-1673867751424]: 
            type: number
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: 60
          ↓Field7 [steps.JsonFieldStep-1673867751427]: 
            type: number
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: 80
        ↓rangeLabel [steps.JsonArrayStep-1673867751430]: 
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: rangeLabel
          ↓Field4 [steps.JsonFieldStep-1673867751433]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: '-20'
          ↓Field5 [steps.JsonFieldStep-1673867751436]: 
            value: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
                - SmartType: 
                  - ↑mode: PLAIN
                  - →→: 5
        ↓needleStartValue [steps.JsonFieldStep-1673867751439]: 
          isEnabled: false
          key: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: needleStartValue
          type: number
          value: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: 20
      ↓roundTotals [steps.SimpleStep-1675086505239]: 
        expression: |
          conso_total_last_year = Math.round( (conso_total_last_year + Number.EPSILON) * 100) / 100
          conso_total_current_year = Math.round( (conso_total_current_year + Number.EPSILON) * 100) / 100
      ↓lastTotal [steps.JsonFieldStep-1673867751442]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: lastTotal
        type: number
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: JS
              - →→: conso_total_last_year
      ↓lastTotal1 [steps.JsonFieldStep-1673867751445]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: currentTotal
        type: number
        value: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: JS
              - →→: conso_total_current_year
      ↓calculTotalAndComputeDate [steps.SimpleStep-1674229592268]: 
        expression: |
          'String.prototype.replaceAll = function(search, replacement) {
              var target = this;
              return target.replace(new RegExp(search, ''g''), replacement);
          };
          
          date_start = date_start.replaceAll(''-'', ''/'')
          date_end = date_end.replaceAll(''-'', ''/'')
          var date = date_start + '' - '' + date_end;'
      ↓jElement_1 [steps.ElementStep-1674229592271]: 
        expression: date
        nodeName: date
      ↓Field [steps.JsonFieldStep-1674229695135]: 
        key: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
            - SmartType: 
              - ↑mode: PLAIN
              - →→: total
↓date_start [variables.RequestableVariable-1673271075154]: 
  description: date_start
↓date_end [variables.RequestableVariable-1673271075157]: 
  description: date_end
↓sites [variables.RequestableVariable-1673271075160]: 
↓agg_function [variables.RequestableVariable-1673271075163]: 
↓synthese [variables.RequestableVariable-1673865490789]: 
↓error [core.TestCase]: 
  ↓date_start [variables.TestCaseVariable-1674226970901]: 
    description: date_start
    value: 2022-01-20
  ↓date_end [variables.TestCaseVariable-1674226970903]: 
    description: date_end
    value: 2022-12-31
  ↓sites [variables.TestCaseVariable-1674226970905]: 
    value: '[13850,14121,14122,14123]'
  ↓agg_function [variables.TestCaseVariable-1674226970907]: 
    value: month
  ↓synthese [variables.TestCaseVariable-1674226970909]: 
    value: global
↓multisiteElec [core.TestCase]: 
  ↓date_start [variables.TestCaseVariable-1673865672814]: 
    description: date_start
    value: 2021-01-01
  ↓date_end [variables.TestCaseVariable-1673865672817]: 
    description: date_end
    value: 2022-12-01
  ↓sites [variables.TestCaseVariable-1673865672820]: 
    value: '[7991, 7626]'
  ↓agg_function [variables.TestCaseVariable-1673865672823]: 
    value: month
  ↓synthese [variables.TestCaseVariable-1673865672826]: 
    value: elec
↓multisiteGaz [core.TestCase]: 
  ↓date_start [variables.TestCaseVariable-1673867796548]: 
    description: date_start
    value: 2021-01-01
  ↓date_end [variables.TestCaseVariable-1673867796551]: 
    description: date_end
    value: 2022-12-01
  ↓sites [variables.TestCaseVariable-1673867796554]: 
    value: '[7991, 7626]'
  ↓agg_function [variables.TestCaseVariable-1673867796557]: 
    value: month
  ↓synthese [variables.TestCaseVariable-1673867796560]: 
    value: gaz
↓multisiteGlobal [core.TestCase]: 
  ↓date_start [variables.TestCaseVariable-1673271075170]: 
    description: date_start
    value: 2021-01-01
  ↓date_end [variables.TestCaseVariable-1673271075173]: 
    description: date_end
    value: 2022-12-01
  ↓sites [variables.TestCaseVariable-1673271075176]: 
    value: '[7991, 7626]'
  ↓agg_function [variables.TestCaseVariable-1673271075179]: 
    value: month
  ↓synthese [variables.TestCaseVariable-1673865578130]: 
    value: global